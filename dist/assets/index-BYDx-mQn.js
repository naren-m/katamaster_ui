function G0(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nf={exports:{}},xa={},Pf={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),X0=Symbol.for("react.portal"),J0=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),sx=Symbol.for("react.forward_ref"),rx=Symbol.for("react.suspense"),ix=Symbol.for("react.memo"),ax=Symbol.for("react.lazy"),_u=Symbol.iterator;function ox(e){return e===null||typeof e!="object"?null:(e=_u&&e[_u]||e["@@iterator"],typeof e=="function"?e:null)}var Cf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tf=Object.assign,Mf={};function Ps(e,t,n){this.props=e,this.context=t,this.refs=Mf,this.updater=n||Cf}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ef(){}Ef.prototype=Ps.prototype;function Xl(e,t,n){this.props=e,this.context=t,this.refs=Mf,this.updater=n||Cf}var Jl=Xl.prototype=new Ef;Jl.constructor=Xl;Tf(Jl,Ps.prototype);Jl.isPureReactComponent=!0;var Du=Array.isArray,_f=Object.prototype.hasOwnProperty,Zl={current:null},Df={key:!0,ref:!0,__self:!0,__source:!0};function Rf(e,t,n){var s,r={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)_f.call(t,s)&&!Df.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Fr,type:e,key:a,ref:o,props:r,_owner:Zl.current}}function lx(e,t){return{$$typeof:Fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fr}function cx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ru=/\/+/g;function Ka(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cx(""+e.key):t.toString(36)}function yi(e,t,n,s,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fr:case X0:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+Ka(o,0):s,Du(r)?(n="",e!=null&&(n=e.replace(Ru,"$&/")+"/"),yi(r,t,n,"",function(u){return u})):r!=null&&(ec(r)&&(r=lx(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Ru,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",Du(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+Ka(a,l);o+=yi(a,t,n,c,r)}else if(c=ox(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+Ka(a,l++),o+=yi(a,t,n,c,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xr(e,t,n){if(e==null)return e;var s=[],r=0;return yi(e,s,"","",function(a){return t.call(n,a,r++)}),s}function ux(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},vi={transition:null},dx={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:vi,ReactCurrentOwner:Zl};function Af(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Xr,forEach:function(e,t,n){Xr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xr(e,function(){t++}),t},toArray:function(e){return Xr(e,function(t){return t})||[]},only:function(e){if(!ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Ps;B.Fragment=J0;B.Profiler=ex;B.PureComponent=Xl;B.StrictMode=Z0;B.Suspense=rx;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;B.act=Af;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Tf({},e.props),r=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Zl.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_f.call(t,c)&&!Df.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Fr,type:e.type,key:r,ref:a,props:s,_owner:o}};B.createContext=function(e){return e={$$typeof:nx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tx,_context:e},e.Consumer=e};B.createElement=Rf;B.createFactory=function(e){var t=Rf.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:sx,render:e}};B.isValidElement=ec;B.lazy=function(e){return{$$typeof:ax,_payload:{_status:-1,_result:e},_init:ux}};B.memo=function(e,t){return{$$typeof:ix,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=vi.transition;vi.transition={};try{e()}finally{vi.transition=t}};B.unstable_act=Af;B.useCallback=function(e,t){return Ae.current.useCallback(e,t)};B.useContext=function(e){return Ae.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ae.current.useEffect(e,t)};B.useId=function(){return Ae.current.useId()};B.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ae.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};B.useRef=function(e){return Ae.current.useRef(e)};B.useState=function(e){return Ae.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Ae.current.useTransition()};B.version="18.3.1";Pf.exports=B;var v=Pf.exports;const _n=Q0(v),hx=G0({__proto__:null,default:_n},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=v,mx=Symbol.for("react.element"),px=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,xx=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yx={key:!0,ref:!0,__self:!0,__source:!0};function Of(e,t,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)gx.call(t,s)&&!yx.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:mx,type:e,key:a,ref:o,props:r,_owner:xx.current}}xa.Fragment=px;xa.jsx=Of;xa.jsxs=Of;Nf.exports=xa;var i=Nf.exports,Lf={exports:{}},Qe={},Ff={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,D){var L=_.length;_.push(D);e:for(;0<L;){var W=L-1>>>1,Z=_[W];if(0<r(Z,D))_[W]=D,_[L]=Z,L=W;else break e}}function n(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var D=_[0],L=_.pop();if(L!==D){_[0]=L;e:for(var W=0,Z=_.length,R=Z>>>1;W<R;){var $=2*(W+1)-1,Le=_[$],yt=$+1,Bn=_[yt];if(0>r(Le,L))yt<Z&&0>r(Bn,Le)?(_[W]=Bn,_[yt]=L,W=yt):(_[W]=Le,_[$]=L,W=$);else if(yt<Z&&0>r(Bn,L))_[W]=Bn,_[yt]=L,W=yt;else break e}}return D}function r(_,D){var L=_.sortIndex-D.sortIndex;return L!==0?L:_.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,g=!1,x=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=_)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function j(_){if(y=!1,w(_),!x)if(n(c)!==null)x=!0,xt(b);else{var D=n(u);D!==null&&Q(j,D.startTime-_)}}function b(_,D){x=!1,y&&(y=!1,m(P),P=-1),g=!0;var L=f;try{for(w(D),d=n(c);d!==null&&(!(d.expirationTime>D)||_&&!M());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var Z=W(d.expirationTime<=D);D=e.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(c)&&s(c),w(D)}else s(c);d=n(c)}if(d!==null)var R=!0;else{var $=n(u);$!==null&&Q(j,$.startTime-D),R=!1}return R}finally{d=null,f=L,g=!1}}var S=!1,C=null,P=-1,N=5,T=-1;function M(){return!(e.unstable_now()-T<N)}function F(){if(C!==null){var _=e.unstable_now();T=_;var D=!0;try{D=C(!0,_)}finally{D?U():(S=!1,C=null)}}else S=!1}var U;if(typeof p=="function")U=function(){p(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,pe=H.port2;H.port1.onmessage=F,U=function(){pe.postMessage(null)}}else U=function(){k(F,0)};function xt(_){C=_,S||(S=!0,U())}function Q(_,D){P=k(function(){_(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,xt(b))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var L=f;f=D;try{return _()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,D){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var L=f;f=_;try{return D()}finally{f=L}},e.unstable_scheduleCallback=function(_,D,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,_){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=L+Z,_={id:h++,callback:D,priorityLevel:_,startTime:L,expirationTime:Z,sortIndex:-1},L>W?(_.sortIndex=L,t(u,_),n(c)===null&&_===n(u)&&(y?(m(P),P=-1):y=!0,Q(j,L-W))):(_.sortIndex=Z,t(c,_),x||g||(x=!0,xt(b))),_},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(_){var D=f;return function(){var L=f;f=D;try{return _.apply(this,arguments)}finally{f=L}}}})(If);Ff.exports=If;var vx=Ff.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=v,Ye=vx;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vf=new Set,ur={};function In(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(ur[e]=t,e=0;e<t.length;e++)Vf.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,bx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Au={},Ou={};function jx(e){return Oo.call(Ou,e)?!0:Oo.call(Au,e)?!1:bx.test(e)?Ou[e]=!0:(Au[e]=!0,!1)}function kx(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sx(e,t,n,s){if(t===null||typeof t>"u"||kx(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,s,r,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var tc=/[\-:]([a-z])/g;function nc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tc,nc);Ne[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tc,nc);Ne[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tc,nc);Ne[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function sc(e,t,n,s){var r=Ne.hasOwnProperty(t)?Ne[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sx(t,n,r,s)&&(n=null),s||r===null?jx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Vt=wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),rc=Symbol.for("react.strict_mode"),Lo=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),ic=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),Io=Symbol.for("react.suspense_list"),ac=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Bf=Symbol.for("react.offscreen"),Lu=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=Lu&&e[Lu]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,Wa;function $s(e){if(Wa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wa=t&&t[1]||""}return`
`+Wa+e}var qa=!1;function Ya(e,t){if(!e||qa)return"";qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{qa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$s(e):""}function Nx(e){switch(e.tag){case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return e=Ya(e.type,!1),e;case 11:return e=Ya(e.type.render,!1),e;case 1:return e=Ya(e.type,!0),e;default:return""}}function Vo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case Kn:return"Portal";case Lo:return"Profiler";case rc:return"StrictMode";case Fo:return"Suspense";case Io:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uf:return(e.displayName||"Context")+".Consumer";case zf:return(e._context.displayName||"Context")+".Provider";case ic:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ac:return t=e.displayName||null,t!==null?t:Vo(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return Vo(e(t))}catch{}}return null}function Px(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vo(t);case 8:return t===rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $f(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cx(e){var t=$f(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zr(e){e._valueTracker||(e._valueTracker=Cx(e))}function Hf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=$f(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zo(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fu(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kf(e,t){t=t.checked,t!=null&&sc(e,"checked",t,!1)}function Uo(e,t){Kf(e,t);var n=on(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bo(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bo(e,t,n){(t!=="number"||Oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hs=Array.isArray;function ls(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function $o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Hs(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function Wf(e,t){var n=on(t.value),s=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ei,Yf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tx=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(e){Tx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qs[t]=Qs[e]})});function Gf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qs.hasOwnProperty(e)&&Qs[e]?(""+t).trim():t+"px"}function Qf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Gf(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Mx=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(e,t){if(t){if(Mx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=null;function oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yo=null,cs=null,us=null;function Uu(e){if(e=zr(e)){if(typeof Yo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ja(t),Yo(e.stateNode,e.type,t))}}function Xf(e){cs?us?us.push(e):us=[e]:cs=e}function Jf(){if(cs){var e=cs,t=us;if(us=cs=null,Uu(e),t)for(e=0;e<t.length;e++)Uu(t[e])}}function Zf(e,t){return e(t)}function em(){}var Ga=!1;function tm(e,t,n){if(Ga)return e(t,n);Ga=!0;try{return Zf(e,t,n)}finally{Ga=!1,(cs!==null||us!==null)&&(em(),Jf())}}function hr(e,t){var n=e.stateNode;if(n===null)return null;var s=ja(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Go=!1;if(At)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Go=!1}function Ex(e,t,n,s,r,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Xs=!1,Li=null,Fi=!1,Qo=null,_x={onError:function(e){Xs=!0,Li=e}};function Dx(e,t,n,s,r,a,o,l,c){Xs=!1,Li=null,Ex.apply(_x,arguments)}function Rx(e,t,n,s,r,a,o,l,c){if(Dx.apply(this,arguments),Xs){if(Xs){var u=Li;Xs=!1,Li=null}else throw Error(E(198));Fi||(Fi=!0,Qo=u)}}function Vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bu(e){if(Vn(e)!==e)throw Error(E(188))}function Ax(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Bu(r),e;if(a===s)return Bu(r),t;a=a.sibling}throw Error(E(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==s)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function sm(e){return e=Ax(e),e!==null?rm(e):null}function rm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rm(e);if(t!==null)return t;e=e.sibling}return null}var im=Ye.unstable_scheduleCallback,$u=Ye.unstable_cancelCallback,Ox=Ye.unstable_shouldYield,Lx=Ye.unstable_requestPaint,me=Ye.unstable_now,Fx=Ye.unstable_getCurrentPriorityLevel,lc=Ye.unstable_ImmediatePriority,am=Ye.unstable_UserBlockingPriority,Ii=Ye.unstable_NormalPriority,Ix=Ye.unstable_LowPriority,om=Ye.unstable_IdlePriority,ya=null,jt=null;function Vx(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Bx,zx=Math.log,Ux=Math.LN2;function Bx(e){return e>>>=0,e===0?32:31-(zx(e)/Ux|0)|0}var ti=64,ni=4194304;function Ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vi(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Ks(l):(a&=o,a!==0&&(s=Ks(a)))}else o=n&~r,o!==0?s=Ks(o):a!==0&&(s=Ks(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-ft(t),r=1<<n,s|=e[n],t&=~r;return s}function $x(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hx(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ft(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=$x(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lm(){var e=ti;return ti<<=1,!(ti&4194240)&&(ti=64),e}function Qa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ir(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=n}function Kx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ft(n),a=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~a}}function cc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ft(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var G=0;function cm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var um,uc,dm,hm,fm,Jo=!1,si=[],Xt=null,Jt=null,Zt=null,fr=new Map,mr=new Map,Wt=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(t.pointerId)}}function As(e,t,n,s,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},t!==null&&(t=zr(t),t!==null&&uc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function qx(e,t,n,s,r){switch(t){case"focusin":return Xt=As(Xt,e,t,n,s,r),!0;case"dragenter":return Jt=As(Jt,e,t,n,s,r),!0;case"mouseover":return Zt=As(Zt,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return fr.set(a,As(fr.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,mr.set(a,As(mr.get(a)||null,e,t,n,s,r)),!0}return!1}function mm(e){var t=Sn(e.target);if(t!==null){var n=Vn(t);if(n!==null){if(t=n.tag,t===13){if(t=nm(n),t!==null){e.blockedOn=t,fm(e.priority,function(){dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);qo=s,n.target.dispatchEvent(s),qo=null}else return t=zr(n),t!==null&&uc(t),e.blockedOn=n,!1;t.shift()}return!0}function Ku(e,t,n){wi(e)&&n.delete(t)}function Yx(){Jo=!1,Xt!==null&&wi(Xt)&&(Xt=null),Jt!==null&&wi(Jt)&&(Jt=null),Zt!==null&&wi(Zt)&&(Zt=null),fr.forEach(Ku),mr.forEach(Ku)}function Os(e,t){e.blockedOn===t&&(e.blockedOn=null,Jo||(Jo=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,Yx)))}function pr(e){function t(r){return Os(r,e)}if(0<si.length){Os(si[0],e);for(var n=1;n<si.length;n++){var s=si[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Xt!==null&&Os(Xt,e),Jt!==null&&Os(Jt,e),Zt!==null&&Os(Zt,e),fr.forEach(t),mr.forEach(t),n=0;n<Wt.length;n++)s=Wt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)mm(n),n.blockedOn===null&&Wt.shift()}var ds=Vt.ReactCurrentBatchConfig,zi=!0;function Gx(e,t,n,s){var r=G,a=ds.transition;ds.transition=null;try{G=1,dc(e,t,n,s)}finally{G=r,ds.transition=a}}function Qx(e,t,n,s){var r=G,a=ds.transition;ds.transition=null;try{G=4,dc(e,t,n,s)}finally{G=r,ds.transition=a}}function dc(e,t,n,s){if(zi){var r=Zo(e,t,n,s);if(r===null)ao(e,t,s,Ui,n),Hu(e,s);else if(qx(r,e,t,n,s))s.stopPropagation();else if(Hu(e,s),t&4&&-1<Wx.indexOf(e)){for(;r!==null;){var a=zr(r);if(a!==null&&um(a),a=Zo(e,t,n,s),a===null&&ao(e,t,s,Ui,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else ao(e,t,s,null,n)}}var Ui=null;function Zo(e,t,n,s){if(Ui=null,e=oc(s),e=Sn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function pm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fx()){case lc:return 1;case am:return 4;case Ii:case Ix:return 16;case om:return 536870912;default:return 16}default:return 16}}var Yt=null,hc=null,bi=null;function gm(){if(bi)return bi;var e,t=hc,n=t.length,s,r="value"in Yt?Yt.value:Yt.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[a-s];s++);return bi=r.slice(e,1<s?1-s:void 0)}function ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Wu(){return!1}function Xe(e){function t(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ri:Wu,this.isPropagationStopped=Wu,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=Xe(Cs),Vr=ue({},Cs,{view:0,detail:0}),Xx=Xe(Vr),Xa,Ja,Ls,va=ue({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(Xa=e.screenX-Ls.screenX,Ja=e.screenY-Ls.screenY):Ja=Xa=0,Ls=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Ja}}),qu=Xe(va),Jx=ue({},va,{dataTransfer:0}),Zx=Xe(Jx),ey=ue({},Vr,{relatedTarget:0}),Za=Xe(ey),ty=ue({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=Xe(ty),sy=ue({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ry=Xe(sy),iy=ue({},Cs,{data:0}),Yu=Xe(iy),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ly[e])?!!t[e]:!1}function mc(){return cy}var uy=ue({},Vr,{key:function(e){if(e.key){var t=ay[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dy=Xe(uy),hy=ue({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=Xe(hy),fy=ue({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),my=Xe(fy),py=ue({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=Xe(py),xy=ue({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=Xe(xy),vy=[9,13,27,32],pc=At&&"CompositionEvent"in window,Js=null;At&&"documentMode"in document&&(Js=document.documentMode);var wy=At&&"TextEvent"in window&&!Js,xm=At&&(!pc||Js&&8<Js&&11>=Js),Qu=" ",Xu=!1;function ym(e,t){switch(e){case"keyup":return vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function by(e,t){switch(e){case"compositionend":return vm(t);case"keypress":return t.which!==32?null:(Xu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Xu?null:e;default:return null}}function jy(e,t){if(qn)return e==="compositionend"||!pc&&ym(e,t)?(e=gm(),bi=hc=Yt=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xm&&t.locale!=="ko"?null:t.data;default:return null}}var ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ky[e.type]:t==="textarea"}function wm(e,t,n,s){Xf(s),t=Bi(t,"onChange"),0<t.length&&(n=new fc("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Zs=null,gr=null;function Sy(e){_m(e,0)}function wa(e){var t=Qn(e);if(Hf(t))return e}function Ny(e,t){if(e==="change")return t}var bm=!1;if(At){var eo;if(At){var to="oninput"in document;if(!to){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),to=typeof Zu.oninput=="function"}eo=to}else eo=!1;bm=eo&&(!document.documentMode||9<document.documentMode)}function ed(){Zs&&(Zs.detachEvent("onpropertychange",jm),gr=Zs=null)}function jm(e){if(e.propertyName==="value"&&wa(gr)){var t=[];wm(t,gr,e,oc(e)),tm(Sy,t)}}function Py(e,t,n){e==="focusin"?(ed(),Zs=t,gr=n,Zs.attachEvent("onpropertychange",jm)):e==="focusout"&&ed()}function Cy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(gr)}function Ty(e,t){if(e==="click")return wa(t)}function My(e,t){if(e==="input"||e==="change")return wa(t)}function Ey(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Ey;function xr(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Oo.call(t,r)||!pt(e[r],t[r]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var n=td(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=td(n)}}function km(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?km(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sm(){for(var e=window,t=Oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oi(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _y(e){var t=Sm(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&km(n.ownerDocument.documentElement,n)){if(s!==null&&gc(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!e.extend&&a>s&&(r=s,s=a,a=r),r=nd(n,a);var o=nd(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dy=At&&"documentMode"in document&&11>=document.documentMode,Yn=null,el=null,er=null,tl=!1;function sd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tl||Yn==null||Yn!==Oi(s)||(s=Yn,"selectionStart"in s&&gc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),er&&xr(er,s)||(er=s,s=Bi(el,"onSelect"),0<s.length&&(t=new fc("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Yn)))}function ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},no={},Nm={};At&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function ba(e){if(no[e])return no[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nm)return no[e]=t[n];return e}var Pm=ba("animationend"),Cm=ba("animationiteration"),Tm=ba("animationstart"),Mm=ba("transitionend"),Em=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){Em.set(e,t),In(t,[e])}for(var so=0;so<rd.length;so++){var ro=rd[so],Ry=ro.toLowerCase(),Ay=ro[0].toUpperCase()+ro.slice(1);dn(Ry,"on"+Ay)}dn(Pm,"onAnimationEnd");dn(Cm,"onAnimationIteration");dn(Tm,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Mm,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function id(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Rx(s,t,void 0,e),e.currentTarget=null}function _m(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;id(r,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;id(r,l,u),a=c}}}if(Fi)throw e=Qo,Fi=!1,Qo=null,e}function te(e,t){var n=t[al];n===void 0&&(n=t[al]=new Set);var s=e+"__bubble";n.has(s)||(Dm(t,e,2,!1),n.add(s))}function io(e,t,n){var s=0;t&&(s|=4),Dm(n,e,s,t)}var ai="_reactListening"+Math.random().toString(36).slice(2);function yr(e){if(!e[ai]){e[ai]=!0,Vf.forEach(function(n){n!=="selectionchange"&&(Oy.has(n)||io(n,!1,e),io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ai]||(t[ai]=!0,io("selectionchange",!1,t))}}function Dm(e,t,n,s){switch(pm(t)){case 1:var r=Gx;break;case 4:r=Qx;break;default:r=dc}n=r.bind(null,t,n,e),r=void 0,!Go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ao(e,t,n,s,r){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Sn(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}tm(function(){var u=a,h=oc(n),d=[];e:{var f=Em.get(e);if(f!==void 0){var g=fc,x=e;switch(e){case"keypress":if(ji(n)===0)break e;case"keydown":case"keyup":g=dy;break;case"focusin":x="focus",g=Za;break;case"focusout":x="blur",g=Za;break;case"beforeblur":case"afterblur":g=Za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=my;break;case Pm:case Cm:case Tm:g=ny;break;case Mm:g=gy;break;case"scroll":g=Xx;break;case"wheel":g=yy;break;case"copy":case"cut":case"paste":g=ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Gu}var y=(t&4)!==0,k=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,m!==null&&(j=hr(p,m),j!=null&&y.push(vr(p,j,w)))),k)break;p=p.return}0<y.length&&(f=new g(f,x,null,n,h),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==qo&&(x=n.relatedTarget||n.fromElement)&&(Sn(x)||x[Ot]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Sn(x):null,x!==null&&(k=Vn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(y=qu,j="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Gu,j="onPointerLeave",m="onPointerEnter",p="pointer"),k=g==null?f:Qn(g),w=x==null?f:Qn(x),f=new y(j,p+"leave",g,n,h),f.target=k,f.relatedTarget=w,j=null,Sn(h)===u&&(y=new y(m,p+"enter",x,n,h),y.target=w,y.relatedTarget=k,j=y),k=j,g&&x)t:{for(y=g,m=x,p=0,w=y;w;w=$n(w))p++;for(w=0,j=m;j;j=$n(j))w++;for(;0<p-w;)y=$n(y),p--;for(;0<w-p;)m=$n(m),w--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=$n(y),m=$n(m)}y=null}else y=null;g!==null&&ad(d,f,g,y,!1),x!==null&&k!==null&&ad(d,k,x,y,!0)}}e:{if(f=u?Qn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var b=Ny;else if(Ju(f))if(bm)b=My;else{b=Cy;var S=Py}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Ty);if(b&&(b=b(e,u))){wm(d,b,n,h);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Bo(f,"number",f.value)}switch(S=u?Qn(u):window,e){case"focusin":(Ju(S)||S.contentEditable==="true")&&(Yn=S,el=u,er=null);break;case"focusout":er=el=Yn=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,sd(d,n,h);break;case"selectionchange":if(Dy)break;case"keydown":case"keyup":sd(d,n,h)}var C;if(pc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else qn?ym(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(xm&&n.locale!=="ko"&&(qn||P!=="onCompositionStart"?P==="onCompositionEnd"&&qn&&(C=gm()):(Yt=h,hc="value"in Yt?Yt.value:Yt.textContent,qn=!0)),S=Bi(u,P),0<S.length&&(P=new Yu(P,e,null,n,h),d.push({event:P,listeners:S}),C?P.data=C:(C=vm(n),C!==null&&(P.data=C)))),(C=wy?by(e,n):jy(e,n))&&(u=Bi(u,"onBeforeInput"),0<u.length&&(h=new Yu("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=C))}_m(d,t)})}function vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bi(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=hr(e,n),a!=null&&s.unshift(vr(e,a,r)),a=hr(e,t),a!=null&&s.push(vr(e,a,r))),e=e.return}return s}function $n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ad(e,t,n,s,r){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=hr(n,a),c!=null&&o.unshift(vr(n,c,l))):r||(c=hr(n,a),c!=null&&o.push(vr(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ly=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function od(e){return(typeof e=="string"?e:""+e).replace(Ly,`
`).replace(Fy,"")}function oi(e,t,n){if(t=od(t),od(e)!==t&&n)throw Error(E(425))}function $i(){}var nl=null,sl=null;function rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(zy)}:il;function zy(e){setTimeout(function(){throw e})}function oo(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),pr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);pr(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),bt="__reactFiber$"+Ts,wr="__reactProps$"+Ts,Ot="__reactContainer$"+Ts,al="__reactEvents$"+Ts,Uy="__reactListeners$"+Ts,By="__reactHandles$"+Ts;function Sn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cd(e);e!==null;){if(n=e[bt])return n;e=cd(e)}return t}e=n,n=e.parentNode}return null}function zr(e){return e=e[bt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ja(e){return e[wr]||null}var ol=[],Xn=-1;function hn(e){return{current:e}}function ne(e){0>Xn||(e.current=ol[Xn],ol[Xn]=null,Xn--)}function J(e,t){Xn++,ol[Xn]=e.current,e.current=t}var ln={},_e=hn(ln),Ve=hn(!1),Dn=ln;function ps(e,t){var n=e.type.contextTypes;if(!n)return ln;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function ze(e){return e=e.childContextTypes,e!=null}function Hi(){ne(Ve),ne(_e)}function ud(e,t,n){if(_e.current!==ln)throw Error(E(168));J(_e,t),J(Ve,n)}function Rm(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(E(108,Px(e)||"Unknown",r));return ue({},n,s)}function Ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,Dn=_e.current,J(_e,e),J(Ve,Ve.current),!0}function dd(e,t,n){var s=e.stateNode;if(!s)throw Error(E(169));n?(e=Rm(e,t,Dn),s.__reactInternalMemoizedMergedChildContext=e,ne(Ve),ne(_e),J(_e,e)):ne(Ve),J(Ve,n)}var Tt=null,ka=!1,lo=!1;function Am(e){Tt===null?Tt=[e]:Tt.push(e)}function $y(e){ka=!0,Am(e)}function fn(){if(!lo&&Tt!==null){lo=!0;var e=0,t=G;try{var n=Tt;for(G=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Tt=null,ka=!1}catch(r){throw Tt!==null&&(Tt=Tt.slice(e+1)),im(lc,fn),r}finally{G=t,lo=!1}}return null}var Jn=[],Zn=0,Wi=null,qi=0,et=[],tt=0,Rn=null,Mt=1,Et="";function vn(e,t){Jn[Zn++]=qi,Jn[Zn++]=Wi,Wi=e,qi=t}function Om(e,t,n){et[tt++]=Mt,et[tt++]=Et,et[tt++]=Rn,Rn=e;var s=Mt;e=Et;var r=32-ft(s)-1;s&=~(1<<r),n+=1;var a=32-ft(t)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Mt=1<<32-ft(t)+r|n<<r|s,Et=a+e}else Mt=1<<a|n<<r|s,Et=e}function xc(e){e.return!==null&&(vn(e,1),Om(e,1,0))}function yc(e){for(;e===Wi;)Wi=Jn[--Zn],Jn[Zn]=null,qi=Jn[--Zn],Jn[Zn]=null;for(;e===Rn;)Rn=et[--tt],et[tt]=null,Et=et[--tt],et[tt]=null,Mt=et[--tt],et[tt]=null}var We=null,Ke=null,ie=!1,ht=null;function Lm(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Ke=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rn!==null?{id:Mt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,Ke=null,!0):!1;default:return!1}}function ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(ie){var t=Ke;if(t){var n=t;if(!hd(e,t)){if(ll(e))throw Error(E(418));t=en(n.nextSibling);var s=We;t&&hd(e,t)?Lm(s,n):(e.flags=e.flags&-4097|2,ie=!1,We=e)}}else{if(ll(e))throw Error(E(418));e.flags=e.flags&-4097|2,ie=!1,We=e}}}function fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function li(e){if(e!==We)return!1;if(!ie)return fd(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rl(e.type,e.memoizedProps)),t&&(t=Ke)){if(ll(e))throw Fm(),Error(E(418));for(;t;)Lm(e,t),t=en(t.nextSibling)}if(fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=We?en(e.stateNode.nextSibling):null;return!0}function Fm(){for(var e=Ke;e;)e=en(e.nextSibling)}function gs(){Ke=We=null,ie=!1}function vc(e){ht===null?ht=[e]:ht.push(e)}var Hy=Vt.ReactCurrentBatchConfig;function Fs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var s=n.stateNode}if(!s)throw Error(E(147,e));var r=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function ci(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function md(e){var t=e._init;return t(e._payload)}function Im(e){function t(m,p){if(e){var w=m.deletions;w===null?(m.deletions=[p],m.flags|=16):w.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function s(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function r(m,p){return m=rn(m,p),m.index=0,m.sibling=null,m}function a(m,p,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<p?(m.flags|=2,p):w):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,w,j){return p===null||p.tag!==6?(p=go(w,m.mode,j),p.return=m,p):(p=r(p,w),p.return=m,p)}function c(m,p,w,j){var b=w.type;return b===Wn?h(m,p,w.props.children,j,w.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===$t&&md(b)===p.type)?(j=r(p,w.props),j.ref=Fs(m,p,w),j.return=m,j):(j=Mi(w.type,w.key,w.props,null,m.mode,j),j.ref=Fs(m,p,w),j.return=m,j)}function u(m,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=xo(w,m.mode,j),p.return=m,p):(p=r(p,w.children||[]),p.return=m,p)}function h(m,p,w,j,b){return p===null||p.tag!==7?(p=Mn(w,m.mode,j,b),p.return=m,p):(p=r(p,w),p.return=m,p)}function d(m,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=go(""+p,m.mode,w),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Jr:return w=Mi(p.type,p.key,p.props,null,m.mode,w),w.ref=Fs(m,null,p),w.return=m,w;case Kn:return p=xo(p,m.mode,w),p.return=m,p;case $t:var j=p._init;return d(m,j(p._payload),w)}if(Hs(p)||Ds(p))return p=Mn(p,m.mode,w,null),p.return=m,p;ci(m,p)}return null}function f(m,p,w,j){var b=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:l(m,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jr:return w.key===b?c(m,p,w,j):null;case Kn:return w.key===b?u(m,p,w,j):null;case $t:return b=w._init,f(m,p,b(w._payload),j)}if(Hs(w)||Ds(w))return b!==null?null:h(m,p,w,j,null);ci(m,w)}return null}function g(m,p,w,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(w)||null,l(p,m,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Jr:return m=m.get(j.key===null?w:j.key)||null,c(p,m,j,b);case Kn:return m=m.get(j.key===null?w:j.key)||null,u(p,m,j,b);case $t:var S=j._init;return g(m,p,w,S(j._payload),b)}if(Hs(j)||Ds(j))return m=m.get(w)||null,h(p,m,j,b,null);ci(p,j)}return null}function x(m,p,w,j){for(var b=null,S=null,C=p,P=p=0,N=null;C!==null&&P<w.length;P++){C.index>P?(N=C,C=null):N=C.sibling;var T=f(m,C,w[P],j);if(T===null){C===null&&(C=N);break}e&&C&&T.alternate===null&&t(m,C),p=a(T,p,P),S===null?b=T:S.sibling=T,S=T,C=N}if(P===w.length)return n(m,C),ie&&vn(m,P),b;if(C===null){for(;P<w.length;P++)C=d(m,w[P],j),C!==null&&(p=a(C,p,P),S===null?b=C:S.sibling=C,S=C);return ie&&vn(m,P),b}for(C=s(m,C);P<w.length;P++)N=g(C,m,P,w[P],j),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?P:N.key),p=a(N,p,P),S===null?b=N:S.sibling=N,S=N);return e&&C.forEach(function(M){return t(m,M)}),ie&&vn(m,P),b}function y(m,p,w,j){var b=Ds(w);if(typeof b!="function")throw Error(E(150));if(w=b.call(w),w==null)throw Error(E(151));for(var S=b=null,C=p,P=p=0,N=null,T=w.next();C!==null&&!T.done;P++,T=w.next()){C.index>P?(N=C,C=null):N=C.sibling;var M=f(m,C,T.value,j);if(M===null){C===null&&(C=N);break}e&&C&&M.alternate===null&&t(m,C),p=a(M,p,P),S===null?b=M:S.sibling=M,S=M,C=N}if(T.done)return n(m,C),ie&&vn(m,P),b;if(C===null){for(;!T.done;P++,T=w.next())T=d(m,T.value,j),T!==null&&(p=a(T,p,P),S===null?b=T:S.sibling=T,S=T);return ie&&vn(m,P),b}for(C=s(m,C);!T.done;P++,T=w.next())T=g(C,m,P,T.value,j),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),p=a(T,p,P),S===null?b=T:S.sibling=T,S=T);return e&&C.forEach(function(F){return t(m,F)}),ie&&vn(m,P),b}function k(m,p,w,j){if(typeof w=="object"&&w!==null&&w.type===Wn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jr:e:{for(var b=w.key,S=p;S!==null;){if(S.key===b){if(b=w.type,b===Wn){if(S.tag===7){n(m,S.sibling),p=r(S,w.props.children),p.return=m,m=p;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===$t&&md(b)===S.type){n(m,S.sibling),p=r(S,w.props),p.ref=Fs(m,S,w),p.return=m,m=p;break e}n(m,S);break}else t(m,S);S=S.sibling}w.type===Wn?(p=Mn(w.props.children,m.mode,j,w.key),p.return=m,m=p):(j=Mi(w.type,w.key,w.props,null,m.mode,j),j.ref=Fs(m,p,w),j.return=m,m=j)}return o(m);case Kn:e:{for(S=w.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(m,p.sibling),p=r(p,w.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=xo(w,m.mode,j),p.return=m,m=p}return o(m);case $t:return S=w._init,k(m,p,S(w._payload),j)}if(Hs(w))return x(m,p,w,j);if(Ds(w))return y(m,p,w,j);ci(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(m,p.sibling),p=r(p,w),p.return=m,m=p):(n(m,p),p=go(w,m.mode,j),p.return=m,m=p),o(m)):n(m,p)}return k}var xs=Im(!0),Vm=Im(!1),Yi=hn(null),Gi=null,es=null,wc=null;function bc(){wc=es=Gi=null}function jc(e){var t=Yi.current;ne(Yi),e._currentValue=t}function ul(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function hs(e,t){Gi=e,wc=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(wc!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(Gi===null)throw Error(E(308));es=e,Gi.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var Nn=null;function kc(e){Nn===null?Nn=[e]:Nn.push(e)}function zm(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,kc(t)):(n.next=r.next,r.next=n),t.interleaved=n,Lt(e,s)}function Lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function Sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Um(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Lt(e,n)}return r=s.interleaved,r===null?(t.next=t,kc(s)):(t.next=r.next,r.next=t),s.interleaved=t,Lt(e,n)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,cc(e,n)}}function pd(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qi(e,t,n,s){var r=e.updateQueue;Ht=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var d=r.baseState;o=0,h=u=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((s&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,y=l;switch(f=t,g=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){d=x.call(g,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(g,d,f):x,f==null)break e;d=ue({},d,f);break e;case 2:Ht=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=d):h=h.next=g,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(c=d),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=h,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);On|=o,e.lanes=o,e.memoizedState=d}}function gd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(E(191,r));r.call(s)}}}var Ur={},kt=hn(Ur),br=hn(Ur),jr=hn(Ur);function Pn(e){if(e===Ur)throw Error(E(174));return e}function Nc(e,t){switch(J(jr,t),J(br,e),J(kt,Ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ho(t,e)}ne(kt),J(kt,t)}function ys(){ne(kt),ne(br),ne(jr)}function Bm(e){Pn(jr.current);var t=Pn(kt.current),n=Ho(t,e.type);t!==n&&(J(br,e),J(kt,n))}function Pc(e){br.current===e&&(ne(kt),ne(br))}var oe=hn(0);function Xi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function Cc(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var Si=Vt.ReactCurrentDispatcher,uo=Vt.ReactCurrentBatchConfig,An=0,ce=null,ye=null,we=null,Ji=!1,tr=!1,kr=0,Ky=0;function Pe(){throw Error(E(321))}function Tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Mc(e,t,n,s,r,a){if(An=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?Gy:Qy,e=n(s,r),tr){a=0;do{if(tr=!1,kr=0,25<=a)throw Error(E(301));a+=1,we=ye=null,t.updateQueue=null,Si.current=Xy,e=n(s,r)}while(tr)}if(Si.current=Zi,t=ye!==null&&ye.next!==null,An=0,we=ye=ce=null,Ji=!1,t)throw Error(E(300));return e}function Ec(){var e=kr!==0;return kr=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ce.memoizedState=we=e:we=we.next=e,we}function it(){if(ye===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=we===null?ce.memoizedState:we.next;if(t!==null)we=t,ye=e;else{if(e===null)throw Error(E(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},we===null?ce.memoizedState=we=e:we=we.next=e}return we}function Sr(e,t){return typeof t=="function"?t(e):t}function ho(e){var t=it(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var s=ye,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((An&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=s):c=c.next=d,ce.lanes|=h,On|=h}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,pt(s,t.memoizedState)||(Ie=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do a=r.lane,ce.lanes|=a,On|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fo(e){var t=it(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=e(a,o.action),o=o.next;while(o!==r);pt(a,t.memoizedState)||(Ie=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function $m(){}function Hm(e,t){var n=ce,s=it(),r=t(),a=!pt(s.memoizedState,r);if(a&&(s.memoizedState=r,Ie=!0),s=s.queue,_c(qm.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Nr(9,Wm.bind(null,n,s,r,t),void 0,null),be===null)throw Error(E(349));An&30||Km(n,t,r)}return r}function Km(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wm(e,t,n,s){t.value=n,t.getSnapshot=s,Ym(t)&&Gm(e)}function qm(e,t,n){return n(function(){Ym(t)&&Gm(e)})}function Ym(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Gm(e){var t=Lt(e,1);t!==null&&mt(t,e,1,-1)}function xd(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:e},t.queue=e,e=e.dispatch=Yy.bind(null,ce,e),[t.memoizedState,e]}function Nr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Qm(){return it().memoizedState}function Ni(e,t,n,s){var r=wt();ce.flags|=e,r.memoizedState=Nr(1|t,n,void 0,s===void 0?null:s)}function Sa(e,t,n,s){var r=it();s=s===void 0?null:s;var a=void 0;if(ye!==null){var o=ye.memoizedState;if(a=o.destroy,s!==null&&Tc(s,o.deps)){r.memoizedState=Nr(t,n,a,s);return}}ce.flags|=e,r.memoizedState=Nr(1|t,n,a,s)}function yd(e,t){return Ni(8390656,8,e,t)}function _c(e,t){return Sa(2048,8,e,t)}function Xm(e,t){return Sa(4,2,e,t)}function Jm(e,t){return Sa(4,4,e,t)}function Zm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ep(e,t,n){return n=n!=null?n.concat([e]):null,Sa(4,4,Zm.bind(null,t,e),n)}function Dc(){}function tp(e,t){var n=it();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Tc(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function np(e,t){var n=it();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Tc(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function sp(e,t,n){return An&21?(pt(n,t)||(n=lm(),ce.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function Wy(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var s=uo.transition;uo.transition={};try{e(!1),t()}finally{G=n,uo.transition=s}}function rp(){return it().memoizedState}function qy(e,t,n){var s=sn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},ip(e))ap(t,n);else if(n=zm(e,t,n,s),n!==null){var r=Re();mt(n,e,s,r),op(n,t,s)}}function Yy(e,t,n){var s=sn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(ip(e))ap(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,pt(l,o)){var c=t.interleaved;c===null?(r.next=r,kc(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=zm(e,t,r,s),n!==null&&(r=Re(),mt(n,e,s,r),op(n,t,s))}}function ip(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function ap(e,t){tr=Ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function op(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,cc(e,n)}}var Zi={readContext:rt,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Gy={readContext:rt,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:yd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4194308,4,Zm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ni(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=wt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=qy.bind(null,ce,e),[s.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:xd,useDebugValue:Dc,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=xd(!1),t=e[0];return e=Wy.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ce,r=wt();if(ie){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),be===null)throw Error(E(349));An&30||Km(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,yd(qm.bind(null,s,a,e),[e]),s.flags|=2048,Nr(9,Wm.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=wt(),t=be.identifierPrefix;if(ie){var n=Et,s=Mt;n=(s&~(1<<32-ft(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=kr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ky++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qy={readContext:rt,useCallback:tp,useContext:rt,useEffect:_c,useImperativeHandle:ep,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:np,useReducer:ho,useRef:Qm,useState:function(){return ho(Sr)},useDebugValue:Dc,useDeferredValue:function(e){var t=it();return sp(t,ye.memoizedState,e)},useTransition:function(){var e=ho(Sr)[0],t=it().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Hm,useId:rp,unstable_isNewReconciler:!1},Xy={readContext:rt,useCallback:tp,useContext:rt,useEffect:_c,useImperativeHandle:ep,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:np,useReducer:fo,useRef:Qm,useState:function(){return fo(Sr)},useDebugValue:Dc,useDeferredValue:function(e){var t=it();return ye===null?t.memoizedState=e:sp(t,ye.memoizedState,e)},useTransition:function(){var e=fo(Sr)[0],t=it().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Hm,useId:rp,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Na={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Re(),r=sn(e),a=_t(s,r);a.payload=t,n!=null&&(a.callback=n),t=tn(e,a,r),t!==null&&(mt(t,e,r,s),ki(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Re(),r=sn(e),a=_t(s,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=tn(e,a,r),t!==null&&(mt(t,e,r,s),ki(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),s=sn(e),r=_t(n,s);r.tag=2,t!=null&&(r.callback=t),t=tn(e,r,s),t!==null&&(mt(t,e,s,n),ki(t,e,s))}};function vd(e,t,n,s,r,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!xr(n,s)||!xr(r,a):!0}function lp(e,t,n){var s=!1,r=ln,a=t.contextType;return typeof a=="object"&&a!==null?a=rt(a):(r=ze(t)?Dn:_e.current,s=t.contextTypes,a=(s=s!=null)?ps(e,r):ln),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Na,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function wd(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Na.enqueueReplaceState(t,t.state,null)}function hl(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Sc(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=rt(a):(a=ze(t)?Dn:_e.current,r.context=ps(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dl(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Na.enqueueReplaceState(r,r.state,null),Qi(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function vs(e,t){try{var n="",s=t;do n+=Nx(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jy=typeof WeakMap=="function"?WeakMap:Map;function cp(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ta||(ta=!0,kl=s),fl(e,t)},n}function up(e,t,n){n=_t(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){fl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){fl(e,t),typeof s!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function bd(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Jy;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=hv.bind(null,e,t,n),t.then(e,e))}function jd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kd(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var Zy=Vt.ReactCurrentOwner,Ie=!1;function De(e,t,n,s){t.child=e===null?Vm(t,null,n,s):xs(t,e.child,n,s)}function Sd(e,t,n,s,r){n=n.render;var a=t.ref;return hs(t,r),s=Mc(e,t,n,s,a,r),n=Ec(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ft(e,t,r)):(ie&&n&&xc(t),t.flags|=1,De(e,t,s,r),t.child)}function Nd(e,t,n,s,r){if(e===null){var a=n.type;return typeof a=="function"&&!zc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,dp(e,t,a,s,r)):(e=Mi(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(o,s)&&e.ref===t.ref)return Ft(e,t,r)}return t.flags|=1,e=rn(a,s),e.ref=t.ref,e.return=t,t.child=e}function dp(e,t,n,s,r){if(e!==null){var a=e.memoizedProps;if(xr(a,s)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=s=a,(e.lanes&r)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Ft(e,t,r)}return ml(e,t,n,s,r)}function hp(e,t,n){var s=t.pendingProps,r=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(ns,He),He|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(ns,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,J(ns,He),He|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,J(ns,He),He|=s;return De(e,t,r,n),t.child}function fp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,n,s,r){var a=ze(n)?Dn:_e.current;return a=ps(t,a),hs(t,r),n=Mc(e,t,n,s,a,r),s=Ec(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ft(e,t,r)):(ie&&s&&xc(t),t.flags|=1,De(e,t,n,r),t.child)}function Pd(e,t,n,s,r){if(ze(n)){var a=!0;Ki(t)}else a=!1;if(hs(t,r),t.stateNode===null)Pi(e,t),lp(t,n,s),hl(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=ze(n)?Dn:_e.current,u=ps(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&wd(t,o,s,u),Ht=!1;var f=t.memoizedState;o.state=f,Qi(t,s,o,r),c=t.memoizedState,l!==s||f!==c||Ve.current||Ht?(typeof h=="function"&&(dl(t,n,h,s),c=t.memoizedState),(l=Ht||vd(t,n,l,s,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Um(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ut(t.type,l),o.props=u,d=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=rt(c):(c=ze(n)?Dn:_e.current,c=ps(t,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&wd(t,o,s,c),Ht=!1,f=t.memoizedState,o.state=f,Qi(t,s,o,r);var x=t.memoizedState;l!==d||f!==x||Ve.current||Ht?(typeof g=="function"&&(dl(t,n,g,s),x=t.memoizedState),(u=Ht||vd(t,n,u,s,f,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return pl(e,t,n,s,a,r)}function pl(e,t,n,s,r,a){fp(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&dd(t,n,!1),Ft(e,t,a);s=t.stateNode,Zy.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=xs(t,e.child,null,a),t.child=xs(t,null,l,a)):De(e,t,l,a),t.memoizedState=s.state,r&&dd(t,n,!0),t.child}function mp(e){var t=e.stateNode;t.pendingContext?ud(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ud(e,t.context,!1),Nc(e,t.containerInfo)}function Cd(e,t,n,s,r){return gs(),vc(r),t.flags|=256,De(e,t,n,s),t.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function pp(e,t,n){var s=t.pendingProps,r=oe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),J(oe,r&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ta(o,s,0,null),e=Mn(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=xl(n),t.memoizedState=gl,e):Rc(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return ev(e,t,o,s,l,r,n);if(a){a=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=rn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=rn(l,a):(a=Mn(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?xl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=gl,s}return a=e.child,e=a.sibling,s=rn(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Rc(e,t){return t=Ta({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ui(e,t,n,s){return s!==null&&vc(s),xs(t,e.child,null,n),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ev(e,t,n,s,r,a,o){if(n)return t.flags&256?(t.flags&=-257,s=mo(Error(E(422))),ui(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,r=t.mode,s=Ta({mode:"visible",children:s.children},r,0,null),a=Mn(a,r,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&xs(t,e.child,null,o),t.child.memoizedState=xl(o),t.memoizedState=gl,a);if(!(t.mode&1))return ui(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(E(419)),s=mo(a,s,void 0),ui(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ie||l){if(s=be,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Lt(e,r),mt(s,e,r,-1))}return Vc(),s=mo(Error(E(421))),ui(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=fv.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,Ke=en(r.nextSibling),We=t,ie=!0,ht=null,e!==null&&(et[tt++]=Mt,et[tt++]=Et,et[tt++]=Rn,Mt=e.id,Et=e.overflow,Rn=t),t=Rc(t,s.children),t.flags|=4096,t)}function Td(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ul(e.return,t,n)}function po(e,t,n,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function gp(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(De(e,t,s.children,n),s=oe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Td(e,n,t);else if(e.tag===19)Td(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(J(oe,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Xi(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),po(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Xi(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}po(t,!0,n,null,a);break;case"together":po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tv(e,t,n){switch(t.tag){case 3:mp(t),gs();break;case 5:Bm(t);break;case 1:ze(t.type)&&Ki(t);break;case 4:Nc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;J(Yi,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(J(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?pp(e,t,n):(J(oe,oe.current&1),e=Ft(e,t,n),e!==null?e.sibling:null);J(oe,oe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return gp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),J(oe,oe.current),s)break;return null;case 22:case 23:return t.lanes=0,hp(e,t,n)}return Ft(e,t,n)}var xp,yl,yp,vp;xp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yl=function(){};yp=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Pn(kt.current);var a=null;switch(n){case"input":r=zo(e,r),s=zo(e,s),a=[];break;case"select":r=ue({},r,{value:void 0}),s=ue({},s,{value:void 0}),a=[];break;case"textarea":r=$o(e,r),s=$o(e,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=$i)}Ko(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ur.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ur.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&te("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};vp=function(e,t,n,s){n!==s&&(t.flags|=4)};function Is(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function nv(e,t,n){var s=t.pendingProps;switch(yc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return ze(t.type)&&Hi(),Ce(t),null;case 3:return s=t.stateNode,ys(),ne(Ve),ne(_e),Cc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(li(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Pl(ht),ht=null))),yl(e,t),Ce(t),null;case 5:Pc(t);var r=Pn(jr.current);if(n=t.type,e!==null&&t.stateNode!=null)yp(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(E(166));return Ce(t),null}if(e=Pn(kt.current),li(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[bt]=t,s[wr]=a,e=(t.mode&1)!==0,n){case"dialog":te("cancel",s),te("close",s);break;case"iframe":case"object":case"embed":te("load",s);break;case"video":case"audio":for(r=0;r<Ws.length;r++)te(Ws[r],s);break;case"source":te("error",s);break;case"img":case"image":case"link":te("error",s),te("load",s);break;case"details":te("toggle",s);break;case"input":Fu(s,a),te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},te("invalid",s);break;case"textarea":Vu(s,a),te("invalid",s)}Ko(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&oi(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&oi(s.textContent,l,e),r=["children",""+l]):ur.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",s)}switch(n){case"input":Zr(s),Iu(s,a,!0);break;case"textarea":Zr(s),zu(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=$i)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[bt]=t,e[wr]=s,xp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wo(n,s),n){case"dialog":te("cancel",e),te("close",e),r=s;break;case"iframe":case"object":case"embed":te("load",e),r=s;break;case"video":case"audio":for(r=0;r<Ws.length;r++)te(Ws[r],e);r=s;break;case"source":te("error",e),r=s;break;case"img":case"image":case"link":te("error",e),te("load",e),r=s;break;case"details":te("toggle",e),r=s;break;case"input":Fu(e,s),r=zo(e,s),te("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=ue({},s,{value:void 0}),te("invalid",e);break;case"textarea":Vu(e,s),r=$o(e,s),te("invalid",e);break;default:r=s}Ko(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Qf(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yf(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&dr(e,c):typeof c=="number"&&dr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ur.hasOwnProperty(a)?c!=null&&a==="onScroll"&&te("scroll",e):c!=null&&sc(e,a,c,o))}switch(n){case"input":Zr(e),Iu(e,s,!1);break;case"textarea":Zr(e),zu(e);break;case"option":s.value!=null&&e.setAttribute("value",""+on(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?ls(e,!!s.multiple,a,!1):s.defaultValue!=null&&ls(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)vp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(E(166));if(n=Pn(jr.current),Pn(kt.current),li(t)){if(s=t.stateNode,n=t.memoizedProps,s[bt]=t,(a=s.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:oi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oi(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[bt]=t,t.stateNode=s}return Ce(t),null;case 13:if(ne(oe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ke!==null&&t.mode&1&&!(t.flags&128))Fm(),gs(),t.flags|=98560,a=!1;else if(a=li(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(E(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[bt]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),a=!1}else ht!==null&&(Pl(ht),ht=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?ve===0&&(ve=3):Vc())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return ys(),yl(e,t),e===null&&yr(t.stateNode.containerInfo),Ce(t),null;case 10:return jc(t.type._context),Ce(t),null;case 17:return ze(t.type)&&Hi(),Ce(t),null;case 19:if(ne(oe),a=t.memoizedState,a===null)return Ce(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Is(a,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xi(e),o!==null){for(t.flags|=128,Is(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&me()>ws&&(t.flags|=128,s=!0,Is(a,!1),t.lanes=4194304)}else{if(!s)if(e=Xi(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Is(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ie)return Ce(t),null}else 2*me()-a.renderingStartTime>ws&&n!==1073741824&&(t.flags|=128,s=!0,Is(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=me(),t.sibling=null,n=oe.current,J(oe,s?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return Ic(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?He&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function sv(e,t){switch(yc(t),t.tag){case 1:return ze(t.type)&&Hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ys(),ne(Ve),ne(_e),Cc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pc(t),null;case 13:if(ne(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(oe),null;case 4:return ys(),null;case 10:return jc(t.type._context),null;case 22:case 23:return Ic(),null;case 24:return null;default:return null}}var di=!1,Me=!1,rv=typeof WeakSet=="function"?WeakSet:Set,A=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){he(e,t,s)}else n.current=null}function vl(e,t,n){try{n()}catch(s){he(e,t,s)}}var Md=!1;function iv(e,t){if(nl=zi,e=Sm(),gc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var g;d!==n||r!==0&&d.nodeType!==3||(l=o+r),d!==a||s!==0&&d.nodeType!==3||(c=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===r&&(l=o),f===a&&++h===s&&(c=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sl={focusedElem:e,selectionRange:n},zi=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,k=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:ut(t.type,y),k);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(j){he(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return x=Md,Md=!1,x}function nr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&vl(t,n,a)}r=r.next}while(r!==s)}}function Pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function wl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wp(e){var t=e.alternate;t!==null&&(e.alternate=null,wp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[wr],delete t[al],delete t[Uy],delete t[By])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bp(e){return e.tag===5||e.tag===3||e.tag===4}function Ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$i));else if(s!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}function jl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(jl(e,t,n),e=e.sibling;e!==null;)jl(e,t,n),e=e.sibling}var je=null,dt=!1;function zt(e,t,n){for(n=n.child;n!==null;)jp(e,t,n),n=n.sibling}function jp(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:Me||ts(n,t);case 6:var s=je,r=dt;je=null,zt(e,t,n),je=s,dt=r,je!==null&&(dt?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(dt?(e=je,n=n.stateNode,e.nodeType===8?oo(e.parentNode,n):e.nodeType===1&&oo(e,n),pr(e)):oo(je,n.stateNode));break;case 4:s=je,r=dt,je=n.stateNode.containerInfo,dt=!0,zt(e,t,n),je=s,dt=r;break;case 0:case 11:case 14:case 15:if(!Me&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&vl(n,t,o),r=r.next}while(r!==s)}zt(e,t,n);break;case 1:if(!Me&&(ts(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){he(n,t,l)}zt(e,t,n);break;case 21:zt(e,t,n);break;case 22:n.mode&1?(Me=(s=Me)||n.memoizedState!==null,zt(e,t,n),Me=s):zt(e,t,n);break;default:zt(e,t,n)}}function _d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rv),t.forEach(function(s){var r=mv.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:je=l.stateNode,dt=!1;break e;case 3:je=l.stateNode.containerInfo,dt=!0;break e;case 4:je=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(je===null)throw Error(E(160));jp(a,o,r),je=null,dt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){he(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kp(t,e),t=t.sibling}function kp(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),vt(e),s&4){try{nr(3,e,e.return),Pa(3,e)}catch(y){he(e,e.return,y)}try{nr(5,e,e.return)}catch(y){he(e,e.return,y)}}break;case 1:lt(t,e),vt(e),s&512&&n!==null&&ts(n,n.return);break;case 5:if(lt(t,e),vt(e),s&512&&n!==null&&ts(n,n.return),e.flags&32){var r=e.stateNode;try{dr(r,"")}catch(y){he(e,e.return,y)}}if(s&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Kf(r,a),Wo(l,o);var u=Wo(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?Qf(r,d):h==="dangerouslySetInnerHTML"?Yf(r,d):h==="children"?dr(r,d):sc(r,h,d,u)}switch(l){case"input":Uo(r,a);break;case"textarea":Wf(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?ls(r,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?ls(r,!!a.multiple,a.defaultValue,!0):ls(r,!!a.multiple,a.multiple?[]:"",!1))}r[wr]=a}catch(y){he(e,e.return,y)}}break;case 6:if(lt(t,e),vt(e),s&4){if(e.stateNode===null)throw Error(E(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(y){he(e,e.return,y)}}break;case 3:if(lt(t,e),vt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{pr(t.containerInfo)}catch(y){he(e,e.return,y)}break;case 4:lt(t,e),vt(e);break;case 13:lt(t,e),vt(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Lc=me())),s&4&&_d(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||h,lt(t,e),Me=u):lt(t,e),vt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(A=e,h=e.child;h!==null;){for(d=A=h;A!==null;){switch(f=A,g=f.child,f.tag){case 0:case 11:case 14:case 15:nr(4,f,f.return);break;case 1:ts(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){he(s,n,y)}}break;case 5:ts(f,f.return);break;case 22:if(f.memoizedState!==null){Rd(d);continue}}g!==null?(g.return=f,A=g):Rd(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Gf("display",o))}catch(y){he(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){he(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:lt(t,e),vt(e),s&4&&_d(e);break;case 21:break;default:lt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bp(n)){var s=n;break e}n=n.return}throw Error(E(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(dr(r,""),s.flags&=-33);var a=Ed(e);jl(e,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Ed(e);bl(e,l,o);break;default:throw Error(E(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function av(e,t,n){A=e,Sp(e)}function Sp(e,t,n){for(var s=(e.mode&1)!==0;A!==null;){var r=A,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||di;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Me;l=di;var u=Me;if(di=o,(Me=c)&&!u)for(A=r;A!==null;)o=A,c=o.child,o.tag===22&&o.memoizedState!==null?Ad(r):c!==null?(c.return=o,A=c):Ad(r);for(;a!==null;)A=a,Sp(a),a=a.sibling;A=r,di=l,Me=u}Dd(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,A=a):Dd(e)}}function Dd(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Pa(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Me)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ut(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gd(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&pr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Me||t.flags&512&&wl(t)}catch(f){he(t,t.return,f)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Rd(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Ad(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pa(4,t)}catch(c){he(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){he(t,r,c)}}var a=t.return;try{wl(t)}catch(c){he(t,a,c)}break;case 5:var o=t.return;try{wl(t)}catch(c){he(t,o,c)}}}catch(c){he(t,t.return,c)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var ov=Math.ceil,ea=Vt.ReactCurrentDispatcher,Ac=Vt.ReactCurrentOwner,st=Vt.ReactCurrentBatchConfig,K=0,be=null,ge=null,Se=0,He=0,ns=hn(0),ve=0,Pr=null,On=0,Ca=0,Oc=0,sr=null,Fe=null,Lc=0,ws=1/0,Ct=null,ta=!1,kl=null,nn=null,hi=!1,Gt=null,na=0,rr=0,Sl=null,Ci=-1,Ti=0;function Re(){return K&6?me():Ci!==-1?Ci:Ci=me()}function sn(e){return e.mode&1?K&2&&Se!==0?Se&-Se:Hy.transition!==null?(Ti===0&&(Ti=lm()),Ti):(e=G,e!==0||(e=window.event,e=e===void 0?16:pm(e.type)),e):1}function mt(e,t,n,s){if(50<rr)throw rr=0,Sl=null,Error(E(185));Ir(e,n,s),(!(K&2)||e!==be)&&(e===be&&(!(K&2)&&(Ca|=n),ve===4&&qt(e,Se)),Ue(e,s),n===1&&K===0&&!(t.mode&1)&&(ws=me()+500,ka&&fn()))}function Ue(e,t){var n=e.callbackNode;Hx(e,t);var s=Vi(e,e===be?Se:0);if(s===0)n!==null&&$u(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&$u(n),t===1)e.tag===0?$y(Od.bind(null,e)):Am(Od.bind(null,e)),Vy(function(){!(K&6)&&fn()}),n=null;else{switch(cm(s)){case 1:n=lc;break;case 4:n=am;break;case 16:n=Ii;break;case 536870912:n=om;break;default:n=Ii}n=Dp(n,Np.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Np(e,t){if(Ci=-1,Ti=0,K&6)throw Error(E(327));var n=e.callbackNode;if(fs()&&e.callbackNode!==n)return null;var s=Vi(e,e===be?Se:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=sa(e,s);else{t=s;var r=K;K|=2;var a=Cp();(be!==e||Se!==t)&&(Ct=null,ws=me()+500,Tn(e,t));do try{uv();break}catch(l){Pp(e,l)}while(!0);bc(),ea.current=a,K=r,ge!==null?t=0:(be=null,Se=0,t=ve)}if(t!==0){if(t===2&&(r=Xo(e),r!==0&&(s=r,t=Nl(e,r))),t===1)throw n=Pr,Tn(e,0),qt(e,s),Ue(e,me()),n;if(t===6)qt(e,s);else{if(r=e.current.alternate,!(s&30)&&!lv(r)&&(t=sa(e,s),t===2&&(a=Xo(e),a!==0&&(s=a,t=Nl(e,a))),t===1))throw n=Pr,Tn(e,0),qt(e,s),Ue(e,me()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(E(345));case 2:wn(e,Fe,Ct);break;case 3:if(qt(e,s),(s&130023424)===s&&(t=Lc+500-me(),10<t)){if(Vi(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){Re(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=il(wn.bind(null,e,Fe,Ct),t);break}wn(e,Fe,Ct);break;case 4:if(qt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-ft(s);a=1<<o,o=t[o],o>r&&(r=o),s&=~a}if(s=r,s=me()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ov(s/1960))-s,10<s){e.timeoutHandle=il(wn.bind(null,e,Fe,Ct),s);break}wn(e,Fe,Ct);break;case 5:wn(e,Fe,Ct);break;default:throw Error(E(329))}}}return Ue(e,me()),e.callbackNode===n?Np.bind(null,e):null}function Nl(e,t){var n=sr;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=sa(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&Pl(t)),e}function Pl(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function lv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!pt(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~Oc,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),s=1<<n;e[n]=-1,t&=~s}}function Od(e){if(K&6)throw Error(E(327));fs();var t=Vi(e,0);if(!(t&1))return Ue(e,me()),null;var n=sa(e,t);if(e.tag!==0&&n===2){var s=Xo(e);s!==0&&(t=s,n=Nl(e,s))}if(n===1)throw n=Pr,Tn(e,0),qt(e,t),Ue(e,me()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wn(e,Fe,Ct),Ue(e,me()),null}function Fc(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(ws=me()+500,ka&&fn())}}function Ln(e){Gt!==null&&Gt.tag===0&&!(K&6)&&fs();var t=K;K|=1;var n=st.transition,s=G;try{if(st.transition=null,G=1,e)return e()}finally{G=s,st.transition=n,K=t,!(K&6)&&fn()}}function Ic(){He=ns.current,ne(ns)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Iy(n)),ge!==null)for(n=ge.return;n!==null;){var s=n;switch(yc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Hi();break;case 3:ys(),ne(Ve),ne(_e),Cc();break;case 5:Pc(s);break;case 4:ys();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:jc(s.type._context);break;case 22:case 23:Ic()}n=n.return}if(be=e,ge=e=rn(e.current,null),Se=He=t,ve=0,Pr=null,Oc=Ca=On=0,Fe=sr=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}Nn=null}return e}function Pp(e,t){do{var n=ge;try{if(bc(),Si.current=Zi,Ji){for(var s=ce.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ji=!1}if(An=0,we=ye=ce=null,tr=!1,kr=0,Ac.current=null,n===null||n.return===null){ve=1,Pr=t,ge=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=jd(o);if(g!==null){g.flags&=-257,kd(g,o,l,a,t),g.mode&1&&bd(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){bd(a,u,t),Vc();break e}c=Error(E(426))}}else if(ie&&l.mode&1){var k=jd(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),kd(k,o,l,a,t),vc(vs(c,l));break e}}a=c=vs(c,l),ve!==4&&(ve=2),sr===null?sr=[a]:sr.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=cp(a,c,t);pd(a,m);break e;case 1:l=c;var p=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nn===null||!nn.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=up(a,l,t);pd(a,j);break e}}a=a.return}while(a!==null)}Mp(n)}catch(b){t=b,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function Cp(){var e=ea.current;return ea.current=Zi,e===null?Zi:e}function Vc(){(ve===0||ve===3||ve===2)&&(ve=4),be===null||!(On&268435455)&&!(Ca&268435455)||qt(be,Se)}function sa(e,t){var n=K;K|=2;var s=Cp();(be!==e||Se!==t)&&(Ct=null,Tn(e,t));do try{cv();break}catch(r){Pp(e,r)}while(!0);if(bc(),K=n,ea.current=s,ge!==null)throw Error(E(261));return be=null,Se=0,ve}function cv(){for(;ge!==null;)Tp(ge)}function uv(){for(;ge!==null&&!Ox();)Tp(ge)}function Tp(e){var t=_p(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?Mp(e):ge=t,Ac.current=null}function Mp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sv(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,ge=null;return}}else if(n=nv(n,t,He),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);ve===0&&(ve=5)}function wn(e,t,n){var s=G,r=st.transition;try{st.transition=null,G=1,dv(e,t,n,s)}finally{st.transition=r,G=s}return null}function dv(e,t,n,s){do fs();while(Gt!==null);if(K&6)throw Error(E(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Kx(e,a),e===be&&(ge=be=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hi||(hi=!0,Dp(Ii,function(){return fs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=st.transition,st.transition=null;var o=G;G=1;var l=K;K|=4,Ac.current=null,iv(e,n),kp(n,e),_y(sl),zi=!!nl,sl=nl=null,e.current=n,av(n),Lx(),K=l,G=o,st.transition=a}else e.current=n;if(hi&&(hi=!1,Gt=e,na=r),a=e.pendingLanes,a===0&&(nn=null),Vx(n.stateNode),Ue(e,me()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(ta)throw ta=!1,e=kl,kl=null,e;return na&1&&e.tag!==0&&fs(),a=e.pendingLanes,a&1?e===Sl?rr++:(rr=0,Sl=e):rr=0,fn(),null}function fs(){if(Gt!==null){var e=cm(na),t=st.transition,n=G;try{if(st.transition=null,G=16>e?16:e,Gt===null)var s=!1;else{if(e=Gt,Gt=null,na=0,K&6)throw Error(E(331));var r=K;for(K|=4,A=e.current;A!==null;){var a=A,o=a.child;if(A.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(A=u;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 15:nr(8,h,a)}var d=h.child;if(d!==null)d.return=h,A=d;else for(;A!==null;){h=A;var f=h.sibling,g=h.return;if(wp(h),h===u){A=null;break}if(f!==null){f.return=g,A=f;break}A=g}}}var x=a.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}A=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,A=o;else e:for(;A!==null;){if(a=A,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nr(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,A=m;break e}A=a.return}}var p=e.current;for(A=p;A!==null;){o=A;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,A=w;else e:for(o=p;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pa(9,l)}}catch(b){he(l,l.return,b)}if(l===o){A=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,A=j;break e}A=l.return}}if(K=r,fn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ya,e)}catch{}s=!0}return s}finally{G=n,st.transition=t}}return!1}function Ld(e,t,n){t=vs(n,t),t=cp(e,t,1),e=tn(e,t,1),t=Re(),e!==null&&(Ir(e,1,t),Ue(e,t))}function he(e,t,n){if(e.tag===3)Ld(e,e,n);else for(;t!==null;){if(t.tag===3){Ld(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(nn===null||!nn.has(s))){e=vs(n,e),e=up(t,e,1),t=tn(t,e,1),e=Re(),t!==null&&(Ir(t,1,e),Ue(t,e));break}}t=t.return}}function hv(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(Se&n)===n&&(ve===4||ve===3&&(Se&130023424)===Se&&500>me()-Lc?Tn(e,0):Oc|=n),Ue(e,t)}function Ep(e,t){t===0&&(e.mode&1?(t=ni,ni<<=1,!(ni&130023424)&&(ni=4194304)):t=1);var n=Re();e=Lt(e,t),e!==null&&(Ir(e,t,n),Ue(e,n))}function fv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ep(e,n)}function mv(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(E(314))}s!==null&&s.delete(t),Ep(e,n)}var _p;_p=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,tv(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,ie&&t.flags&1048576&&Om(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Pi(e,t),e=t.pendingProps;var r=ps(t,_e.current);hs(t,n),r=Mc(null,t,s,e,r,n);var a=Ec();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(s)?(a=!0,Ki(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Sc(t),r.updater=Na,t.stateNode=r,r._reactInternals=t,hl(t,s,e,n),t=pl(null,t,s,!0,a,n)):(t.tag=0,ie&&a&&xc(t),De(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Pi(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=gv(s),e=ut(s,e),r){case 0:t=ml(null,t,s,e,n);break e;case 1:t=Pd(null,t,s,e,n);break e;case 11:t=Sd(null,t,s,e,n);break e;case 14:t=Nd(null,t,s,ut(s.type,e),n);break e}throw Error(E(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:ut(s,r),ml(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:ut(s,r),Pd(e,t,s,r,n);case 3:e:{if(mp(t),e===null)throw Error(E(387));s=t.pendingProps,a=t.memoizedState,r=a.element,Um(e,t),Qi(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=vs(Error(E(423)),t),t=Cd(e,t,s,n,r);break e}else if(s!==r){r=vs(Error(E(424)),t),t=Cd(e,t,s,n,r);break e}else for(Ke=en(t.stateNode.containerInfo.firstChild),We=t,ie=!0,ht=null,n=Vm(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),s===r){t=Ft(e,t,n);break e}De(e,t,s,n)}t=t.child}return t;case 5:return Bm(t),e===null&&cl(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,o=r.children,rl(s,r)?o=null:a!==null&&rl(s,a)&&(t.flags|=32),fp(e,t),De(e,t,o,n),t.child;case 6:return e===null&&cl(t),null;case 13:return pp(e,t,n);case 4:return Nc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=xs(t,null,s,n):De(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:ut(s,r),Sd(e,t,s,r,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,J(Yi,s._currentValue),s._currentValue=o,a!==null)if(pt(a.value,o)){if(a.children===r.children&&!Ve.current){t=Ft(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=_t(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ul(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ul(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}De(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,hs(t,n),r=rt(r),s=s(r),t.flags|=1,De(e,t,s,n),t.child;case 14:return s=t.type,r=ut(s,t.pendingProps),r=ut(s.type,r),Nd(e,t,s,r,n);case 15:return dp(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:ut(s,r),Pi(e,t),t.tag=1,ze(s)?(e=!0,Ki(t)):e=!1,hs(t,n),lp(t,s,r),hl(t,s,r,n),pl(null,t,s,!0,e,n);case 19:return gp(e,t,n);case 22:return hp(e,t,n)}throw Error(E(156,t.tag))};function Dp(e,t){return im(e,t)}function pv(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,s){return new pv(e,t,n,s)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gv(e){if(typeof e=="function")return zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ic)return 11;if(e===ac)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mi(e,t,n,s,r,a){var o=2;if(s=e,typeof e=="function")zc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wn:return Mn(n.children,r,a,t);case rc:o=8,r|=8;break;case Lo:return e=nt(12,n,t,r|2),e.elementType=Lo,e.lanes=a,e;case Fo:return e=nt(13,n,t,r),e.elementType=Fo,e.lanes=a,e;case Io:return e=nt(19,n,t,r),e.elementType=Io,e.lanes=a,e;case Bf:return Ta(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zf:o=10;break e;case Uf:o=9;break e;case ic:o=11;break e;case ac:o=14;break e;case $t:o=16,s=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=nt(o,n,t,r),t.elementType=e,t.type=s,t.lanes=a,t}function Mn(e,t,n,s){return e=nt(7,e,s,t),e.lanes=n,e}function Ta(e,t,n,s){return e=nt(22,e,s,t),e.elementType=Bf,e.lanes=n,e.stateNode={isHidden:!1},e}function go(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function xo(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xv(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,s,r,a,o,l,c){return e=new xv(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=nt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(a),e}function yv(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Rp(e){if(!e)return ln;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(ze(n))return Rm(e,n,t)}return t}function Ap(e,t,n,s,r,a,o,l,c){return e=Uc(n,s,!0,e,r,a,o,l,c),e.context=Rp(null),n=e.current,s=Re(),r=sn(n),a=_t(s,r),a.callback=t??null,tn(n,a,r),e.current.lanes=r,Ir(e,r,s),Ue(e,s),e}function Ma(e,t,n,s){var r=t.current,a=Re(),o=sn(r);return n=Rp(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=tn(r,t,o),e!==null&&(mt(e,r,o,a),ki(e,r,o)),o}function ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bc(e,t){Fd(e,t),(e=e.alternate)&&Fd(e,t)}function vv(){return null}var Op=typeof reportError=="function"?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}Ea.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Ma(e,t,null,null)};Ea.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Ma(null,e,null,null)}),t[Ot]=null}};function Ea(e){this._internalRoot=e}Ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=hm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&mm(e)}};function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Id(){}function wv(e,t,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var u=ra(o);a.call(u)}}var o=Ap(t,s,e,0,null,!1,!1,"",Id);return e._reactRootContainer=o,e[Ot]=o.current,yr(e.nodeType===8?e.parentNode:e),Ln(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=ra(c);l.call(u)}}var c=Uc(e,0,!1,null,null,!1,!1,"",Id);return e._reactRootContainer=c,e[Ot]=c.current,yr(e.nodeType===8?e.parentNode:e),Ln(function(){Ma(t,c,n,s)}),c}function Da(e,t,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=ra(o);l.call(c)}}Ma(t,o,e,r)}else o=wv(n,t,e,r,s);return ra(o)}um=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ks(t.pendingLanes);n!==0&&(cc(t,n|1),Ue(t,me()),!(K&6)&&(ws=me()+500,fn()))}break;case 13:Ln(function(){var s=Lt(e,1);if(s!==null){var r=Re();mt(s,e,1,r)}}),Bc(e,1)}};uc=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var n=Re();mt(t,e,134217728,n)}Bc(e,134217728)}};dm=function(e){if(e.tag===13){var t=sn(e),n=Lt(e,t);if(n!==null){var s=Re();mt(n,e,t,s)}Bc(e,t)}};hm=function(){return G};fm=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};Yo=function(e,t,n){switch(t){case"input":if(Uo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=ja(s);if(!r)throw Error(E(90));Hf(s),Uo(s,r)}}}break;case"textarea":Wf(e,n);break;case"select":t=n.value,t!=null&&ls(e,!!n.multiple,t,!1)}};Zf=Fc;em=Ln;var bv={usingClientEntryPoint:!1,Events:[zr,Qn,ja,Xf,Jf,Fc]},Vs={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jv={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sm(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||vv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{ya=fi.inject(jv),jt=fi}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(t))throw Error(E(200));return yv(e,t,null,n)};Qe.createRoot=function(e,t){if(!Hc(e))throw Error(E(299));var n=!1,s="",r=Op;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,null,n,!1,s,r),e[Ot]=t.current,yr(e.nodeType===8?e.parentNode:e),new $c(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=sm(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return Ln(e)};Qe.hydrate=function(e,t,n){if(!_a(t))throw Error(E(200));return Da(null,e,t,!0,n)};Qe.hydrateRoot=function(e,t,n){if(!Hc(e))throw Error(E(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=Op;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ap(t,null,e,1,n??null,r,!1,a,o),e[Ot]=t.current,yr(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ea(t)};Qe.render=function(e,t,n){if(!_a(t))throw Error(E(200));return Da(null,e,t,!1,n)};Qe.unmountComponentAtNode=function(e){if(!_a(e))throw Error(E(40));return e._reactRootContainer?(Ln(function(){Da(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};Qe.unstable_batchedUpdates=Fc;Qe.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!_a(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Da(e,t,n,!1,s)};Qe.version="18.3.1-next-f1338f8080-20240426";function Lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lp)}catch(e){console.error(e)}}Lp(),Lf.exports=Qe;var kv=Lf.exports,Fp,Vd=kv;Fp=Vd.createRoot,Vd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cr.apply(this,arguments)}var Qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qt||(Qt={}));const zd="popstate";function Sv(e){e===void 0&&(e={});function t(s,r){let{pathname:a,search:o,hash:l}=s.location;return Cl("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:ia(r)}return Pv(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ip(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nv(){return Math.random().toString(36).substr(2,8)}function Ud(e,t){return{usr:e.state,key:e.key,idx:t}}function Cl(e,t,n,s){return n===void 0&&(n=null),Cr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ms(t):t,{state:n,key:t&&t.key||s||Nv()})}function ia(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ms(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Pv(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l=Qt.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Cr({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){l=Qt.Pop;let k=h(),m=k==null?null:k-u;u=k,c&&c({action:l,location:y.location,delta:m})}function f(k,m){l=Qt.Push;let p=Cl(y.location,k,m);u=h()+1;let w=Ud(p,u),j=y.createHref(p);try{o.pushState(w,"",j)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(j)}a&&c&&c({action:l,location:y.location,delta:1})}function g(k,m){l=Qt.Replace;let p=Cl(y.location,k,m);u=h();let w=Ud(p,u),j=y.createHref(p);o.replaceState(w,"",j),a&&c&&c({action:l,location:y.location,delta:0})}function x(k){let m=r.location.origin!=="null"?r.location.origin:r.location.href,p=typeof k=="string"?k:ia(k);return p=p.replace(/ $/,"%20"),xe(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return l},get location(){return e(r,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(zd,d),c=k,()=>{r.removeEventListener(zd,d),c=null}},createHref(k){return t(r,k)},createURL:x,encodeLocation(k){let m=x(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(k){return o.go(k)}};return y}var Bd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bd||(Bd={}));function Cv(e,t,n){return n===void 0&&(n="/"),Tv(e,t,n,!1)}function Tv(e,t,n,s){let r=typeof t=="string"?Ms(t):t,a=Kc(r.pathname||"/",n);if(a==null)return null;let o=Vp(e);Mv(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=zv(a);l=Iv(o[c],u,s)}return l}function Vp(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xe(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=an([s,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(xe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vp(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Lv(u,a.index),routesMeta:h})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,o);else for(let c of zp(a.path))r(a,o,c)}),t}function zp(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=zp(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Mv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Fv(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Ev=/^:[\w-]+$/,_v=3,Dv=2,Rv=1,Av=10,Ov=-2,$d=e=>e==="*";function Lv(e,t){let n=e.split("/"),s=n.length;return n.some($d)&&(s+=Ov),t&&(s+=Dv),n.filter(r=>!$d(r)).reduce((r,a)=>r+(Ev.test(a)?_v:a===""?Rv:Av),s)}function Fv(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function Iv(e,t,n){let{routesMeta:s}=e,r={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=Hd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&n&&!s[s.length-1].route.index&&(d=Hd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:an([a,d.pathname]),pathnameBase:Hv(an([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=an([a,d.pathnameBase]))}return o}function Hd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Vv(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let y=l[d]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[d];return g&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Vv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ip(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function zv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ip(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Uv(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Ms(e):e;return{pathname:n?n.startsWith("/")?n:Bv(n,t):t,search:Kv(s),hash:Wv(r)}}function Bv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function yo(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $v(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Up(e,t){let n=$v(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Bp(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=Ms(e):(r=Cr({},e),xe(!r.pathname||!r.pathname.includes("?"),yo("?","pathname","search",r)),xe(!r.pathname||!r.pathname.includes("#"),yo("#","pathname","hash",r)),xe(!r.search||!r.search.includes("#"),yo("#","search","hash",r)));let a=e===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=Uv(r,l),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const an=e=>e.join("/").replace(/\/\/+/g,"/"),Hv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $p=["post","put","patch","delete"];new Set($p);const Yv=["get",...$p];new Set(Yv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tr.apply(this,arguments)}const Wc=v.createContext(null),Gv=v.createContext(null),zn=v.createContext(null),Ra=v.createContext(null),mn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Hp=v.createContext(null);function Qv(e,t){let{relative:n}=t===void 0?{}:t;Br()||xe(!1);let{basename:s,navigator:r}=v.useContext(zn),{hash:a,pathname:o,search:l}=Wp(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:an([s,o])),r.createHref({pathname:c,search:l,hash:a})}function Br(){return v.useContext(Ra)!=null}function $r(){return Br()||xe(!1),v.useContext(Ra).location}function Kp(e){v.useContext(zn).static||v.useLayoutEffect(e)}function Aa(){let{isDataRoute:e}=v.useContext(mn);return e?u1():Xv()}function Xv(){Br()||xe(!1);let e=v.useContext(Wc),{basename:t,future:n,navigator:s}=v.useContext(zn),{matches:r}=v.useContext(mn),{pathname:a}=$r(),o=JSON.stringify(Up(r,n.v7_relativeSplatPath)),l=v.useRef(!1);return Kp(()=>{l.current=!0}),v.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let d=Bp(u,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:an([t,d.pathname])),(h.replace?s.replace:s.push)(d,h.state,h)},[t,s,o,a,e])}function Jv(){let{matches:e}=v.useContext(mn),t=e[e.length-1];return t?t.params:{}}function Wp(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=v.useContext(zn),{matches:r}=v.useContext(mn),{pathname:a}=$r(),o=JSON.stringify(Up(r,s.v7_relativeSplatPath));return v.useMemo(()=>Bp(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function Zv(e,t){return e1(e,t)}function e1(e,t,n,s){Br()||xe(!1);let{navigator:r}=v.useContext(zn),{matches:a}=v.useContext(mn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=$r(),h;if(t){var d;let k=typeof t=="string"?Ms(t):t;c==="/"||(d=k.pathname)!=null&&d.startsWith(c)||xe(!1),h=k}else h=u;let f=h.pathname||"/",g=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Cv(e,{pathname:g}),y=i1(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:an([c,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:an([c,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,s);return t&&y?v.createElement(Ra.Provider,{value:{location:Tr({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qt.Pop}},y):y}function t1(){let e=c1(),t=qv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:r},n):null,null)}const n1=v.createElement(t1,null);class s1 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(mn.Provider,{value:this.props.routeContext},v.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r1(e){let{routeContext:t,match:n,children:s}=e,r=v.useContext(Wc);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(mn.Provider,{value:t},s)}function i1(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||xe(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:g}=n,x=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let g,x=!1,y=null,k=null;n&&(g=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||n1,c&&(u<0&&f===0?(x=!0,k=null):u===f&&(x=!0,k=d.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let w;return g?w=y:x?w=k:d.route.Component?w=v.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,v.createElement(r1,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(s1,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var qp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qp||{}),aa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(aa||{});function a1(e){let t=v.useContext(Wc);return t||xe(!1),t}function o1(e){let t=v.useContext(Gv);return t||xe(!1),t}function l1(e){let t=v.useContext(mn);return t||xe(!1),t}function Yp(e){let t=l1(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function c1(){var e;let t=v.useContext(Hp),n=o1(aa.UseRouteError),s=Yp(aa.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function u1(){let{router:e}=a1(qp.UseNavigateStable),t=Yp(aa.UseNavigateStable),n=v.useRef(!1);return Kp(()=>{n.current=!0}),v.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Tr({fromRouteId:t},a)))},[e,t])}function d1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Be(e){xe(!1)}function h1(e){let{basename:t="/",children:n=null,location:s,navigationType:r=Qt.Pop,navigator:a,static:o=!1,future:l}=e;Br()&&xe(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:Tr({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Ms(s));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:x="default"}=s,y=v.useMemo(()=>{let k=Kc(h,c);return k==null?null:{location:{pathname:k,search:d,hash:f,state:g,key:x},navigationType:r}},[c,h,d,f,g,x,r]);return y==null?null:v.createElement(zn.Provider,{value:u},v.createElement(Ra.Provider,{children:n,value:y}))}function f1(e){let{children:t,location:n}=e;return Zv(Tl(t),n)}new Promise(()=>{});function Tl(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(s,r)=>{if(!v.isValidElement(s))return;let a=[...t,r];if(s.type===v.Fragment){n.push.apply(n,Tl(s.props.children,a));return}s.type!==Be&&xe(!1),!s.props.index||!s.props.children||xe(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Tl(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ml.apply(this,arguments)}function m1(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,a;for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function p1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g1(e,t){return e.button===0&&(!t||t==="_self")&&!p1(e)}const x1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y1="6";try{window.__reactRouterVersion=y1}catch{}const v1="startTransition",Kd=hx[v1];function w1(e){let{basename:t,children:n,future:s,window:r}=e,a=v.useRef();a.current==null&&(a.current=Sv({window:r,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},h=v.useCallback(d=>{u&&Kd?Kd(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.useEffect(()=>d1(s),[s]),v.createElement(h1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k1=v.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,f=m1(t,x1),{basename:g}=v.useContext(zn),x,y=!1;if(typeof u=="string"&&j1.test(u)&&(x=u,b1))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),b=Kc(j.pathname,g);j.origin===w.origin&&b!=null?u=b+j.search+j.hash:y=!0}catch{}let k=Qv(u,{relative:r}),m=S1(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:r,viewTransition:d});function p(w){s&&s(w),w.defaultPrevented||m(w)}return v.createElement("a",Ml({},f,{href:x||k,onClick:y||a?s:p,ref:n,target:c}))});var Wd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wd||(Wd={}));var qd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qd||(qd={}));function S1(e,t){let{target:n,replace:s,state:r,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Aa(),u=$r(),h=Wp(e,{relative:o});return v.useCallback(d=>{if(g1(d,n)){d.preventDefault();let f=s!==void 0?s:ia(u)===ia(h);c(e,{replace:f,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,h,s,r,n,e,a,o,l])}class N1{constructor(){this.baseUrl=`http://${window.location.hostname}:8083`}async makeAuthenticatedRequest(t,n={}){const s=localStorage.getItem("katamaster_token");if(!s)throw new Error("No authentication token available");const r={...n.headers,Authorization:`Bearer ${s}`},a=await fetch(t,{...n,headers:r});if(a.status===401){const o=localStorage.getItem("katamaster_refresh_token");if(o)try{const l=await fetch(`${this.baseUrl}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:o})});if(l.ok){const c=await l.json();return localStorage.setItem("katamaster_token",c.token),c.refresh_token&&localStorage.setItem("katamaster_refresh_token",c.refresh_token),fetch(t,{...n,headers:{...n.headers,Authorization:`Bearer ${c.token}`}})}}catch(l){throw console.error("Token refresh failed:",l),localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),new Error("Authentication failed - please sign in again")}throw localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),new Error("Authentication failed - please sign in again")}return a}async recordPracticeSession(t){try{const n=await fetch(`${this.baseUrl}/api/practice/record`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kata_id:t.kataId,user_id:t.userId,repetitions:t.repetitions,notes:t.notes,duration_minutes:t.durationMinutes,date:new Date().toISOString(),self_rating:8,focus_areas:["form","timing"]})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to record practice session:",n),n}}async getKatas(){try{const t=await fetch(`${this.baseUrl}/api/katas`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Failed to fetch katas:",t),t}}async getKataDetail(t){try{const n=await fetch(`${this.baseUrl}/api/katas/${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to fetch kata detail:",n),n}}async getUserProgress(t){try{const n=await fetch(`${this.baseUrl}/api/users/${t}/progress`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to fetch user progress:",n),n}}async recordComprehensivePracticeSession(t){try{const n=await fetch(`${this.baseUrl}/api/practice/session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,session_date:t.sessionDate,duration_minutes:t.durationMinutes,punches:t.punches,kicks:t.kicks,katas:t.katas.map(s=>({name:s.name,repetitions:s.repetitions})),techniques:t.techniques.map(s=>({technique_id:s.techniqueId,count:s.count})),notes:t.notes,points_earned:t.pointsEarned})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to record comprehensive practice session:",n),n}}async getPointsAudit(t,n,s){try{let r=`${this.baseUrl}/api/users/${t}/points/audit`;const a=new URLSearchParams;n&&a.append("start_date",n),s&&a.append("end_date",s),a.toString()&&(r+=`?${a.toString()}`);const o=await fetch(r);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(r){return console.error("Failed to fetch points audit:",r),{user_id:t,audit_entries:[],total_points:0}}}async getCalendarData(t,n,s){try{let r=`${this.baseUrl}/api/users/${t}/calendar`;const a=new URLSearchParams;n&&a.append("year",n),s&&a.append("month",s),a.toString()&&(r+=`?${a.toString()}`);const o=await fetch(r);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(r){return console.error("Failed to fetch calendar data:",r),{user_id:t,calendar_data:[],total_days:0}}}async getPracticeHistory(t,n=1,s=10,r){try{let a=`${this.baseUrl}/api/users/${t}/practice/history`;const o=new URLSearchParams;o.append("page",n.toString()),o.append("limit",s.toString()),r&&o.append("date",r),a+=`?${o.toString()}`;const l=await fetch(a);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()}catch(a){return console.error("Failed to fetch practice history:",a),{user_id:t,practice_history:[],total_sessions:0}}}async signInWithGoogle(t){try{const n=await fetch(`${this.baseUrl}/api/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to sign in with Google:",n),n}}async signIn(t){try{const n=await fetch(`${this.baseUrl}/api/auth/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to sign in:",n),n}}async signUp(t){try{const n=await fetch(`${this.baseUrl}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to sign up:",n),n}}async validateSession(t){try{const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/auth/validate`,{method:"GET"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to validate session:",n),null}}async signOut(t){try{const n=await fetch(`${this.baseUrl}/api/auth/signout`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to sign out:",n),n}}async getAvailableMoves(t){try{let n=`${this.baseUrl}/api/movement/moves`;t&&(n+=`?type=${t}`);const s=await fetch(n);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Failed to fetch available moves:",n),n}}async addCombination(t){try{console.log(" Sending combination to API:",t);const n=await fetch(`${this.baseUrl}/api/movement/combinations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log(" API Response status:",n.status),!n.ok){const r=await n.text();throw console.error(" API Error response:",r),new Error(`HTTP error! status: ${n.status}, response: ${r}`)}const s=await n.json();return console.log(" API Response data:",s),s}catch(n){throw console.error(" Failed to add combination:",n),n}}async getCombinations(t){try{console.log(" Fetching combinations for user:",t),console.log(" API URL:",`${this.baseUrl}/api/movement/combinations?user_id=${t}`);const n=await fetch(`${this.baseUrl}/api/movement/combinations?user_id=${t}`);if(console.log(" Response status:",n.status),!n.ok){const r=await n.text();throw console.error(" Error response:",r),new Error(`HTTP error! status: ${n.status}, response: ${r}`)}const s=await n.json();return console.log(" Combinations fetched:",s),s}catch(n){throw console.error(" Failed to fetch combinations:",n),n}}async createMovementSession(t){try{const n=await fetch(`${this.baseUrl}/api/movement/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to create movement session:",n),n}}async endMovementSession(t,n){try{const s=await fetch(`${this.baseUrl}/api/movement/sessions/${t}/end`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:n})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("Failed to end movement session:",s),s}}async getMovementSessions(t){try{const n=await fetch(`${this.baseUrl}/api/movement/sessions?user_id=${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to fetch movement sessions:",n),n}}async getMoveCounters(t){try{const n=await fetch(`${this.baseUrl}/api/movement/counters?user_id=${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to fetch move counters:",n),n}}async updateMoveCounter(t){try{const n=await fetch(`${this.baseUrl}/api/movement/counters`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to update move counter:",n),n}}async getDashboardAnalytics(t){try{const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/users/${t}/dashboard/analytics`,{method:"GET"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to fetch dashboard analytics:",n),null}}async getRecentActivity(t,n=10){try{const s=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/users/${t}/recent-activity?limit=${n}`,{method:"GET"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return console.error("Failed to fetch recent activity:",s),null}}async getKataProgress(t,n){try{const s=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/kata/progress?user_id=${t}&kata_id=${n}`,{method:"GET"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){return console.error("Failed to fetch kata progress:",s),null}}async recordKataPractice(t){try{const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/kata/practice`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kata_id:t.kataId,user_id:t.userId,repetitions:t.repetitions,notes:t.notes,duration_minutes:t.durationMinutes,date:new Date().toISOString(),self_rating:t.selfRating||7.5,focus_areas:t.focusAreas||["form","timing"],instructor_feedback:t.instructorFeedback||"",instructor_verified:t.instructorVerified||!1})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to record kata practice:",n),n}}}const ae=new N1;var P1={};const Gp=v.createContext(void 0),C1=({children:e})=>{const[t,n]=v.useState(null),[s,r]=v.useState(!0);v.useEffect(()=>{a()},[]);const a=async()=>{try{const d=localStorage.getItem("katamaster_token");if(console.log("Checking existing session, token exists:",!!d),d){const f=await ae.validateSession(d);console.log("Session validation response:",f),f?(n(f),console.log("User set from existing session:",f.email)):(console.log("Invalid session, removing token"),localStorage.removeItem("katamaster_token"))}else console.log("No existing token found")}catch(d){console.error("Session validation failed:",d),localStorage.removeItem("katamaster_token")}finally{r(!1)}},h={user:t,loading:s,signInWithGoogle:async()=>{r(!0);try{if(!window.google)throw new Error("Google OAuth not loaded");const d=await new Promise((x,y)=>{window.google.accounts.oauth2.initTokenClient({client_id:P1.REACT_APP_GOOGLE_CLIENT_ID||"",scope:"email profile",callback:k=>{k.error?y(new Error(k.error)):x(k)}}).requestAccessToken()}),f=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${d.access_token}`}}).then(x=>x.json()),g=await ae.signInWithGoogle({googleToken:d.access_token,userInfo:{id:f.id,email:f.email,name:f.name,picture:f.picture}});localStorage.setItem("katamaster_token",g.token),g.refresh_token&&localStorage.setItem("katamaster_refresh_token",g.refresh_token),n({id:g.user.id,email:g.user.email,name:g.user.name,avatar:g.user.avatar,provider:"google"})}catch(d){throw console.error("Google sign in failed:",d),d}finally{r(!1)}},signInWithEmail:async(d,f,g=!1)=>{var x;r(!0);try{console.log(`Attempting ${g?"signup":"signin"} for:`,d);const y=g?await ae.signUp({email:d,password:f}):await ae.signIn({email:d,password:f});if(console.log("Auth response received:",{hasToken:!!y.token,userId:(x=y.user)==null?void 0:x.id}),!y.token||!y.user)throw new Error("Invalid response from server");localStorage.setItem("katamaster_token",y.token),y.refresh_token&&localStorage.setItem("katamaster_refresh_token",y.refresh_token),n({id:y.user.id,email:y.user.email,name:y.user.name||d.split("@")[0],provider:"email"}),console.log("User signed in successfully:",y.user.email)}catch(y){if(console.error("Email sign in failed:",y),y instanceof Error){if(y.message.includes("404"))throw new Error("Invalid email or password");if(y.message.includes("401"))throw new Error("Invalid email or password");if(y.message.includes("Failed to fetch"))throw new Error("Unable to connect to server. Please check your internet connection.")}throw y}finally{r(!1)}},signOut:async()=>{r(!0);try{const d=localStorage.getItem("katamaster_token");d&&await ae.signOut(d)}catch(d){console.error("Sign out error:",d)}finally{localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),n(null),r(!1)}},refreshToken:async()=>{try{const d=localStorage.getItem("katamaster_refresh_token");if(!d)return console.log("No refresh token available"),!1;const f=await fetch("/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:d})});if(!f.ok)return console.log("Token refresh failed:",f.status),localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),n(null),!1;const g=await f.json();return localStorage.setItem("katamaster_token",g.token),g.refresh_token&&localStorage.setItem("katamaster_refresh_token",g.refresh_token),console.log("Token refreshed successfully"),!0}catch(d){return console.error("Token refresh error:",d),localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),n(null),!1}},isAuthenticated:!!t};return i.jsx(Gp.Provider,{value:h,children:e})},Pt=()=>{const e=v.useContext(Gp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},oa={child:{name:"Emma",totalPoints:285,currentStreak:4,totalPunches:1250,totalKicks:980,totalSessions:23,favoriteKata:"Heian Shodan",avatar:"ninja-girl"},rewards:[{id:1,name:"Ice Cream",points:50,earned:!0,approved:!1,icon:"ice-cream"},{id:2,name:"Pizza Night",points:150,earned:!0,approved:!0,icon:"pizza"},{id:3,name:"Movie Night",points:200,earned:!1,progress:.85,icon:"film"},{id:4,name:"New Toy",points:100,earned:!1,progress:.6,icon:"toy"},{id:5,name:"Special Activity",points:120,earned:!1,progress:.25,icon:"activity"}],recentSessions:[{id:1,date:"2025-05-29",punches:45,kicks:32,duration:25,katas:["Heian Shodan x3","Kata 1 x2"],pointsEarned:30},{id:2,date:"2025-05-28",punches:60,kicks:45,duration:30,katas:["Heian Nidan x4"],pointsEarned:35},{id:3,date:"2025-05-26",punches:50,kicks:38,duration:20,katas:["Heian Shodan x2","Heian Nidan x1"],pointsEarned:25},{id:4,date:"2025-05-25",punches:40,kicks:30,duration:15,katas:["Kata 1 x3"],pointsEarned:20}],kataList:["Heian Shodan","Heian Nidan","Kata 1","Kata 2","Kata 3"],motivationalMessages:["Amazing job! Your karate skills are growing!","Wow! Look at those punches and kicks!","You're becoming a karate master!","Your sensei would be proud!","Keep it up, karate star!","You're on fire today!","Those were some awesome moves!","Your practice is paying off!"]},Qp=v.createContext(void 0),T1=({children:e})=>{const[t,n]=v.useState(!1),[s,r]=v.useState(oa.child.name),[a,o]=v.useState(oa.child.avatar),l=()=>{n(!t)};return i.jsx(Qp.Provider,{value:{isParentMode:t,toggleUserMode:l,childName:s,childAvatar:a,setChildName:r,setChildAvatar:o},children:e})},pn=()=>{const e=v.useContext(Qp);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},M1=[{id:"punch",label:"Punches",icon:""},{id:"kick",label:"Kicks",icon:""},{id:"stance",label:"Stances",icon:""},{id:"block",label:"Blocks",icon:""}],Xp=[{id:"oi-tsuki",name:"Stepping Punch",japaneseName:"Oi-tsuki",category:"punch",points:2},{id:"gyaku-tsuki",name:"Reverse Punch",japaneseName:"Gyaku-tsuki",category:"punch",points:3},{id:"kagi-tsuki",name:"Hook Punch",japaneseName:"Kagi-tsuki",category:"punch",points:4},{id:"mae-geri",name:"Front Kick",japaneseName:"Mae-geri",category:"kick",points:3},{id:"yoko-geri",name:"Side Kick",japaneseName:"Yoko-geri",category:"kick",points:4},{id:"mawashi-geri",name:"Roundhouse Kick",japaneseName:"Mawashi-geri",category:"kick",points:4},{id:"zenkutsu-dachi",name:"Front Stance",japaneseName:"Zenkutsu-dachi",category:"stance",points:2},{id:"kokutsu-dachi",name:"Back Stance",japaneseName:"Kokutsu-dachi",category:"stance",points:3},{id:"kiba-dachi",name:"Horse Stance",japaneseName:"Kiba-dachi",category:"stance",points:3},{id:"age-uke",name:"Rising Block",japaneseName:"Age-uke",category:"block",points:2},{id:"soto-uke",name:"Outside Block",japaneseName:"Soto-uke",category:"block",points:2},{id:"uchi-uke",name:"Inside Block",japaneseName:"Uchi-uke",category:"block",points:2}],Jp=v.createContext(void 0),E1=({children:e})=>{const{user:t}=Pt(),[n,s]=v.useState(0),[r,a]=v.useState(0),[o,l]=v.useState([]),[c,u]=v.useState(0),[h,d]=v.useState(!1),[f,g]=v.useState(null),[x,y]=v.useState([]),[k,m]=v.useState(0),[p,w]=v.useState(0),[j,b]=v.useState(0),[S,C]=v.useState(0),[P,N]=v.useState(0),[T,M]=v.useState("Heian Shodan"),[F,U]=v.useState([]),[H,pe]=v.useState([]),[xt,Q]=v.useState([]);v.useEffect(()=>()=>{f&&clearInterval(f)},[f]),v.useEffect(()=>{(async()=>{try{console.log("Loading katas from API...");const q=await ae.getKatas();if(console.log("Katas API response:",q),q&&q.katas&&Array.isArray(q.katas)){const ee=q.katas.map(X=>X.name);console.log("Extracted kata names:",ee),pe(ee),Q(q.katas)}else console.warn("Invalid katas data structure:",q),pe(["Heian Shodan","Heian Nidan","Heian Sandan"]),Q([]);if(t!=null&&t.id)try{console.log("Loading user progress for:",t.id);const ee=await ae.getUserProgress(t.id);console.log("User stats response:",ee),m(ee.total_points||0),w(ee.current_streak||0),b(ee.total_punches||0),C(ee.total_kicks||0),N(ee.total_sessions||0),M(ee.favorite_kata||"Heian Shodan"),console.log("Loading practice history...");const X=await ae.getPracticeHistory(t.id,1,10);if(console.log("Practice history response:",X),X&&X.practice_history&&Array.isArray(X.practice_history)){const xn=X.practice_history.map((ot,Ha)=>{var Gr;return{id:Ha+1,date:ot.date,punches:ot.punches||0,kicks:ot.kicks||0,duration:ot.duration_minutes||0,katas:((Gr=ot.katas)==null?void 0:Gr.map(re=>`${re.name} x${re.repetitions}`))||[],pointsEarned:ot.points_earned||0,techniques:ot.techniques||[]}});U(xn)}}catch(ee){console.error("Failed to load user-specific data:",ee)}}catch(q){console.error("Failed to load real data, using defaults:",q)}})()},[t]);const _=()=>{s(z=>z+1)},D=()=>{a(z=>z+1)},L=z=>{y(q=>q.find(X=>X.techniqueId===z)?q.map(X=>X.techniqueId===z?{...X,count:X.count+1}:X):[...q,{techniqueId:z,count:1,timestamp:new Date}])},W=z=>{var q;return((q=x.find(ee=>ee.techniqueId===z))==null?void 0:q.count)||0},Z=(z,q)=>{l(ee=>[...ee,{name:z,repetitions:q}])},R=()=>{d(!0);const z=setInterval(()=>{u(q=>q+1)},1e3);g(z)},$=async z=>{try{return(await ae.getUserProgress("user1")).current_streak||0}catch(q){console.error("Failed to get updated streak:",q);const ee=F[0];if(!ee)return 1;const X=new Date(ee.date);return new Date(z).getTime()-X.getTime()>24*60*60*1e3?1:ee.date!==z?p+1:p}},Le=async()=>{f&&clearInterval(f),d(!1);const z=Math.floor(n/10),q=Math.floor(r/10),ee=o.reduce((re,Qr)=>re+Qr.repetitions*5,0),X=x.reduce((re,Qr)=>{const Eu=Xp.find(Y0=>Y0.id===Qr.techniqueId);return re+(Eu?Eu.points*Qr.count:0)},0),xn=10+z+q+ee+X,ot=new Date().toISOString().split("T")[0],Ha={id:Date.now(),date:ot,punches:n,kicks:r,duration:c,katas:o.map(re=>`${re.name} x${re.repetitions}`),pointsEarned:xn,techniques:x};try{await ae.recordComprehensivePracticeSession({userId:(t==null?void 0:t.id)||"guest",sessionDate:ot,durationMinutes:Math.floor(c/60),punches:n,kicks:r,katas:o,techniques:x.map(re=>({techniqueId:re.techniqueId,count:re.count})),notes:`Practice session: ${o.length} katas, ${n} punches, ${r} kicks, ${x.length} techniques`,pointsEarned:xn}),console.log(" Comprehensive practice session recorded to database")}catch(re){console.error(" Failed to record session to database:",re)}U(re=>[Ha,...re]),m(re=>re+xn),b(re=>re+n),C(re=>re+r),N(re=>re+1);const Gr=await $(ot);return w(Gr),yt(),xn},yt=()=>{s(0),a(0),l([]),y([]),u(0),d(!1),f&&clearInterval(f),g(null)},Bn=async z=>{try{z.videoUrl&&(await ae.recordComprehensivePracticeSession({userId:(t==null?void 0:t.id)||"guest",sessionDate:typeof z.date=="string"?z.date:z.date.toISOString().split("T")[0],durationMinutes:Math.floor(z.duration/60),punches:z.punches||0,kicks:z.kicks||0,katas:z.katas.map(X=>({name:X,repetitions:z.repetitions||1})),techniques:z.techniques||[],notes:z.notes||`Video practice session: ${z.katas.join(", ")}`,pointsEarned:z.pointsEarned,focusAreas:z.focusAreas||[],selfRating:z.selfRating||0,videoUrl:z.videoUrl}),console.log(" Video practice session recorded to database")),U(X=>[z,...X]),m(X=>X+z.pointsEarned),N(X=>X+1);const q=typeof z.date=="string"?z.date:z.date.toISOString().split("T")[0],ee=await $(q);w(ee)}catch(q){throw console.error(" Failed to add session:",q),q}};return i.jsx(Jp.Provider,{value:{currentPunches:n,currentKicks:r,currentKatas:o,sessionTimer:c,isSessionActive:h,totalPoints:k,currentStreak:p,totalPunches:j,totalKicks:S,totalSessions:P,favoriteKata:T,recentSessions:F,kataList:H,kataObjects:xt,incrementPunches:_,incrementKicks:D,addKata:Z,startSession:R,endSession:Le,resetCurrentSession:yt,incrementTechnique:L,getTechniqueCount:W,addSession:Bn},children:e})},at=()=>{const e=v.useContext(Jp);if(e===void 0)throw new Error("usePractice must be used within a PracticeProvider");return e},Zp=v.createContext(void 0),_1=({children:e})=>{const[t,n]=v.useState(oa.rewards),s=t.filter(d=>d.earned&&!d.approved),r=t.filter(d=>d.earned&&d.approved),a=t.filter(d=>!d.earned),o=d=>{n(f=>f.map(g=>g.id===d&&g.earned?{...g,approved:!1}:g))},l=d=>{n(f=>f.map(g=>g.id===d?{...g,approved:!0}:g))},c=d=>{n(f=>f.map(g=>g.id===d?{...g,earned:!1,approved:!1,progress:0}:g))},u=d=>{const f={...d,id:Date.now(),earned:!1,approved:!1,progress:0};n(g=>[...g,f])},h=d=>{n(f=>f.map(g=>{if(g.earned)return g;const x=g.progress||0,y=Math.min(x+d/g.points,1);return y>=1?{...g,earned:!0,progress:1}:{...g,progress:y}}))};return i.jsx(Zp.Provider,{value:{rewards:t,pendingRewards:s,approvedRewards:r,unearnedRewards:a,requestRewardApproval:o,approveReward:l,denyReward:c,addCustomReward:u,updateRewardProgress:h},children:e})},Hr=()=>{const e=v.useContext(Zp);if(e===void 0)throw new Error("useRewards must be used within a RewardsProvider");return e},eg=v.createContext(void 0),D1={stance:[{name:"forward_stance",display_name:"Forward Stance",description:"Zenkutsu-dachi - weight forward, strong attacking position"},{name:"back_stance",display_name:"Back Stance",description:"Kokutsu-dachi - weight back, defensive position"},{name:"horse_stance",display_name:"Horse Stance",description:"Kiba-dachi - wide stable stance for strength"},{name:"cat_stance",display_name:"Cat Stance",description:"Neko-ashi-dachi - light front foot, defensive"},{name:"fighting_stance",display_name:"Fighting Stance",description:"Kamae - ready position for combat"},{name:"natural_stance",display_name:"Natural Stance",description:"Shizen-tai - relaxed natural position"}],direction:[{name:"move_forward",display_name:"Move Forward",description:"Step forward maintaining stance"},{name:"move_backward",display_name:"Move Backward",description:"Step backward maintaining stance"},{name:"move_left",display_name:"Move Left",description:"Step to the left side"},{name:"move_right",display_name:"Move Right",description:"Step to the right side"},{name:"turn_left",display_name:"Turn Left",description:"Pivot 90 degrees to the left"},{name:"turn_right",display_name:"Turn Right",description:"Pivot 90 degrees to the right"},{name:"turn_180",display_name:"Turn Around",description:"Pivot 180 degrees"}],technique:[{name:"punch",display_name:"Punch",description:"Oi-zuki - basic straight punch"},{name:"reverse_punch",display_name:"Reverse Punch",description:"Gyaku-zuki - opposite hand punch"},{name:"front_kick",display_name:"Front Kick",description:"Mae-geri - kick straight forward"},{name:"side_kick",display_name:"Side Kick",description:"Yoko-geri - kick to the side"},{name:"roundhouse_kick",display_name:"Roundhouse Kick",description:"Mawashi-geri - circular kick"},{name:"down_block",display_name:"Down Block",description:"Gedan-barai - block low attacks"},{name:"high_block",display_name:"High Block",description:"Age-uke - block high attacks"},{name:"inside_block",display_name:"Inside Block",description:"Uchi-uke - block from inside"},{name:"knife_hand_strike",display_name:"Knife Hand Strike",description:"Shuto-uchi - strike with knife hand"},{name:"elbow_strike",display_name:"Elbow Strike",description:"Empi-uchi - strike with elbow"}]},R1=({children:e})=>{console.log(" MovementProvider initializing...");const{user:t}=Pt();console.log(" MovementProvider user:",(t==null?void 0:t.id)||"No user");const[n,s]=v.useState([]),[r,a]=v.useState([]),[o,l]=v.useState(null),[c,u]=v.useState([]),[h,d]=v.useState({currentMoveIndex:0,totalMoves:0,completedMoves:0}),[f,g]=v.useState(!1),[x,y]=v.useState(null);v.useEffect(()=>{console.log(" MovementProvider useEffect triggered, user ID:",t==null?void 0:t.id),t!=null&&t.id?k():console.log(" No user ID available, skipping data load")},[t==null?void 0:t.id]);const k=async()=>{var N,T;if(t!=null&&t.id){console.log(" Loading movement data for user:",t.id),g(!0),y(null);try{console.log(" Fetching combinations and move counters...");const[M,F]=await Promise.all([ae.getCombinations(t.id),ae.getMoveCounters(t.id)]);console.log(" Combinations response:",M),console.log(" Counters response:",F),M.success?(s(M.combinations||[]),console.log(" Loaded combinations:",((N=M.combinations)==null?void 0:N.length)||0)):console.warn(" Combinations response not successful:",M),F.success?(a(F.counters||[]),console.log(" Loaded move counters:",((T=F.counters)==null?void 0:T.length)||0)):console.warn(" Counters response not successful:",F)}catch(M){console.error(" Failed to load movement data:",M),y("Failed to load movement data"),console.log(" Loading sample data as fallback...");const F=[{combination_id:"sample-1",name:"Basic Forward Sequence",moves:[{type:"stance",name:"forward_stance",description:"Zenkutsu-dachi",duration_seconds:3},{type:"direction",name:"move_forward",description:"Step forward",duration_seconds:2},{type:"technique",name:"punch",description:"Oi-zuki",duration_seconds:1}],repeat_count:3,created_at:new Date().toISOString()},{combination_id:"sample-2",name:"Defense Combination",moves:[{type:"stance",name:"back_stance",description:"Kokutsu-dachi",duration_seconds:3},{type:"technique",name:"down_block",description:"Gedan-barai",duration_seconds:2},{type:"direction",name:"move_backward",description:"Step back",duration_seconds:2}],repeat_count:2,created_at:new Date().toISOString()}];s(F),console.log(" Sample combinations loaded:",F.length)}finally{g(!1),console.log(" Movement data loading complete")}}},m=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(N){const T=Math.random()*16|0;return(N=="x"?T:T&3|8).toString(16)}),p=(N,T)=>{const M=D1[N];if(M){const F=M.find(U=>U.name===T);return F?F.display_name:T}return T},w=async N=>{var T;if(!(t!=null&&t.id))throw console.error(" No user logged in, cannot save combination"),new Error("User not authenticated. Please log in to save combinations.");try{const M=await ae.addCombination({user_id:t.id,name:N.name,moves:N.moves.map(F=>({type:F.type,name:F.name,description:F.description,duration_seconds:F.duration_seconds})),repeat_count:N.repeat_count});if(M.success){const F={...N,combination_id:((T=M.combination)==null?void 0:T.combination_id)||M.combination_id};s(U=>[...U,F]),console.log(" Combination added successfully:",F),console.log(" Updated combinations list:",U=>[...U,F])}}catch(M){console.error("Failed to save combination:",M),s(F=>[...F,N]),console.log(" Added combination locally as fallback")}},j=(N,T,M)=>{a(F=>F.find(H=>H.move_name===N)?F.map(H=>H.move_name===N?{...H,forward_count:T?H.forward_count+M:H.forward_count,backward_count:T?H.backward_count:H.backward_count+M,total_count:H.total_count+M,last_updated:new Date().toISOString()}:H):[...F,{move_name:N,forward_count:T?M:0,backward_count:T?0:M,total_count:M,last_updated:new Date().toISOString()}])},P={savedCombinations:n,moveCounters:r,activeSession:o,loading:f,error:x,addCombination:w,updateMoveCounter:j,startMovementSession:async N=>{if(!(t!=null&&t.id))throw new Error("User not logged in");try{const T=await ae.createMovementSession({user_id:t.id,combination_ids:N,notes:""});if(T.success){const M={session_id:T.session_id,combination_ids:N,start_time:new Date().toISOString(),notes:"",total_moves:0},F=[];return N.forEach(U=>{const H=n.find(pe=>pe.combination_id===U);if(H)for(let pe=0;pe<H.repeat_count;pe++)F.push(...H.moves)}),l(M),u(F),d({currentMoveIndex:0,totalMoves:F.length,completedMoves:0}),M}else throw new Error("Failed to create session")}catch(T){console.error("Failed to start movement session:",T);const M={session_id:m(),combination_ids:N,start_time:new Date().toISOString(),notes:"",total_moves:0},F=[];return N.forEach(U=>{const H=n.find(pe=>pe.combination_id===U);if(H)for(let pe=0;pe<H.repeat_count;pe++)F.push(...H.moves)}),l(M),u(F),d({currentMoveIndex:0,totalMoves:F.length,completedMoves:0}),M}},endMovementSession:async(N,T)=>{if(!(!o||o.session_id!==N))try{await ae.endMovementSession(N,T),c.forEach(M=>{M.type==="direction"&&(M.name.includes("forward")||M.name.includes("backward"))&&j(M.name,M.name.includes("forward"),1)}),l(null),u([]),d({currentMoveIndex:0,totalMoves:0,completedMoves:0})}catch(M){console.error("Failed to end movement session:",M),l(null),u([]),d({currentMoveIndex:0,totalMoves:0,completedMoves:0})}},currentSessionMoves:c,practiceProgress:h,getSessionData:()=>{if(!o)return{combinations:0,moves:0,sessionTime:0};const N=o.start_time?Math.floor((Date.now()-new Date(o.start_time).getTime())/1e3):0;return{combinations:o.combination_ids.length,moves:c.length,sessionTime:N}},getDisplayName:p,loadUserData:k};return i.jsx(eg.Provider,{value:P,children:e})},qc=()=>{const e=v.useContext(eg);if(e===void 0)throw new Error("useMovement must be used within a MovementProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const n=v.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},h)=>v.createElement("svg",{ref:h,...A1,width:r,height:r,stroke:s,strokeWidth:o?Number(a)*24/Number(r):a,className:["lucide",`lucide-${O1(e)}`,l].join(" "),...u},[...t.map(([d,f])=>v.createElement(d,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=V("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=V("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=V("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=V("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=V("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=V("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=V("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=V("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=V("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=V("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=V("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=V("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=V("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=V("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=V("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=V("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=V("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Z1=({to:e,icon:t,label:n,active:s})=>i.jsxs(k1,{to:e,className:`flex flex-col items-center p-2 rounded-lg transition-all ${s?"bg-orange-500 text-white transform scale-110 shadow-lg":"text-blue-900 hover:bg-orange-100"}`,children:[i.jsx("div",{className:"text-2xl mb-1",children:t}),i.jsx("span",{className:"text-xs font-bold",children:n})]}),dg=({children:e})=>{const{isParentMode:t,toggleUserMode:n}=pn(),{user:s,signOut:r}=Pt(),a=$r(),c=t?[{to:"/parent",icon:i.jsx(Jd,{size:24}),label:"Dashboard"},{to:"/video-practice",icon:i.jsx(js,{size:24}),label:"Video"},{to:"/kata-reference",icon:i.jsx(Gd,{size:24}),label:"Kata"},{to:"/rewards",icon:i.jsx(bs,{size:24}),label:"Rewards"},{to:"/history",icon:i.jsx(Mr,{size:24}),label:"History"},{to:"/calendar",icon:i.jsx(I1,{size:24}),label:"Calendar"},{to:"/settings",icon:i.jsx(ag,{size:24}),label:"Settings"}]:[{to:"/",icon:i.jsx(Jd,{size:24}),label:"Home"},{to:"/video-practice",icon:i.jsx(js,{size:24}),label:"Video"},{to:"/kata-reference",icon:i.jsx(Gd,{size:24}),label:"Kata"},{to:"/rewards",icon:i.jsx(bs,{size:24}),label:"Rewards"},{to:"/history",icon:i.jsx(Mr,{size:24}),label:"History"}];return i.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[i.jsxs("header",{className:"bg-gradient-to-r from-blue-600 to-orange-500 text-white p-4 flex justify-between items-center shadow-md",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-xl font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:t?"Parent Dashboard":"Karate Kid Practice"})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm",children:["Welcome, ",s==null?void 0:s.name,"!"]}),i.jsx("button",{onClick:n,className:"p-2 bg-white bg-opacity-20 rounded-full text-white hover:bg-opacity-30 transition-all shadow-lg","aria-label":t?"Switch to Kid Mode":"Switch to Parent Mode",children:t?i.jsx(cg,{size:20}):i.jsx(Q1,{size:20})}),i.jsx("button",{onClick:()=>r(),className:"p-2 bg-red-500 bg-opacity-80 rounded-full text-white hover:bg-red-600 transition-all shadow-lg","aria-label":"Sign Out",children:i.jsx(B1,{size:20})})]})]}),i.jsx("main",{className:"flex-grow p-4 overflow-y-auto",children:e}),i.jsx("nav",{className:"bg-white shadow-[0_-2px_10px_rgba(0,0,0,0.1)] p-2",children:i.jsx("div",{className:"max-w-screen-lg mx-auto flex justify-around",children:c.map(u=>i.jsx(Z1,{to:u.to,icon:u.icon,label:u.label,active:a.pathname===u.to},u.to))})})]})},Yc=v.createContext({});function Gc(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const La=v.createContext(null),Qc=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ew extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tw({children:e,isPresent:t}){const n=v.useId(),s=v.useRef(null),r=v.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=v.useContext(Qc);return v.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=r.current;if(t||!s.current||!o||!l)return;s.current.dataset.motionPopId=n;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),i.jsx(ew,{isPresent:t,childRef:s,sizeRef:r,children:v.cloneElement(e,{ref:s})})}const nw=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=Gc(sw),c=v.useId(),u=v.useCallback(d=>{l.set(d,!0);for(const f of l.values())if(!f)return;s&&s()},[l,s]),h=v.useMemo(()=>({id:c,initial:t,isPresent:n,custom:r,onExitComplete:u,register:d=>(l.set(d,!1),()=>l.delete(d))}),a?[Math.random(),u]:[n,u]);return v.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(e=i.jsx(tw,{isPresent:n,children:e})),i.jsx(La.Provider,{value:h,children:e})};function sw(){return new Map}function hg(e=!0){const t=v.useContext(La);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,a=v.useId();v.useEffect(()=>{e&&r(a)},[e]);const o=v.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const mi=e=>e.key||"";function eh(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Xc=typeof window<"u",fg=Xc?v.useLayoutEffect:v.useEffect,Fa=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=hg(o),u=v.useMemo(()=>eh(e),[e]),h=o&&!l?[]:u.map(mi),d=v.useRef(!0),f=v.useRef(u),g=Gc(()=>new Map),[x,y]=v.useState(u),[k,m]=v.useState(u);fg(()=>{d.current=!1,f.current=u;for(let j=0;j<k.length;j++){const b=mi(k[j]);h.includes(b)?g.delete(b):g.get(b)!==!0&&g.set(b,!1)}},[k,h.length,h.join("-")]);const p=[];if(u!==x){let j=[...u];for(let b=0;b<k.length;b++){const S=k[b],C=mi(S);h.includes(C)||(j.splice(b,0,S),p.push(S))}a==="wait"&&p.length&&(j=p),m(eh(j)),y(u);return}const{forceRender:w}=v.useContext(Yc);return i.jsx(i.Fragment,{children:k.map(j=>{const b=mi(j),S=o&&!l?!1:u===k||h.includes(b),C=()=>{if(g.has(b))g.set(b,!0);else return;let P=!0;g.forEach(N=>{N||(P=!1)}),P&&(w==null||w(),m(f.current),o&&(c==null||c()),s&&s())};return i.jsx(nw,{isPresent:S,initial:!d.current||n?void 0:!1,custom:S?void 0:t,presenceAffectsLayout:r,mode:a,onExitComplete:S?void 0:C,children:j},b)})})},qe=e=>e;let Al=qe;function Jc(e){let t;return()=>(t===void 0&&(t=e()),t)}const ks=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},Dt=e=>e*1e3,Rt=e=>e/1e3,rw={skipAnimations:!1,useManualTiming:!1};function iw(e){let t=new Set,n=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,h=!1,d=!1)=>{const g=d&&s?t:n;return h&&a.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,s){r=!0;return}s=!0,[t,n]=[n,t],t.forEach(l),t.clear(),s=!1,r&&(r=!1,c.process(u))}};return c}const pi=["read","resolveKeyframes","update","preRender","render","postRender"],aw=40;function mg(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=pi.reduce((m,p)=>(m[p]=iw(a),m),{}),{read:l,resolveKeyframes:c,update:u,preRender:h,render:d,postRender:f}=o,g=()=>{const m=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(m-r.timestamp,aw),1),r.timestamp=m,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),h.process(r),d.process(r),f.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(g))},x=()=>{n=!0,s=!0,r.isProcessing||e(g)};return{schedule:pi.reduce((m,p)=>{const w=o[p];return m[p]=(j,b=!1,S=!1)=>(n||x(),w.schedule(j,b,S)),m},{}),cancel:m=>{for(let p=0;p<pi.length;p++)o[pi[p]].cancel(m)},state:r,steps:o}}const{schedule:se,cancel:cn,state:ke,steps:wo}=mg(typeof requestAnimationFrame<"u"?requestAnimationFrame:qe,!0),pg=v.createContext({strict:!1}),th={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ss={};for(const e in th)Ss[e]={isEnabled:t=>th[e].some(n=>!!t[n])};function ow(e){for(const t in e)Ss[t]={...Ss[t],...e[t]}}const lw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ca(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lw.has(e)}let gg=e=>!ca(e);function cw(e){e&&(gg=t=>t.startsWith("on")?!ca(t):e(t))}try{cw(require("@emotion/is-prop-valid").default)}catch{}function uw(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(gg(r)||n===!0&&ca(r)||!t&&!ca(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function dw(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Ia=v.createContext({});function _r(e){return typeof e=="string"||Array.isArray(e)}function Va(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Zc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eu=["initial",...Zc];function za(e){return Va(e.animate)||eu.some(t=>_r(e[t]))}function xg(e){return!!(za(e)||e.variants)}function hw(e,t){if(za(e)){const{initial:n,animate:s}=e;return{initial:n===!1||_r(n)?n:void 0,animate:_r(s)?s:void 0}}return e.inherit!==!1?t:{}}function fw(e){const{initial:t,animate:n}=hw(e,v.useContext(Ia));return v.useMemo(()=>({initial:t,animate:n}),[nh(t),nh(n)])}function nh(e){return Array.isArray(e)?e.join(" "):e}const mw=Symbol.for("motionComponentSymbol");function ss(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pw(e,t,n){return v.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ss(n)&&(n.current=s))},[t])}const tu=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gw="framerAppearId",yg="data-"+tu(gw),{schedule:nu,cancel:yN}=mg(queueMicrotask,!1),vg=v.createContext({});function xw(e,t,n,s,r){var a,o;const{visualElement:l}=v.useContext(Ia),c=v.useContext(pg),u=v.useContext(La),h=v.useContext(Qc).reducedMotion,d=v.useRef(null);s=s||c.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,g=v.useContext(vg);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&yw(d.current,n,r,g);const x=v.useRef(!1);v.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const y=n[yg],k=v.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return fg(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),nu.render(f.render),k.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!k.current&&f.animationState&&f.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,y)}),k.current=!1))}),f}function yw(e,t,n,s){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wg(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&ss(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:u})}function wg(e){if(e)return e.options.allowProjection!==!1?e.projection:wg(e.parent)}function vw({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){var a,o;e&&ow(e);function l(u,h){let d;const f={...v.useContext(Qc),...u,layoutId:ww(u)},{isStatic:g}=f,x=fw(u),y=s(u,g);if(!g&&Xc){bw();const k=jw(f);d=k.MeasureLayout,x.visualElement=xw(r,y,f,t,k.ProjectionNode)}return i.jsxs(Ia.Provider,{value:x,children:[d&&x.visualElement?i.jsx(d,{visualElement:x.visualElement,...f}):null,n(r,u,pw(y,x.visualElement,h),y,g,x.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${(o=(a=r.displayName)!==null&&a!==void 0?a:r.name)!==null&&o!==void 0?o:""})`}`;const c=v.forwardRef(l);return c[mw]=r,c}function ww({layoutId:e}){const t=v.useContext(Yc).id;return t&&e!==void 0?t+"-"+e:e}function bw(e,t){v.useContext(pg).strict}function jw(e){const{drag:t,layout:n}=Ss;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const kw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function su(e){return typeof e!="string"||e.includes("-")?!1:!!(kw.indexOf(e)>-1||/[A-Z]/u.test(e))}function sh(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function ru(e,t,n,s){if(typeof t=="function"){const[r,a]=sh(s);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=sh(s);t=t(n!==void 0?n:e.custom,r,a)}return t}const Ol=e=>Array.isArray(e),Sw=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Nw=e=>Ol(e)?e[e.length-1]||0:e,Ee=e=>!!(e&&e.getVelocity);function _i(e){const t=Ee(e)?e.get():e;return Sw(t)?t.toValue():t}function Pw({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,r,a){const o={latestValues:Cw(s,r,a,e),renderState:t()};return n&&(o.onMount=l=>n({props:s,current:l,...o}),o.onUpdate=l=>n(l)),o}const bg=e=>(t,n)=>{const s=v.useContext(Ia),r=v.useContext(La),a=()=>Pw(e,t,s,r);return n?a():Gc(a)};function Cw(e,t,n,s){const r={},a=s(e,{});for(const f in a)r[f]=_i(a[f]);let{initial:o,animate:l}=e;const c=za(e),u=xg(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?l:o;if(d&&typeof d!="boolean"&&!Va(d)){const f=Array.isArray(d)?d:[d];for(let g=0;g<f.length;g++){const x=ru(e,f[g]);if(x){const{transitionEnd:y,transition:k,...m}=x;for(const p in m){let w=m[p];if(Array.isArray(w)){const j=h?w.length-1:0;w=w[j]}w!==null&&(r[p]=w)}for(const p in y)r[p]=y[p]}}}return r}const Es=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Un=new Set(Es),jg=e=>t=>typeof t=="string"&&t.startsWith(e),kg=jg("--"),Tw=jg("var(--"),iu=e=>Tw(e)?Mw.test(e.split("/*")[0].trim()):!1,Mw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sg=(e,t)=>t&&typeof e=="number"?t.transform(e):e,It=(e,t,n)=>n>t?t:n<e?e:n,_s={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Dr={..._s,transform:e=>It(0,1,e)},gi={..._s,default:1},Kr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bt=Kr("deg"),St=Kr("%"),I=Kr("px"),Ew=Kr("vh"),_w=Kr("vw"),rh={...St,parse:e=>St.parse(e)/100,transform:e=>St.transform(e*100)},Dw={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,backgroundPositionX:I,backgroundPositionY:I},Rw={rotate:Bt,rotateX:Bt,rotateY:Bt,rotateZ:Bt,scale:gi,scaleX:gi,scaleY:gi,scaleZ:gi,skew:Bt,skewX:Bt,skewY:Bt,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:Dr,originX:rh,originY:rh,originZ:I},ih={..._s,transform:Math.round},au={...Dw,...Rw,zIndex:ih,size:I,fillOpacity:Dr,strokeOpacity:Dr,numOctaves:ih},Aw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ow=Es.length;function Lw(e,t,n){let s="",r=!0;for(let a=0;a<Ow;a++){const o=Es[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Sg(l,au[o]);if(!c){r=!1;const h=Aw[o]||o;s+=`${h}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function ou(e,t,n){const{style:s,vars:r,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Un.has(c)){o=!0;continue}else if(kg(c)){r[c]=u;continue}else{const h=Sg(u,au[c]);c.startsWith("origin")?(l=!0,a[c]=h):s[c]=h}}if(t.transform||(o||n?s.transform=Lw(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=a;s.transformOrigin=`${c} ${u} ${h}`}}const Fw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iw={offset:"strokeDashoffset",array:"strokeDasharray"};function Vw(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?Fw:Iw;e[a.offset]=I.transform(-s);const o=I.transform(t),l=I.transform(n);e[a.array]=`${o} ${l}`}function ah(e,t,n){return typeof e=="string"?e:I.transform(t+n*e)}function zw(e,t,n){const s=ah(t,e.x,e.width),r=ah(n,e.y,e.height);return`${s} ${r}`}function lu(e,{attrX:t,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,d){if(ou(e,u,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:x}=e;f.transform&&(x&&(g.transform=f.transform),delete f.transform),x&&(r!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=zw(x,r!==void 0?r:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),o!==void 0&&Vw(f,o,l,c,!1)}const cu=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ng=()=>({...cu(),attrs:{}}),uu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Pg(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const a in n)e.style.setProperty(a,n[a])}const Cg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tg(e,t,n,s){Pg(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(Cg.has(r)?r:tu(r),t.attrs[r])}const ua={};function Uw(e){Object.assign(ua,e)}function Mg(e,{layout:t,layoutId:n}){return Un.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ua[e]||e==="opacity")}function du(e,t,n){var s;const{style:r}=e,a={};for(const o in r)(Ee(r[o])||t.style&&Ee(t.style[o])||Mg(o,e)||((s=n==null?void 0:n.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(a[o]=r[o]);return a}function Eg(e,t,n){const s=du(e,t,n);for(const r in e)if(Ee(e[r])||Ee(t[r])){const a=Es.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}function Bw(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const oh=["x","y","width","height","cx","cy","r"],$w={useVisualState:bg({scrapeMotionValuesFromProps:Eg,createRenderState:Ng,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:r})=>{if(!n)return;let a=!!e.drag;if(!a){for(const l in r)if(Un.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<oh.length;l++){const c=oh[l];e[c]!==t[c]&&(o=!0)}o&&se.read(()=>{Bw(n,s),se.render(()=>{lu(s,r,uu(n.tagName),e.transformTemplate),Tg(n,s)})})}})},Hw={useVisualState:bg({scrapeMotionValuesFromProps:du,createRenderState:cu})};function _g(e,t,n){for(const s in t)!Ee(t[s])&&!Mg(s,n)&&(e[s]=t[s])}function Kw({transformTemplate:e},t){return v.useMemo(()=>{const n=cu();return ou(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ww(e,t){const n=e.style||{},s={};return _g(s,n,e),Object.assign(s,Kw(e,t)),s}function qw(e,t){const n={},s=Ww(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function Yw(e,t,n,s){const r=v.useMemo(()=>{const a=Ng();return lu(a,t,uu(s),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};_g(a,e.style,e),r.style={...a,...r.style}}return r}function Gw(e=!1){return(n,s,r,{latestValues:a},o)=>{const c=(su(n)?Yw:qw)(s,a,o,n),u=uw(s,typeof n=="string",e),h=n!==v.Fragment?{...u,...c,ref:r}:{},{children:d}=s,f=v.useMemo(()=>Ee(d)?d.get():d,[d]);return v.createElement(n,{...h,children:f})}}function Qw(e,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...su(s)?$w:Hw,preloadedFeatures:e,useRender:Gw(r),createVisualElement:t,Component:s};return vw(o)}}function Dg(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function Ua(e,t,n){const s=e.getProps();return ru(s,t,n!==void 0?n:s.custom,e)}const Xw=Jc(()=>window.ScrollTimeline!==void 0);class Jw{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(r=>{if(Xw()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,a)=>{r&&r(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zw extends Jw{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function hu(e,t){return e?e[t]||e.default||e:void 0}const Ll=2e4;function Rg(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Ll;)t+=n,s=e.next(t);return t>=Ll?1/0:t}function fu(e){return typeof e=="function"}function lh(e,t){e.timeline=t,e.onfinish=null}const mu=e=>Array.isArray(e)&&typeof e[0]=="number",eb={linearEasing:void 0};function tb(e,t){const n=Jc(e);return()=>{var s;return(s=eb[t])!==null&&s!==void 0?s:n()}}const da=tb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ag=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)s+=e(ks(0,r-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function Og(e){return!!(typeof e=="function"&&da()||!e||typeof e=="string"&&(e in Fl||da())||mu(e)||Array.isArray(e)&&e.every(Og))}const qs=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Fl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qs([0,.65,.55,1]),circOut:qs([.55,0,1,.45]),backIn:qs([.31,.01,.66,-.59]),backOut:qs([.33,1.53,.69,.99])};function Lg(e,t){if(e)return typeof e=="function"&&da()?Ag(e,t):mu(e)?qs(e):Array.isArray(e)?e.map(n=>Lg(n,t)||Fl.easeOut):Fl[e]}const ct={x:!1,y:!1};function Fg(){return ct.x||ct.y}function nb(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let r=document;const a=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function Ig(e,t){const n=nb(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function ch(e){return t=>{t.pointerType==="touch"||Fg()||e(t)}}function sb(e,t,n={}){const[s,r,a]=Ig(e,n),o=ch(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const h=ch(d=>{u(d),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,r)});return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const Vg=(e,t)=>t?e===t?!0:Vg(e,t.parentElement):!1,pu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,rb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ib(e){return rb.has(e.tagName)||e.tabIndex!==-1}const Ys=new WeakSet;function uh(e){return t=>{t.key==="Enter"&&e(t)}}function bo(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ab=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=uh(()=>{if(Ys.has(n))return;bo(n,"down");const r=uh(()=>{bo(n,"up")}),a=()=>bo(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function dh(e){return pu(e)&&!Fg()}function ob(e,t,n={}){const[s,r,a]=Ig(e,n),o=l=>{const c=l.currentTarget;if(!dh(l)||Ys.has(c))return;Ys.add(c);const u=t(l),h=(g,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!dh(g)||!Ys.has(c))&&(Ys.delete(c),typeof u=="function"&&u(g,{success:x}))},d=g=>{h(g,n.useGlobalTarget||Vg(c,g.target))},f=g=>{h(g,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",f,r)};return s.forEach(l=>{!ib(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),l.addEventListener("focus",u=>ab(u,r),r)}),a}function lb(e){return e==="x"||e==="y"?ct[e]?null:(ct[e]=!0,()=>{ct[e]=!1}):ct.x||ct.y?null:(ct.x=ct.y=!0,()=>{ct.x=ct.y=!1})}const zg=new Set(["width","height","top","left","right","bottom",...Es]);let Di;function cb(){Di=void 0}const Nt={now:()=>(Di===void 0&&Nt.set(ke.isProcessing||rw.useManualTiming?ke.timestamp:performance.now()),Di),set:e=>{Di=e,queueMicrotask(cb)}};function gu(e,t){e.indexOf(t)===-1&&e.push(t)}function xu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yu{constructor(){this.subscriptions=[]}add(t){return gu(this.subscriptions,t),()=>xu(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ug(e,t){return t?e*(1e3/t):0}const hh=30,ub=e=>!isNaN(parseFloat(e));class db{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const a=Nt.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ub(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yu);const s=this.events[t].add(n);return t==="change"?()=>{s(),se.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hh);return Ug(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rr(e,t){return new db(e,t)}function hb(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Rr(n))}function fb(e,t){const n=Ua(e,t);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const o in a){const l=Nw(a[o]);hb(e,o,l)}}function mb(e){return!!(Ee(e)&&e.add)}function Il(e,t){const n=e.getValue("willChange");if(mb(n))return n.add(t)}function Bg(e){return e.props[yg]}const $g=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pb=1e-7,gb=12;function xb(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=$g(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>pb&&++l<gb);return o}function Wr(e,t,n,s){if(e===t&&n===s)return qe;const r=a=>xb(a,0,1,e,n);return a=>a===0||a===1?a:$g(r(a),t,s)}const Hg=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Kg=e=>t=>1-e(1-t),Wg=Wr(.33,1.53,.69,.99),vu=Kg(Wg),qg=Hg(vu),Yg=e=>(e*=2)<1?.5*vu(e):.5*(2-Math.pow(2,-10*(e-1))),wu=e=>1-Math.sin(Math.acos(e)),Gg=Kg(wu),Qg=Hg(wu),Xg=e=>/^0[^.\s]+$/u.test(e);function yb(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xg(e):!0}const ir=e=>Math.round(e*1e5)/1e5,bu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vb(e){return e==null}const wb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ju=(e,t)=>n=>!!(typeof n=="string"&&wb.test(n)&&n.startsWith(e)||t&&!vb(n)&&Object.prototype.hasOwnProperty.call(n,t)),Jg=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,a,o,l]=s.match(bu);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bb=e=>It(0,255,e),jo={..._s,transform:e=>Math.round(bb(e))},Cn={test:ju("rgb","red"),parse:Jg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+jo.transform(e)+", "+jo.transform(t)+", "+jo.transform(n)+", "+ir(Dr.transform(s))+")"};function jb(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Vl={test:ju("#"),parse:jb,transform:Cn.transform},rs={test:ju("hsl","hue"),parse:Jg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+St.transform(ir(t))+", "+St.transform(ir(n))+", "+ir(Dr.transform(s))+")"},Te={test:e=>Cn.test(e)||Vl.test(e)||rs.test(e),parse:e=>Cn.test(e)?Cn.parse(e):rs.test(e)?rs.parse(e):Vl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cn.transform(e):rs.transform(e)},kb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sb(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(kb))===null||n===void 0?void 0:n.length)||0)>0}const Zg="number",e0="color",Nb="var",Pb="var(",fh="${}",Cb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ar(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(Cb,c=>(Te.test(c)?(s.color.push(a),r.push(e0),n.push(Te.parse(c))):c.startsWith(Pb)?(s.var.push(a),r.push(Nb),n.push(c)):(s.number.push(a),r.push(Zg),n.push(parseFloat(c))),++a,fh)).split(fh);return{values:n,split:l,indexes:s,types:r}}function t0(e){return Ar(e).values}function n0(e){const{split:t,types:n}=Ar(e),s=t.length;return r=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],r[o]!==void 0){const l=n[o];l===Zg?a+=ir(r[o]):l===e0?a+=Te.transform(r[o]):a+=r[o]}return a}}const Tb=e=>typeof e=="number"?0:e;function Mb(e){const t=t0(e);return n0(e)(t.map(Tb))}const un={test:Sb,parse:t0,createTransformer:n0,getAnimatableNone:Mb},Eb=new Set(["brightness","contrast","saturate","opacity"]);function _b(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(bu)||[];if(!s)return e;const r=n.replace(s,"");let a=Eb.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const Db=/\b([a-z-]*)\(.*?\)/gu,zl={...un,getAnimatableNone:e=>{const t=e.match(Db);return t?t.map(_b).join(" "):e}},Rb={...au,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:zl,WebkitFilter:zl},ku=e=>Rb[e];function s0(e,t){let n=ku(e);return n!==zl&&(n=un),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ab=new Set(["auto","none","0"]);function Ob(e,t,n){let s=0,r;for(;s<e.length&&!r;){const a=e[s];typeof a=="string"&&!Ab.has(a)&&Ar(a).values.length&&(r=e[s]),s++}if(r&&n)for(const a of t)e[a]=s0(n,r)}const mh=e=>e===_s||e===I,ph=(e,t)=>parseFloat(e.split(", ")[t]),gh=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return ph(r[1],t);{const a=s.match(/^matrix\((.+)\)$/u);return a?ph(a[1],e):0}},Lb=new Set(["x","y","z"]),Fb=Es.filter(e=>!Lb.has(e));function Ib(e){const t=[];return Fb.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ns={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:gh(4,13),y:gh(5,14)};Ns.translateX=Ns.x;Ns.translateY=Ns.y;const En=new Set;let Ul=!1,Bl=!1;function r0(){if(Bl){const e=Array.from(En).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=Ib(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,o])=>{var l;(l=s.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Bl=!1,Ul=!1,En.forEach(e=>e.complete()),En.clear()}function i0(){En.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bl=!0)})}function Vb(){i0(),r0()}class Su{constructor(t,n,s,r,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(En.add(this),Ul||(Ul=!0,se.read(i0),se.resolveKeyframes(r0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=r==null?void 0:r.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const c=s.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),r&&o===void 0&&r.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),En.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,En.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const a0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),zb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ub(e){const t=zb.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function o0(e,t,n=1){const[s,r]=Ub(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return a0(o)?parseFloat(o):o}return iu(r)?o0(r,t,n+1):r}const l0=e=>t=>t.test(e),Bb={test:e=>e==="auto",parse:e=>e},c0=[_s,I,St,Bt,_w,Ew,Bb],xh=e=>c0.find(l0(e));class u0 extends Su{constructor(t,n,s,r,a){super(t,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),iu(u))){const h=o0(u,n.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zg.has(s)||t.length!==2)return;const[r,a]=t,o=xh(r),l=xh(a);if(o!==l)if(mh(o)&&mh(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)yb(t[r])&&s.push(r);s.length&&Ob(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ns[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const a=n.getValue(s);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Ns[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const yh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(un.test(e)||e==="0")&&!e.startsWith("url("));function $b(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Hb(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=yh(r,t),l=yh(a,t);return!o||!l?!1:$b(e)||(n==="spring"||fu(n))&&s}const Kb=e=>e!==null;function Ba(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(Kb),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return!a||s===void 0?r[a]:s}const Wb=40;class d0{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Nt.now(),this.options={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Wb?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Vb(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Nt.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Hb(t,s,r,a))if(o)this.options.duration=0;else{c&&c(Ba(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const le=(e,t,n)=>e+(t-e)*n;function ko(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qb({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=ko(c,l,e+1/3),a=ko(c,l,e),o=ko(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function ha(e,t){return n=>n>0?t:e}const So=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},Yb=[Vl,Cn,rs],Gb=e=>Yb.find(t=>t.test(e));function vh(e){const t=Gb(e);if(!t)return!1;let n=t.parse(e);return t===rs&&(n=qb(n)),n}const wh=(e,t)=>{const n=vh(e),s=vh(t);if(!n||!s)return ha(e,t);const r={...n};return a=>(r.red=So(n.red,s.red,a),r.green=So(n.green,s.green,a),r.blue=So(n.blue,s.blue,a),r.alpha=le(n.alpha,s.alpha,a),Cn.transform(r))},Qb=(e,t)=>n=>t(e(n)),qr=(...e)=>e.reduce(Qb),$l=new Set(["none","hidden"]);function Xb(e,t){return $l.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Jb(e,t){return n=>le(e,t,n)}function Nu(e){return typeof e=="number"?Jb:typeof e=="string"?iu(e)?ha:Te.test(e)?wh:tj:Array.isArray(e)?h0:typeof e=="object"?Te.test(e)?wh:Zb:ha}function h0(e,t){const n=[...e],s=n.length,r=e.map((a,o)=>Nu(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}}function Zb(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Nu(e[r])(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function ej(e,t){var n;const s=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][r[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;s[a]=c,r[o]++}return s}const tj=(e,t)=>{const n=un.createTransformer(t),s=Ar(e),r=Ar(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?$l.has(e)&&!r.values.length||$l.has(t)&&!s.values.length?Xb(e,t):qr(h0(ej(s,r),r.values),n):ha(e,t)};function f0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):Nu(e)(e,t)}const nj=5;function m0(e,t,n){const s=Math.max(t-nj,0);return Ug(n-e(s),t-s)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},No=.001;function sj({duration:e=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:s=de.mass}){let r,a,o=1-t;o=It(de.minDamping,de.maxDamping,o),e=It(de.minDuration,de.maxDuration,Rt(e)),o<1?(r=u=>{const h=u*o,d=h*e,f=h-n,g=Hl(u,o),x=Math.exp(-d);return No-f/g*x},a=u=>{const d=u*o*e,f=d*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-d),y=Hl(Math.pow(u,2),o);return(-r(u)+No>0?-1:1)*((f-g)*x)/y}):(r=u=>{const h=Math.exp(-u*e),d=(u-n)*e+1;return-No+h*d},a=u=>{const h=Math.exp(-u*e),d=(n-u)*(e*e);return h*d});const l=5/e,c=ij(r,a,l);if(e=Dt(e),isNaN(c))return{stiffness:de.stiffness,damping:de.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const rj=12;function ij(e,t,n){let s=n;for(let r=1;r<rj;r++)s=s-e(s)/t(s);return s}function Hl(e,t){return e*Math.sqrt(1-t*t)}const aj=["duration","bounce"],oj=["stiffness","damping","mass"];function bh(e,t){return t.some(n=>e[n]!==void 0)}function lj(e){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...e};if(!bh(e,oj)&&bh(e,aj))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*It(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:de.mass,stiffness:r,damping:a}}else{const n=sj(e);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function p0(e=de.visualDuration,t=de.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:g}=lj({...n,velocity:-Rt(n.velocity||0)}),x=f||0,y=u/(2*Math.sqrt(c*h)),k=o-a,m=Rt(Math.sqrt(c/h)),p=Math.abs(k)<5;s||(s=p?de.restSpeed.granular:de.restSpeed.default),r||(r=p?de.restDelta.granular:de.restDelta.default);let w;if(y<1){const b=Hl(m,y);w=S=>{const C=Math.exp(-y*m*S);return o-C*((x+y*m*k)/b*Math.sin(b*S)+k*Math.cos(b*S))}}else if(y===1)w=b=>o-Math.exp(-m*b)*(k+(x+m*k)*b);else{const b=m*Math.sqrt(y*y-1);w=S=>{const C=Math.exp(-y*m*S),P=Math.min(b*S,300);return o-C*((x+y*m*k)*Math.sinh(P)+b*k*Math.cosh(P))/b}}const j={calculatedDuration:g&&d||null,next:b=>{const S=w(b);if(g)l.done=b>=d;else{let C=0;y<1&&(C=b===0?Dt(x):m0(w,b,S));const P=Math.abs(C)<=s,N=Math.abs(o-S)<=r;l.done=P&&N}return l.value=l.done?o:S,l},toString:()=>{const b=Math.min(Rg(j),Ll),S=Ag(C=>j.next(b*C).value,b,30);return b+"ms "+S}};return j}function jh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const d=e[0],f={done:!1,value:d},g=P=>l!==void 0&&P<l||c!==void 0&&P>c,x=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let y=n*t;const k=d+y,m=o===void 0?k:o(k);m!==k&&(y=m-d);const p=P=>-y*Math.exp(-P/s),w=P=>m+p(P),j=P=>{const N=p(P),T=w(P);f.done=Math.abs(N)<=u,f.value=f.done?m:T};let b,S;const C=P=>{g(f.value)&&(b=P,S=p0({keyframes:[f.value,x(f.value)],velocity:m0(w,P,f.value),damping:r,stiffness:a,restDelta:u,restSpeed:h}))};return C(0),{calculatedDuration:null,next:P=>{let N=!1;return!S&&b===void 0&&(N=!0,j(P),C(P)),b!==void 0&&P>=b?S.next(P-b):(!N&&j(P),f)}}}const cj=Wr(.42,0,1,1),uj=Wr(0,0,.58,1),g0=Wr(.42,0,.58,1),dj=e=>Array.isArray(e)&&typeof e[0]!="number",kh={linear:qe,easeIn:cj,easeInOut:g0,easeOut:uj,circIn:wu,circInOut:Qg,circOut:Gg,backIn:vu,backInOut:qg,backOut:Wg,anticipate:Yg},Sh=e=>{if(mu(e)){Al(e.length===4);const[t,n,s,r]=e;return Wr(t,n,s,r)}else if(typeof e=="string")return Al(kh[e]!==void 0),kh[e];return e};function hj(e,t,n){const s=[],r=n||f0,a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||qe:t;l=qr(c,l)}s.push(l)}return s}function fj(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(Al(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=hj(t,s,r),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const f=ks(e[d],e[d+1],h);return l[d](f)};return n?h=>u(It(e[0],e[a-1],h)):u}function mj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=ks(0,t,s);e.push(le(n,1,r))}}function pj(e){const t=[0];return mj(t,e.length-1),t}function gj(e,t){return e.map(n=>n*t)}function xj(e,t){return e.map(()=>t||g0).splice(0,e.length-1)}function fa({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=dj(s)?s.map(Sh):Sh(s),a={done:!1,value:t[0]},o=gj(n&&n.length===t.length?n:pj(t),e),l=fj(o,t,{ease:Array.isArray(r)?r:xj(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const yj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>se.update(t,!0),stop:()=>cn(t),now:()=>ke.isProcessing?ke.timestamp:Nt.now()}},vj={decay:jh,inertia:jh,tween:fa,keyframes:fa,spring:p0},wj=e=>e/100;class Pu extends d0{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:r,keyframes:a}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Su,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=this.options,l=fu(n)?n:vj[n]||fa;let c,u;l!==fa&&typeof t[0]!="number"&&(c=qr(wj,f0(t[0],t[1])),t=[0,100]);const h=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Rg(h));const{calculatedDuration:d}=h,f=d+r,g=f*(s+1)-r;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=s;if(this.startTime===null)return a.next(0);const{delay:f,repeat:g,repeatType:x,repeatDelay:y,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?m<0:m>h;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,j=a;if(g){const P=Math.min(this.currentTime,h)/d;let N=Math.floor(P),T=P%1;!T&&P>=1&&(T=1),T===1&&N--,N=Math.min(N,g+1),!!(N%2)&&(x==="reverse"?(T=1-T,y&&(T-=y/d)):x==="mirror"&&(j=o)),w=It(0,1,T)*d}const b=p?{done:!1,value:c[0]}:j.next(w);l&&(b.value=l(b.value));let{done:S}=b;!p&&u!==null&&(S=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&r!==void 0&&(b.value=Ba(c,this.options,r)),k&&k(b.value),C&&this.finish(),b}get duration(){const{resolved:t}=this;return t?Rt(t.calculatedDuration):0}get time(){return Rt(this.currentTime)}set time(t){t=Dt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Rt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=yj,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const bj=new Set(["opacity","clipPath","filter","transform"]);function jj(e,t,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const h=Lg(l,r);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const kj=Jc(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ma=10,Sj=2e4;function Nj(e){return fu(e.type)||e.type==="spring"||!Og(e.ease)}function Pj(e,t){const n=new Pu({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const r=[];let a=0;for(;!s.done&&a<Sj;)s=n.sample(a),r.push(s.value),a+=ma;return{times:void 0,keyframes:r,duration:a-ma,ease:"linear"}}const x0={anticipate:Yg,backInOut:qg,circInOut:Qg};function Cj(e){return e in x0}class Nh extends d0{constructor(t){super(t);const{name:n,motionValue:s,element:r,keyframes:a}=this.options;this.resolver=new u0(a,(o,l)=>this.onKeyframesResolved(o,l),n,s,r),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:r,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&da()&&Cj(a)&&(a=x0[a]),Nj(this.options)){const{onComplete:d,onUpdate:f,motionValue:g,element:x,...y}=this.options,k=Pj(t,y);t=k.keyframes,t.length===1&&(t[1]=t[0]),s=k.duration,r=k.times,a=k.ease,o="keyframes"}const h=jj(l.owner.current,c,t,{...this.options,duration:s,times:r,ease:a});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(lh(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(Ba(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:r,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Rt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Rt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Dt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return qe;const{animation:s}=n;lh(s,t)}return qe}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:r,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:f,...g}=this.options,x=new Pu({...g,keyframes:s,duration:r,type:a,ease:o,times:l,isGenerator:!0}),y=Dt(this.time);u.setWithVelocity(x.sample(y-ma).value,x.sample(y).value,ma)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:r,repeatType:a,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return kj()&&s&&bj.has(s)&&!c&&!u&&!r&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Tj={type:"spring",stiffness:500,damping:25,restSpeed:10},Mj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ej={type:"keyframes",duration:.8},_j={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dj=(e,{keyframes:t})=>t.length>2?Ej:Un.has(e)?e.startsWith("scale")?Mj(t[1]):Tj:_j;function Rj({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const Cu=(e,t,n,s={},r,a)=>o=>{const l=hu(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Dt(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};Rj(l)||(h={...h,...Dj(e,h)}),h.duration&&(h.duration=Dt(h.duration)),h.repeatDelay&&(h.repeatDelay=Dt(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!a&&t.get()!==void 0){const f=Ba(h.keyframes,l);if(f!==void 0)return se.update(()=>{h.onUpdate(f),h.onComplete()}),new Zw([])}return!a&&Nh.supports(h)?new Nh(h):new Pu(h)};function Aj({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function y0(e,t,{delay:n=0,transitionOverride:s,type:r}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(o=s);const u=[],h=r&&e.animationState&&e.animationState.getState()[r];for(const d in c){const f=e.getValue(d,(a=e.latestValues[d])!==null&&a!==void 0?a:null),g=c[d];if(g===void 0||h&&Aj(h,d))continue;const x={delay:n,...hu(o||{},d)};let y=!1;if(window.MotionHandoffAnimation){const m=Bg(e);if(m){const p=window.MotionHandoffAnimation(m,d,se);p!==null&&(x.startTime=p,y=!0)}}Il(e,d),f.start(Cu(d,f,g,e.shouldReduceMotion&&zg.has(d)?{type:!1}:x,e,y));const k=f.animation;k&&u.push(k)}return l&&Promise.all(u).then(()=>{se.update(()=>{l&&fb(e,l)})}),u}function Kl(e,t,n={}){var s;const r=Ua(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(y0(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=a;return Oj(e,t,h+u,d,f,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function Oj(e,t,n=0,s=0,r=1,a){const o=[],l=(e.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(Lj).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(Kl(u,t,{...a,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Lj(e,t){return e.sortNodePosition(t)}function Fj(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>Kl(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=Kl(e,t,n);else{const r=typeof t=="function"?Ua(e,t,n.custom):t;s=Promise.all(y0(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const Ij=eu.length;function v0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?v0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Ij;n++){const s=eu[n],r=e.props[s];(_r(r)||r===!1)&&(t[s]=r)}return t}const Vj=[...Zc].reverse(),zj=Zc.length;function Uj(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Fj(e,n,s)))}function Bj(e){let t=Uj(e),n=Ph(),s=!0;const r=c=>(u,h)=>{var d;const f=Ua(e,h,c==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:g,transitionEnd:x,...y}=f;u={...u,...y,...x}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,h=v0(e.parent)||{},d=[],f=new Set;let g={},x=1/0;for(let k=0;k<zj;k++){const m=Vj[k],p=n[m],w=u[m]!==void 0?u[m]:h[m],j=_r(w),b=m===c?p.isActive:null;b===!1&&(x=k);let S=w===h[m]&&w!==u[m]&&j;if(S&&s&&e.manuallyAnimateOnMount&&(S=!1),p.protectedKeys={...g},!p.isActive&&b===null||!w&&!p.prevProp||Va(w)||typeof w=="boolean")continue;const C=$j(p.prevProp,w);let P=C||m===c&&p.isActive&&!S&&j||k>x&&j,N=!1;const T=Array.isArray(w)?w:[w];let M=T.reduce(r(m),{});b===!1&&(M={});const{prevResolvedValues:F={}}=p,U={...F,...M},H=Q=>{P=!0,f.has(Q)&&(N=!0,f.delete(Q)),p.needsAnimating[Q]=!0;const _=e.getValue(Q);_&&(_.liveStyle=!1)};for(const Q in U){const _=M[Q],D=F[Q];if(g.hasOwnProperty(Q))continue;let L=!1;Ol(_)&&Ol(D)?L=!Dg(_,D):L=_!==D,L?_!=null?H(Q):f.add(Q):_!==void 0&&f.has(Q)?H(Q):p.protectedKeys[Q]=!0}p.prevProp=w,p.prevResolvedValues=M,p.isActive&&(g={...g,...M}),s&&e.blockInitialAnimation&&(P=!1),P&&(!(S&&C)||N)&&d.push(...T.map(Q=>({animation:Q,options:{type:m}})))}if(f.size){const k={};f.forEach(m=>{const p=e.getBaseTarget(m),w=e.getValue(m);w&&(w.liveStyle=!0),k[m]=p??null}),d.push({animation:k})}let y=!!d.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(d):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Ph(),s=!0}}}function $j(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Dg(t,e):!1}function yn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ph(){return{animate:yn(!0),whileInView:yn(),whileHover:yn(),whileTap:yn(),whileDrag:yn(),whileFocus:yn(),exit:yn()}}class gn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hj extends gn{constructor(t){super(t),t.animationState||(t.animationState=Bj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Va(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Kj=0;class Wj extends gn{constructor(){super(...arguments),this.id=Kj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const qj={animation:{Feature:Hj},exit:{Feature:Wj}};function Or(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Yr(e){return{point:{x:e.pageX,y:e.pageY}}}const Yj=e=>t=>pu(t)&&e(t,Yr(t));function ar(e,t,n,s){return Or(e,t,Yj(n),s)}const Ch=(e,t)=>Math.abs(e-t);function Gj(e,t){const n=Ch(e.x,t.x),s=Ch(e.y,t.y);return Math.sqrt(n**2+s**2)}class w0{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Co(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=Gj(d.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:x}=d,{timestamp:y}=ke;this.history.push({...x,timestamp:y});const{onStart:k,onMove:m}=this.handlers;f||(k&&k(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Po(f,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Co(d.type==="pointercancel"?this.lastMoveEventInfo:Po(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,k),x&&x(d,k)},!pu(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Yr(t),l=Po(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ke;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Co(l,this.history)),this.removeListeners=qr(ar(this.contextWindow,"pointermove",this.handlePointerMove),ar(this.contextWindow,"pointerup",this.handlePointerUp),ar(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cn(this.updatePoint)}}function Po(e,t){return t?{point:t(e.point)}:e}function Th(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Co({point:e},t){return{point:e,delta:Th(e,b0(t)),offset:Th(e,Qj(t)),velocity:Xj(t,.1)}}function Qj(e){return e[0]}function b0(e){return e[e.length-1]}function Xj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=b0(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Dt(t)));)n--;if(!s)return{x:0,y:0};const a=Rt(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const j0=1e-4,Jj=1-j0,Zj=1+j0,k0=.01,ek=0-k0,tk=0+k0;function Ge(e){return e.max-e.min}function nk(e,t,n){return Math.abs(e-t)<=n}function Mh(e,t,n,s=.5){e.origin=s,e.originPoint=le(t.min,t.max,e.origin),e.scale=Ge(n)/Ge(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Jj&&e.scale<=Zj||isNaN(e.scale))&&(e.scale=1),(e.translate>=ek&&e.translate<=tk||isNaN(e.translate))&&(e.translate=0)}function or(e,t,n,s){Mh(e.x,t.x,n.x,s?s.originX:void 0),Mh(e.y,t.y,n.y,s?s.originY:void 0)}function Eh(e,t,n){e.min=n.min+t.min,e.max=e.min+Ge(t)}function sk(e,t,n){Eh(e.x,t.x,n.x),Eh(e.y,t.y,n.y)}function _h(e,t,n){e.min=t.min-n.min,e.max=e.min+Ge(t)}function lr(e,t,n){_h(e.x,t.x,n.x),_h(e.y,t.y,n.y)}function rk(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?le(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?le(n,e,s.max):Math.min(e,n)),e}function Dh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ik(e,{top:t,left:n,bottom:s,right:r}){return{x:Dh(e.x,n,r),y:Dh(e.y,t,s)}}function Rh(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function ak(e,t){return{x:Rh(e.x,t.x),y:Rh(e.y,t.y)}}function ok(e,t){let n=.5;const s=Ge(e),r=Ge(t);return r>s?n=ks(t.min,t.max-s,e.min):s>r&&(n=ks(e.min,e.max-r,t.min)),It(0,1,n)}function lk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Wl=.35;function ck(e=Wl){return e===!1?e=0:e===!0&&(e=Wl),{x:Ah(e,"left","right"),y:Ah(e,"top","bottom")}}function Ah(e,t,n){return{min:Oh(e,t),max:Oh(e,n)}}function Oh(e,t){return typeof e=="number"?e:e[t]||0}const Lh=()=>({translate:0,scale:1,origin:0,originPoint:0}),is=()=>({x:Lh(),y:Lh()}),Fh=()=>({min:0,max:0}),fe=()=>({x:Fh(),y:Fh()});function Ze(e){return[e("x"),e("y")]}function S0({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function uk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function To(e){return e===void 0||e===1}function ql({scale:e,scaleX:t,scaleY:n}){return!To(e)||!To(t)||!To(n)}function bn(e){return ql(e)||N0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function N0(e){return Ih(e.x)||Ih(e.y)}function Ih(e){return e&&e!=="0%"}function pa(e,t,n){const s=e-n,r=t*s;return n+r}function Vh(e,t,n,s,r){return r!==void 0&&(e=pa(e,r,s)),pa(e,n,s)+t}function Yl(e,t=0,n=1,s,r){e.min=Vh(e.min,t,n,s,r),e.max=Vh(e.max,t,n,s,r)}function P0(e,{x:t,y:n}){Yl(e.x,t.translate,t.scale,t.originPoint),Yl(e.y,n.translate,n.scale,n.originPoint)}const zh=.999999999999,Uh=1.0000000000001;function hk(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&os(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,P0(e,o)),s&&bn(a.latestValues)&&os(e,a.latestValues))}t.x<Uh&&t.x>zh&&(t.x=1),t.y<Uh&&t.y>zh&&(t.y=1)}function as(e,t){e.min=e.min+t,e.max=e.max+t}function Bh(e,t,n,s,r=.5){const a=le(e.min,e.max,r);Yl(e,t,n,a,s)}function os(e,t){Bh(e.x,t.x,t.scaleX,t.scale,t.originX),Bh(e.y,t.y,t.scaleY,t.scale,t.originY)}function C0(e,t){return S0(dk(e.getBoundingClientRect(),t))}function fk(e,t,n){const s=C0(e,n),{scroll:r}=t;return r&&(as(s.x,r.offset.x),as(s.y,r.offset.y)),s}const T0=({current:e})=>e?e.ownerDocument.defaultView:null,mk=new WeakMap;class pk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yr(h).point)},a=(h,d)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lb(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ze(k=>{let m=this.getAxisMotionValue(k).get()||0;if(St.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[k];w&&(m=Ge(w)*(parseFloat(m)/100))}}this.originPoint[k]=m}),x&&se.postRender(()=>x(h,d)),Il(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:k}=d;if(g&&this.currentDirection===null){this.currentDirection=gk(k),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,k),this.updateAxis("y",d.point,k),this.visualElement.render(),y&&y(h,d)},l=(h,d)=>this.stop(h,d),c=()=>Ze(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new w0(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:T0(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&se.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!xi(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=rk(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&ss(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=ik(r.layoutBox,n):this.constraints=!1,this.elastic=ck(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ze(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=lk(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ss(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=fk(s,r.root,this.visualElement.getTransformPagePoint());let o=ak(r.layout.layoutBox,a);if(n){const l=n(uk(o));this.hasMutatedConstraints=!!l,l&&(o=S0(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ze(h=>{if(!xi(h,n,this.currentDirection))return;let d=c&&c[h]||{};o&&(d={min:0,max:0});const f=r?200:1e6,g=r?40:1e7,x={type:"inertia",velocity:s?t[h]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(h,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Il(this.visualElement,t),s.start(Cu(t,s,0,n,this.visualElement,!1))}stopAnimation(){Ze(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ze(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ze(n=>{const{drag:s}=this.getProps();if(!xi(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(t[n]-le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ss(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ze(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=ok({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ze(o=>{if(!xi(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(le(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;mk.set(this.visualElement,this);const t=this.visualElement.current,n=ar(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ss(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),se.read(s);const o=Or(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ze(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Wl,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function xi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xk extends gn{constructor(t){super(t),this.removeGroupControls=qe,this.removeListeners=qe,this.controls=new pk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const $h=e=>(t,n)=>{e&&se.postRender(()=>e(t,n))};class yk extends gn{constructor(){super(...arguments),this.removePointerDownListener=qe}onPointerDown(t){this.session=new w0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:$h(t),onStart:$h(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&se.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=ar(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ri={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(I.test(e))e=parseFloat(e);else return e;const n=Hh(e,t.target.x),s=Hh(e,t.target.y);return`${n}% ${s}%`}},vk={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=un.parse(e);if(r.length>5)return s;const a=un.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=le(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}};class wk extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;Uw(bk),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ri.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||se.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nu.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function M0(e){const[t,n]=hg(),s=v.useContext(Yc);return i.jsx(wk,{...e,layoutGroup:s,switchLayoutGroup:v.useContext(vg),isPresent:t,safeToRemove:n})}const bk={borderRadius:{...zs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zs,borderTopRightRadius:zs,borderBottomLeftRadius:zs,borderBottomRightRadius:zs,boxShadow:vk};function jk(e,t,n){const s=Ee(e)?e:Rr(e);return s.start(Cu("",s,t,n)),s.animation}function kk(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Sk=(e,t)=>e.depth-t.depth;class Nk{constructor(){this.children=[],this.isDirty=!1}add(t){gu(this.children,t),this.isDirty=!0}remove(t){xu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Sk),this.isDirty=!1,this.children.forEach(t)}}function Pk(e,t){const n=Nt.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&(cn(s),e(a-t))};return se.read(s,!0),()=>cn(s)}const E0=["TopLeft","TopRight","BottomLeft","BottomRight"],Ck=E0.length,Kh=e=>typeof e=="string"?parseFloat(e):e,Wh=e=>typeof e=="number"||I.test(e);function Tk(e,t,n,s,r,a){r?(e.opacity=le(0,n.opacity!==void 0?n.opacity:1,Mk(s)),e.opacityExit=le(t.opacity!==void 0?t.opacity:1,0,Ek(s))):a&&(e.opacity=le(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<Ck;o++){const l=`border${E0[o]}Radius`;let c=qh(t,l),u=qh(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Wh(c)===Wh(u)?(e[l]=Math.max(le(Kh(c),Kh(u),s),0),(St.test(u)||St.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,s))}function qh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mk=_0(0,.5,Gg),Ek=_0(.5,.95,qe);function _0(e,t,n){return s=>s<e?0:s>t?1:n(ks(e,t,s))}function Yh(e,t){e.min=t.min,e.max=t.max}function Je(e,t){Yh(e.x,t.x),Yh(e.y,t.y)}function Gh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Qh(e,t,n,s,r){return e-=t,e=pa(e,1/n,s),r!==void 0&&(e=pa(e,1/r,s)),e}function _k(e,t=0,n=1,s=.5,r,a=e,o=e){if(St.test(t)&&(t=parseFloat(t),t=le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=le(a.min,a.max,s);e===a&&(l-=t),e.min=Qh(e.min,t,n,l,r),e.max=Qh(e.max,t,n,l,r)}function Xh(e,t,[n,s,r],a,o){_k(e,t[n],t[s],t[r],t.scale,a,o)}const Dk=["x","scaleX","originX"],Rk=["y","scaleY","originY"];function Jh(e,t,n,s){Xh(e.x,t,Dk,n?n.x:void 0,s?s.x:void 0),Xh(e.y,t,Rk,n?n.y:void 0,s?s.y:void 0)}function Zh(e){return e.translate===0&&e.scale===1}function D0(e){return Zh(e.x)&&Zh(e.y)}function ef(e,t){return e.min===t.min&&e.max===t.max}function Ak(e,t){return ef(e.x,t.x)&&ef(e.y,t.y)}function tf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function R0(e,t){return tf(e.x,t.x)&&tf(e.y,t.y)}function nf(e){return Ge(e.x)/Ge(e.y)}function sf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ok{constructor(){this.members=[]}add(t){gu(this.members,t),t.scheduleRender()}remove(t){if(xu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lk(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||a||o)&&(s=`translate3d(${r}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:g,skewY:x}=n;u&&(s=`perspective(${u}px) ${s}`),h&&(s+=`rotate(${h}deg) `),d&&(s+=`rotateX(${d}deg) `),f&&(s+=`rotateY(${f}deg) `),g&&(s+=`skewX(${g}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const jn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Gs=typeof window<"u"&&window.MotionDebug!==void 0,Mo=["","X","Y","Z"],Fk={visibility:"hidden"},rf=1e3;let Ik=0;function Eo(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function A0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Bg(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",se,!(r||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&A0(s)}function O0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Ik++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gs&&(jn.totalNodes=jn.resolvedTargetDeltas=jn.recalculatedProjection=0),this.nodes.forEach(Uk),this.nodes.forEach(Wk),this.nodes.forEach(qk),this.nodes.forEach(Bk),Gs&&window.MotionDebug.record(jn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nk)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yu),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kk(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Pk(f,250),Ri.hasAnimatedSinceResize&&(Ri.hasAnimatedSinceResize=!1,this.nodes.forEach(of))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||Jk,{onLayoutAnimationStart:k,onLayoutAnimationComplete:m}=h.getProps(),p=!this.targetLayout||!R0(this.targetLayout,x)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const j={...hu(y,"layout"),onPlay:k,onComplete:m};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||of(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(af);return}this.isUpdating||this.nodes.forEach(Hk),this.isUpdating=!1,this.nodes.forEach(Kk),this.nodes.forEach(Vk),this.nodes.forEach(zk),this.clearAllSnapshots();const l=Nt.now();ke.delta=It(0,1e3/60,l-ke.timestamp),ke.timestamp=l,ke.isProcessing=!0,wo.update.process(ke),wo.preRender.process(ke),wo.render.process(ke),ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($k),this.sharedNodes.forEach(Gk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!D0(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(l||bn(this.latestValues)||h)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Zk(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return fe();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(e2))){const{scroll:h}=this.root;h&&(as(c.x,h.offset.x),as(c.y,h.offset.y))}return c}removeElementScroll(o){var l;const c=fe();if(Je(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Je(c,o),as(c.x,d.offset.x),as(c.y,d.offset.y))}return c}applyTransform(o,l=!1){const c=fe();Je(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&os(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),bn(h.latestValues)&&os(c,h.latestValues)}return bn(this.latestValues)&&os(c,this.latestValues),c}removeTransform(o){const l=fe();Je(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!bn(u.latestValues))continue;ql(u.latestValues)&&u.updateSnapshot();const h=fe(),d=u.measurePageBox();Je(h,d),Jh(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return bn(this.latestValues)&&Jh(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ke.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),lr(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Je(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fe(),this.targetWithTransforms=fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Je(this.target,this.layout.layoutBox),P0(this.target,this.targetDelta)):Je(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),lr(this.relativeTargetOrigin,this.target,g.target),Je(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gs&&jn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ql(this.parent.latestValues)||N0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ke.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Je(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;hk(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=fe());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gh(this.prevProjectionDelta.x,this.projectionDelta.x),Gh(this.prevProjectionDelta.y,this.projectionDelta.y)),or(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!sf(this.projectionDelta.x,this.prevProjectionDelta.x)||!sf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Gs&&jn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=is(),this.projectionDelta=is(),this.projectionDeltaWithTransform=is()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=fe(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,k=this.getStack(),m=!k||k.members.length<=1,p=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(Xk));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const b=j/1e3;lf(d.x,o.x,b),lf(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lr(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qk(this.relativeTarget,this.relativeTargetOrigin,f,b),w&&Ak(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=fe()),Je(w,this.relativeTarget)),y&&(this.animationValues=h,Tk(h,u,this.latestValues,b,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{Ri.hasAnimatedSinceResize=!0,this.currentAnimation=jk(0,rf,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&L0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||fe();const d=Ge(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=Ge(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Je(l,c),os(l,h),or(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ok),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Eo("z",o,u,this.animationValues);for(let h=0;h<Mo.length;h++)Eo(`rotate${Mo[h]}`,o,u,this.animationValues),Eo(`skew${Mo[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Fk;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_i(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=_i(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!bn(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Lk(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ua){if(f[y]===void 0)continue;const{correct:k,applyTo:m}=ua[y],p=u.transform==="none"?f[y]:k(f[y],d);if(m){const w=m.length;for(let j=0;j<w;j++)u[m[j]]=p}else u[y]=p}return this.options.layoutId&&(u.pointerEvents=d===this?_i(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(af),this.root.sharedNodes.clear()}}}function Vk(e){e.updateLayout()}function zk(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Ze(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],g=Ge(f);f.min=s[d].min,f.max=f.min+g}):L0(a,n.layoutBox,s)&&Ze(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],g=Ge(s[d]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const l=is();or(l,s,n.layoutBox);const c=is();o?or(c,e.applyTransform(r,!0),n.measuredBox):or(c,s,n.layoutBox);const u=!D0(l);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:g}=d;if(f&&g){const x=fe();lr(x,n.layoutBox,f.layoutBox);const y=fe();lr(y,s,g.layoutBox),R0(x,y)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Uk(e){Gs&&jn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Bk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $k(e){e.clearSnapshot()}function af(e){e.clearMeasurements()}function Hk(e){e.isLayoutDirty=!1}function Kk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function of(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wk(e){e.resolveTargetDelta()}function qk(e){e.calcProjection()}function Yk(e){e.resetSkewAndRotation()}function Gk(e){e.removeLeadSnapshot()}function lf(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cf(e,t,n,s){e.min=le(t.min,n.min,s),e.max=le(t.max,n.max,s)}function Qk(e,t,n,s){cf(e.x,t.x,n.x,s),cf(e.y,t.y,n.y,s)}function Xk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Jk={duration:.45,ease:[.4,0,.1,1]},uf=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),df=uf("applewebkit/")&&!uf("chrome/")?Math.round:qe;function hf(e){e.min=df(e.min),e.max=df(e.max)}function Zk(e){hf(e.x),hf(e.y)}function L0(e,t,n){return e==="position"||e==="preserve-aspect"&&!nk(nf(t),nf(n),.2)}function e2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const t2=O0({attachResizeListener:(e,t)=>Or(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_o={current:void 0},F0=O0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_o.current){const e=new t2({});e.mount(window),e.setOptions({layoutScroll:!0}),_o.current=e}return _o.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),n2={pan:{Feature:yk},drag:{Feature:xk,ProjectionNode:F0,MeasureLayout:M0}};function ff(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&se.postRender(()=>a(t,Yr(t)))}class s2 extends gn{mount(){const{current:t}=this.node;t&&(this.unmount=sb(t,n=>(ff(this.node,n,"Start"),s=>ff(this.node,s,"End"))))}unmount(){}}class r2 extends gn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qr(Or(this.node.current,"focus",()=>this.onFocus()),Or(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mf(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&se.postRender(()=>a(t,Yr(t)))}class i2 extends gn{mount(){const{current:t}=this.node;t&&(this.unmount=ob(t,n=>(mf(this.node,n,"Start"),(s,{success:r})=>mf(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gl=new WeakMap,Do=new WeakMap,a2=e=>{const t=Gl.get(e.target);t&&t(e)},o2=e=>{e.forEach(a2)};function l2({root:e,...t}){const n=e||document;Do.has(n)||Do.set(n,{});const s=Do.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(o2,{root:e,...t})),s[r]}function c2(e,t,n){const s=l2(t);return Gl.set(e,n),s.observe(e),()=>{Gl.delete(e),s.unobserve(e)}}const u2={some:0,all:1};class d2 extends gn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:u2[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(c)};return c2(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(h2(t,n))&&this.startObserver()}unmount(){}}function h2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const f2={inView:{Feature:d2},tap:{Feature:i2},focus:{Feature:r2},hover:{Feature:s2}},m2={layout:{ProjectionNode:F0,MeasureLayout:M0}},Ql={current:null},I0={current:!1};function p2(){if(I0.current=!0,!!Xc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ql.current=e.matches;e.addListener(t),t()}else Ql.current=!1}const g2=[...c0,Te,un],x2=e=>g2.find(l0(e)),pf=new WeakMap;function y2(e,t,n){for(const s in t){const r=t[s],a=n[s];if(Ee(r))e.addValue(s,r);else if(Ee(a))e.addValue(s,Rr(r,{owner:e}));else if(a!==r)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(s);e.addValue(s,Rr(o!==void 0?o:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const gf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v2{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Su,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Nt.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,se.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=za(n),this.isVariantNode=xg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const x=f[g];c[g]!==void 0&&Ee(x)&&x.set(c[g],!1)}}mount(t){this.current=t,pf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),I0.current||p2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ql.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pf.delete(this.current),this.projection&&this.projection.unmount(),cn(this.notifyUpdate),cn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Un.has(t),r=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&se.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ss){const n=Ss[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<gf.length;s++){const r=gf[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=t[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=y2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Rr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(a0(r)||Xg(r))?r=parseFloat(r):!x2(r)&&un.test(n)&&(r=s0(t,n)),this.setBaseTarget(t,Ee(r)?r.get():r)),Ee(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=ru(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ee(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class V0 extends v2{constructor(){super(...arguments),this.KeyframeResolver=u0}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ee(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function w2(e){return window.getComputedStyle(e)}class b2 extends V0{constructor(){super(...arguments),this.type="html",this.renderInstance=Pg}readValueFromInstance(t,n){if(Un.has(n)){const s=ku(n);return s&&s.default||0}else{const s=w2(t),r=(kg(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return C0(t,n)}build(t,n,s){ou(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return du(t,n,s)}}class j2 extends V0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Un.has(n)){const s=ku(n);return s&&s.default||0}return n=Cg.has(n)?n:tu(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Eg(t,n,s)}build(t,n,s){lu(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,r){Tg(t,n,s,r)}mount(t){this.isSVGTag=uu(t.tagName),super.mount(t)}}const k2=(e,t)=>su(e)?new j2(t):new b2(t,{allowProjection:e!==v.Fragment}),S2=Qw({...qj,...f2,...n2,...m2},k2),O=dw(S2),N2=()=>{const{currentPunches:e,incrementPunches:t}=at(),n=()=>{t()};return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(O.div,{className:"text-4xl font-bold mb-4 text-orange-500",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.3},children:e},e),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-24 h-24 bg-orange-500 rounded-full flex items-center justify-center text-white shadow-lg hover:bg-orange-600 transition-colors",onClick:n,children:i.jsx("span",{className:"text-5xl font-bold",children:"+"})})]})},P2=()=>{const{currentKicks:e,incrementKicks:t}=at(),n=()=>{t()};return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(O.div,{className:"text-4xl font-bold mb-4 text-orange-500",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.3},children:e},e),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-24 h-24 bg-orange-500 rounded-full flex items-center justify-center text-white shadow-lg hover:bg-orange-600 transition-colors",onClick:n,children:i.jsx("span",{className:"text-2xl font-bold",children:"KICK"})})]})},C2=()=>{const{currentKatas:e,addKata:t,kataList:n,kataObjects:s}=at(),r=Aa(),[a,o]=v.useState(n[0]),[l,c]=v.useState(1),u=()=>{t(a,l),c(1)},h=()=>{c(g=>g+1)},d=()=>{c(g=>g>1?g-1:1)},f=()=>{const g=s.find(x=>x.name===a);g&&r(`/kata/${g.id}`)};return i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"mb-4",children:i.jsx("select",{className:"w-full p-3 border-2 border-blue-200 rounded-lg text-lg focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",value:a,onChange:g=>o(g.target.value),children:n.map((g,x)=>i.jsx("option",{value:g,children:g},`kata-option-${x}`))})}),i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white shadow-md",onClick:d,children:i.jsx("span",{className:"text-xl font-bold",children:"-"})}),i.jsxs("div",{className:"mx-4 text-2xl font-bold text-blue-800",children:[l," ",l===1?"time":"times"]}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white shadow-md",onClick:h,children:i.jsx("span",{className:"text-xl font-bold",children:"+"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-bold hover:bg-blue-700 transition-colors shadow-md",onClick:u,children:"Add Kata"}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors shadow-md",onClick:f,children:" View Steps & Details"}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-purple-700 transition-colors shadow-md",onClick:()=>r("/kata-reference"),children:" Browse All Kata"})]}),e.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-800",children:"Today's Katas:"}),i.jsx("ul",{className:"bg-blue-50 rounded-lg p-2",children:e.map((g,x)=>i.jsxs(O.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"py-1 border-b border-blue-100 last:border-0",children:[g.name," x",g.repetitions]},`current-kata-${g.name}-${x}`))})]})]})},T2=()=>{const[e,t]=v.useState("punch"),{incrementTechnique:n,getTechniqueCount:s}=at(),r=Xp.filter(o=>o.category===e),a=o=>{n(o.id)};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:M1.map(o=>i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(o.id),className:`flex items-center px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap ${e===o.id?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx("span",{className:"mr-2",children:o.icon}),o.label]},o.id))}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(o=>i.jsxs(O.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-md p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-blue-900",children:o.name}),i.jsx("p",{className:"text-sm text-gray-600 italic",children:o.japaneseName})]}),i.jsxs("span",{className:"bg-orange-100 text-orange-800 text-xs font-bold px-2 py-1 rounded-full",children:[o.points," pts"]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-900",children:s(o.id)}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(o),className:"bg-orange-500 text-white w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold shadow-md hover:bg-orange-600 transition-colors",children:"+"})]})]},o.id))})]})},M2=({seconds:e})=>{const t=l=>{const c=Math.floor(l/60),u=l%60;return`${c}:${u.toString().padStart(2,"0")}`},s=2*Math.PI*40,r=60*60,a=Math.min(e/r,1),o=s*(1-a);return i.jsx("div",{className:"flex flex-col items-center",children:i.jsxs("div",{className:"relative w-32 h-32",children:[i.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[i.jsx("circle",{cx:"50",cy:"50",r:40,stroke:"#e2e8f0",strokeWidth:"8",fill:"none"}),i.jsx(O.circle,{cx:"50",cy:"50",r:40,stroke:"#2ECC71",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:s,strokeDashoffset:o,transform:"rotate(-90 50 50)",initial:{strokeDashoffset:s},animate:{strokeDashoffset:o},transition:{duration:.5}})]}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:i.jsx("span",{className:"text-2xl font-bold text-blue-900",children:t(e)})})]})})},E2=({message:e})=>i.jsx(O.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.5},className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 my-4 rounded-lg",children:i.jsx("p",{className:"text-lg font-bold text-center text-yellow-800",style:{fontFamily:"Comic Sans MS, cursive"},children:e})}),_2=()=>{const{savedCombinations:e,activeSession:t,currentSessionMoves:n,practiceProgress:s,startMovementSession:r,endMovementSession:a,getDisplayName:o,getSessionData:l}=qc(),[c,u]=v.useState([]),[h,d]=v.useState(0),[f,g]=v.useState(""),x=l(),y=async()=>{if(c.length>0)try{await r(c),d(0)}catch(S){console.error("Failed to start session:",S)}},k=async()=>{if(t)try{await a(t.session_id,f),u([]),d(0),g("")}catch(S){console.error("Failed to end session:",S)}},m=()=>{h<n.length-1&&d(h+1)},p=()=>{h>0&&d(h-1)},w=()=>n[h],j=()=>n.length===0?0:(h+1)/n.length*100;if(!t)return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(la,{className:"text-blue-600",size:20}),i.jsx("h4",{className:"text-md font-semibold text-blue-800",children:"Movement Combinations"})]}),e.length===0?i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[i.jsx("p",{className:"text-blue-700 text-sm",children:"No movement combinations available."}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Visit the Movement Tracker to create combinations!"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:e.map(S=>i.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-blue-50 rounded-lg cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:c.includes(S.combination_id),onChange:C=>{C.target.checked?u([...c,S.combination_id]):u(c.filter(P=>P!==S.combination_id))},className:"rounded border-blue-300 text-blue-600 focus:ring-blue-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:S.name}),i.jsxs("p",{className:"text-xs text-blue-600",children:[S.moves.length," moves  ",S.repeat_count]})]}),i.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["",S.repeat_count]})]},S.combination_id))}),i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,disabled:c.length===0,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[i.jsx(Er,{size:18}),i.jsx("span",{children:"Start Movement Session"})]})]})]});const b=w();return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(la,{className:"text-green-600",size:20}),i.jsx("h4",{className:"text-md font-semibold text-green-800",children:"Movement Session Active"})]}),i.jsxs("div",{className:"text-xs text-green-600",children:[x.combinations," combinations  ",x.moves," moves"]})]}),i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("h3",{className:"text-lg font-bold text-green-800 mb-1",children:b?o(b.type,b.name):"No moves"}),b&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-green-600 font-medium capitalize mb-1",children:b.type}),i.jsx("p",{className:"text-xs text-gray-600",children:b.description})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[i.jsxs("span",{children:["Move ",h+1," of ",n.length]}),i.jsxs("span",{children:[Math.round(j()),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${j()}%`},className:"bg-orange-500 h-2 rounded-full transition-all duration-300"})})]}),i.jsxs("div",{className:"flex justify-center space-x-2 mb-3",children:[i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,disabled:h===0,className:"flex items-center space-x-1 px-3 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[i.jsx(og,{size:14}),i.jsx("span",{children:"Previous"})]}),i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:h===n.length-1,className:"flex items-center space-x-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[i.jsx("span",{children:"Next"}),i.jsx(lg,{size:14})]})]}),b&&i.jsx("div",{className:"text-center mb-3",children:i.jsx("span",{className:"inline-flex items-center space-x-1 bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:i.jsxs("span",{children:["Hold for ",b.duration_seconds,"s"]})})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[i.jsxs("div",{className:"bg-white border border-green-200 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-xs text-green-600",children:"Combinations"}),i.jsx("p",{className:"text-sm font-bold text-green-800",children:x.combinations})]}),i.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-xs text-blue-600",children:"Total Moves"}),i.jsx("p",{className:"text-sm font-bold text-blue-800",children:x.moves})]}),i.jsxs("div",{className:"bg-white border border-orange-200 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-xs text-orange-600",children:"Time"}),i.jsxs("p",{className:"text-sm font-bold text-orange-800",children:[Math.floor(x.sessionTime/60),":",(x.sessionTime%60).toString().padStart(2,"0")]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Session Notes (optional)"}),i.jsx("textarea",{value:f,onChange:S=>g(S.target.value),placeholder:"How did this session go?",rows:2,className:"w-full p-2 border border-gray-300 rounded-lg text-xs focus:ring-2 focus:ring-blue-500"})]}),i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[i.jsx(ng,{size:18}),i.jsx("span",{children:"Complete Movement Session"})]})]})};var Ai={linear:function(e,t,n,s){var r=n-t;return r*e/s+t},easeInQuad:function(e,t,n,s){var r=n-t;return r*(e/=s)*e+t},easeOutQuad:function(e,t,n,s){var r=n-t;return-r*(e/=s)*(e-2)+t},easeInOutQuad:function(e,t,n,s){var r=n-t;return(e/=s/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,s){var r=n-t;return r*(e/=s)*e*e+t},easeOutCubic:function(e,t,n,s){var r=n-t;return r*((e=e/s-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,s){var r=n-t;return(e/=s/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,s){var r=n-t;return r*(e/=s)*e*e*e+t},easeOutQuart:function(e,t,n,s){var r=n-t;return-r*((e=e/s-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,s){var r=n-t;return(e/=s/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,s){var r=n-t;return r*(e/=s)*e*e*e*e+t},easeOutQuint:function(e,t,n,s){var r=n-t;return r*((e=e/s-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,s){var r=n-t;return(e/=s/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,s){var r=n-t;return-r*Math.cos(e/s*(Math.PI/2))+r+t},easeOutSine:function(e,t,n,s){var r=n-t;return r*Math.sin(e/s*(Math.PI/2))+t},easeInOutSine:function(e,t,n,s){var r=n-t;return-r/2*(Math.cos(Math.PI*e/s)-1)+t},easeInExpo:function(e,t,n,s){var r=n-t;return e==0?t:r*Math.pow(2,10*(e/s-1))+t},easeOutExpo:function(e,t,n,s){var r=n-t;return e==s?t+r:r*(-Math.pow(2,-10*e/s)+1)+t},easeInOutExpo:function(e,t,n,s){var r=n-t;return e===0?t:e===s?t+r:(e/=s/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,s){var r=n-t;return-r*(Math.sqrt(1-(e/=s)*e)-1)+t},easeOutCirc:function(e,t,n,s){var r=n-t;return r*Math.sqrt(1-(e=e/s-1)*e)+t},easeInOutCirc:function(e,t,n,s){var r=n-t;return(e/=s/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,s){var r=n-t,a,o,l;return l=1.70158,o=0,a=r,e===0?t:(e/=s)===1?t+r:(o||(o=s*.3),a<Math.abs(r)?(a=r,l=o/4):l=o/(2*Math.PI)*Math.asin(r/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*s-l)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,s){var r=n-t,a,o,l;return l=1.70158,o=0,a=r,e===0?t:(e/=s)===1?t+r:(o||(o=s*.3),a<Math.abs(r)?(a=r,l=o/4):l=o/(2*Math.PI)*Math.asin(r/a),a*Math.pow(2,-10*e)*Math.sin((e*s-l)*(2*Math.PI)/o)+r+t)},easeInOutElastic:function(e,t,n,s){var r=n-t,a,o,l;return l=1.70158,o=0,a=r,e===0?t:(e/=s/2)===2?t+r:(o||(o=s*(.3*1.5)),a<Math.abs(r)?(a=r,l=o/4):l=o/(2*Math.PI)*Math.asin(r/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*s-l)*(2*Math.PI)/o))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*s-l)*(2*Math.PI)/o)*.5+r+t)},easeInBack:function(e,t,n,s,r){var a=n-t;return r===void 0&&(r=1.70158),a*(e/=s)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,s,r){var a=n-t;return r===void 0&&(r=1.70158),a*((e=e/s-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,s,r){var a=n-t;return r===void 0&&(r=1.70158),(e/=s/2)<1?a/2*(e*e*(((r*=1.525)+1)*e-r))+t:a/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+t},easeInBounce:function(e,t,n,s){var r=n-t,a;return a=Ai.easeOutBounce(s-e,0,r,s),r-a+t},easeOutBounce:function(e,t,n,s){var r=n-t;return(e/=s)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,s){var r=n-t,a;return e<s/2?(a=Ai.easeInBounce(e*2,0,r,s),a*.5+t):(a=Ai.easeOutBounce(e*2-s,0,r,s),a*.5+r*.5+t)}},D2=Ai;function R2(e){return e*Math.PI/180}function $e(e,t){return e+Math.random()*(t-e)}function A2(e,t){return Math.floor(e+Math.random()*(t-e+1))}var cr;(function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"})(cr||(cr={}));var Kt;(function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"})(Kt||(Kt={}));const O2=1e3/60;class L2{constructor(t,n,s,r){this.getOptions=n;const{colors:a,initialVelocityX:o,initialVelocityY:l}=this.getOptions();this.context=t,this.x=s,this.y=r,this.w=$e(5,20),this.h=$e(5,20),this.radius=$e(5,10),this.vx=typeof o=="number"?$e(-o,o):$e(o.min,o.max),this.vy=typeof l=="number"?$e(-l,0):$e(l.min,l.max),this.shape=A2(0,2),this.angle=R2($e(0,360)),this.angularSpin=$e(-.2,.2),this.color=a[Math.floor(Math.random()*a.length)],this.rotateY=$e(0,1),this.rotationDirection=$e(0,1)?Kt.Positive:Kt.Negative}update(t){const{gravity:n,wind:s,friction:r,opacity:a,drawShape:o}=this.getOptions(),l=t/O2;this.x+=this.vx*l,this.y+=this.vy*l,this.vy+=n*l,this.vx+=s*l,this.vx*=r**l,this.vy*=r**l,this.rotateY>=1&&this.rotationDirection===Kt.Positive?this.rotationDirection=Kt.Negative:this.rotateY<=-1&&this.rotationDirection===Kt.Negative&&(this.rotationDirection=Kt.Positive);const c=.1*this.rotationDirection*l;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case cr.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case cr.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case cr.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class F2{constructor(t,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=r=>{this.particles.splice(r,1)},this.getParticle=()=>{const r=$e(this.x,this.w+this.x),a=$e(this.y,this.h+this.y);return new L2(this.context,this.getOptions,r,a)},this.animate=r=>{const{canvas:a,context:o,particlesGenerated:l,lastNumberOfPieces:c}=this,{run:u,recycle:h,numberOfPieces:d,debug:f,tweenFunction:g,tweenDuration:x}=this.getOptions();if(!u)return!1;const y=this.particles.length,k=h?y:l;if(k<d){c!==d&&(this.tweenProgress=0,this.tweenFrom=k,this.lastNumberOfPieces=d),this.tweenProgress=Math.min(x,Math.max(0,this.tweenProgress+r));const m=g(this.tweenProgress,this.tweenFrom,d,x),p=Math.round(m-k);for(let w=0;w<p;w++)this.particles.push(this.getParticle());this.particlesGenerated+=p}f&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${y}`,a.width-10,a.height-20));for(let m=this.particles.length-1;m>=0;m--){const p=this.particles[m];p.update(r),(p.y>a.height||p.y<-100||p.x>a.width+100||p.x<-100)&&(h&&k<=d?this.particles[m]=this.getParticle():this.removeParticleAt(m))}return y>0||k<d},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.getOptions=n}}const Tu={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:D2.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class I2{constructor(t,n){this.lastFrameTime=0,this.setOptionsWithDefaults=r=>{const a={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...a,...Tu,...r},Object.assign(this,r.confettiSource)},this.update=(r=0)=>{const{options:{run:a,onConfettiComplete:o,frameRate:l},canvas:c,context:u}=this,h=Math.min(r-this.lastFrameTime,50);if(l&&h<1e3/l){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=r-(l?h%l:0),a&&(u.fillStyle="white",u.clearRect(0,0,c.width,c.height)),this.generator.animate(h)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.generator=new F2(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(t){var r,a;const n=(r=this._options)==null?void 0:r.run,s=(a=this._options)==null?void 0:a.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&s===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&n===!1&&this.update()}}const V2=_n.createRef();class Mu extends _n.Component{constructor(t){super(t),this.canvas=_n.createRef(),this.canvas=t.canvasRef||V2}componentDidMount(){if(this.canvas.current){const t=Ro(this.props)[0];this.confetti=new I2(this.canvas.current,t)}}componentDidUpdate(){const t=Ro(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,n]=Ro(this.props),s={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return i.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...n,style:s})}}Mu.defaultProps={...Tu};Mu.displayName="ReactConfetti";function Ro(e){const t={},n={},s={},r=[...Object.keys(Tu),"confettiSource","drawShape","onConfettiComplete","frameRate"],a=["canvasRef"];for(const o in e){const l=e[o];r.includes(o)?t[o]=l:a.includes(o)?a[o]=l:s[o]=l}return[t,s,n]}const z2=_n.forwardRef((e,t)=>i.jsx(Mu,{canvasRef:t,...e})),U2=()=>{const{currentPunches:e,currentKicks:t,currentKatas:n,sessionTimer:s,isSessionActive:r,startSession:a,endSession:o}=at(),{updateRewardProgress:l}=Hr(),[c,u]=v.useState(!1),[h,d]=v.useState(0),[f,g]=v.useState(!1),[x,y]=v.useState(""),[k,m]=v.useState("basic"),p=()=>{a()},w=async()=>{try{const b=await o();d(b),l(b),u(!0),g(!0);const S=oa.motivationalMessages,C=S[Math.floor(Math.random()*S.length)];y(C),setTimeout(()=>{u(!1)},5e3)}catch(b){console.error("Error finishing practice session:",b),d(0),g(!0)}},j=()=>{g(!1)};return f?i.jsxs("div",{className:"relative",children:[c&&i.jsx(z2,{width:window.innerWidth,height:window.innerHeight,recycle:!1}),i.jsxs(O.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-center mb-4 text-blue-700",style:{fontFamily:"Comic Sans MS, cursive"},children:"Practice Complete!"}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs(O.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},className:"text-5xl font-bold text-orange-500 mb-2",children:["+",h]}),i.jsx("p",{className:"text-lg text-blue-700",children:"Points Earned"})]}),i.jsx(E2,{message:x}),i.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-700",children:"Punches"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:e})]}),i.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-700",children:"Kicks"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:t})]}),i.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-700",children:"Katas"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:n.length})]}),i.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg col-span-3",children:[i.jsx("p",{className:"text-sm text-blue-700",children:"Practice Time"}),i.jsxs("p",{className:"text-xl font-bold text-blue-800",children:[Math.floor(s/60),"m ",s%60,"s"]})]})]}),i.jsx("button",{onClick:j,className:"w-full mt-6 bg-orange-500 text-white py-3 px-4 rounded-lg text-lg font-bold hover:bg-orange-600 transition-colors shadow-md",children:"Start New Practice"})]})]}):i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-700",style:{fontFamily:"Comic Sans MS, cursive"},children:"Today's Practice"}),r?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex space-x-1 mb-6",children:[i.jsx("button",{onClick:()=>m("basic"),className:`flex-1 py-2 px-2 rounded-lg font-bold text-xs transition-colors ${k==="basic"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-100"}`,children:"Basic"}),i.jsx("button",{onClick:()=>m("advanced"),className:`flex-1 py-2 px-2 rounded-lg font-bold text-xs transition-colors ${k==="advanced"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-100"}`,children:"Advanced"}),i.jsx("button",{onClick:()=>m("movements"),className:`flex-1 py-2 px-2 rounded-lg font-bold text-xs transition-colors ${k==="movements"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-100"}`,children:"Movements"})]}),k==="basic"?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Punch & Kick Counter"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(N2,{}),i.jsx(P2,{})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Kata Practice"}),i.jsx(C2,{})]})]}):k==="advanced"?i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Technique Practice"}),i.jsx(T2,{})]}):i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Movement Combinations"}),i.jsx(_2,{})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Practice Timer"}),i.jsx(M2,{seconds:s})]}),i.jsx("button",{onClick:w,className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg text-lg font-bold hover:bg-orange-600 transition-colors shadow-md",children:"Finish Practice"})]}):i.jsx("div",{className:"flex justify-center",children:i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-orange-500 text-white py-4 px-8 rounded-lg text-xl font-bold hover:bg-orange-600 transition-colors shadow-md",onClick:p,children:"Start Practice"})})]})},B2=()=>{const{totalPoints:e,currentStreak:t}=at();return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-900",style:{fontFamily:"Comic Sans MS, cursive"},children:"Your Progress"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs(O.div,{whileHover:{scale:1.03},className:"bg-blue-100 rounded-xl p-4 flex flex-col items-center justify-center",children:[i.jsx(bs,{size:36,className:"text-orange-500 mb-2"}),i.jsx("span",{className:"text-sm text-blue-800",children:"Total Points"}),i.jsx(O.span,{className:"text-2xl font-bold text-blue-900",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.5},children:e},e)]}),i.jsxs(O.div,{whileHover:{scale:1.03},className:"bg-orange-100 rounded-xl p-4 flex flex-col items-center justify-center",children:[i.jsx(z1,{size:36,className:"text-orange-500 mb-2"}),i.jsx("span",{className:"text-sm text-blue-800",children:"Practice Streak"}),i.jsxs(O.span,{className:"text-2xl font-bold text-blue-900",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.5},children:[t," days"]},t)]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Belt Level"}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"500 pts"})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:i.jsx(O.div,{className:"bg-orange-500 h-4 rounded-full",initial:{width:0},animate:{width:`${Math.min(e/500*100,100)}%`},transition:{duration:1}})}),i.jsxs("div",{className:"text-xs text-right mt-1 text-blue-700",children:[e," / 500 points"]})]})]})},$2=()=>{const{pendingRewards:e,approvedRewards:t}=Hr(),n=Aa(),s=r=>i.jsx(_l,{size:24,className:"text-orange-500"});return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-900",style:{fontFamily:"Comic Sans MS, cursive"},children:"Your Rewards"}),t.length>0||e.length>0?i.jsxs("div",{className:"space-y-4",children:[t.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-green-600",children:"Ready to Use"}),t.map(r=>i.jsxs(O.div,{whileHover:{scale:1.02},className:"bg-green-100 rounded-lg p-3 mb-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:s(r.icon)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-green-800",children:r.name}),i.jsxs("p",{className:"text-xs text-green-600",children:[r.points," points"]})]})]}),i.jsx("span",{className:"text-green-600 font-bold text-xs uppercase",children:"Approved!"})]},r.id))]}),e.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-600",children:"Waiting for Approval"}),e.map(r=>i.jsxs(O.div,{whileHover:{scale:1.02},className:"bg-yellow-100 rounded-lg p-3 mb-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:s(r.icon)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-yellow-800",children:r.name}),i.jsxs("p",{className:"text-xs text-yellow-600",children:[r.points," points"]})]})]}),i.jsx("span",{className:"text-yellow-600 text-xs",children:"Waiting..."})]},r.id))]})]}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx(_l,{size:48,className:"mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-gray-500",children:"No rewards yet"})]}),i.jsxs(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>n("/rewards"),className:"w-full mt-4 py-3 bg-orange-500 text-white rounded-lg font-bold flex items-center justify-center hover:bg-orange-600 transition-colors",children:["See All Rewards",i.jsx(El,{size:20,className:"ml-1"})]})]})},H2=()=>{const{totalPunches:e,totalSessions:t,favoriteKata:n}=at();return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-900",style:{fontFamily:"Comic Sans MS, cursive"},children:"Quick Stats"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-blue-100 rounded-lg p-3 flex items-center",children:[i.jsx("div",{className:"bg-blue-200 rounded-full p-2 mr-3",children:i.jsx(rg,{size:24,className:"text-blue-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-700",children:"Total Punches"}),i.jsx("p",{className:"text-xl font-bold text-blue-900",children:e})]})]}),i.jsxs("div",{className:"bg-blue-100 rounded-lg p-3 flex items-center",children:[i.jsx("div",{className:"bg-blue-200 rounded-full p-2 mr-3",children:i.jsx(Oa,{size:24,className:"text-blue-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-700",children:"Total Sessions"}),i.jsx("p",{className:"text-xl font-bold text-blue-900",children:t})]})]}),i.jsxs("div",{className:"bg-blue-100 rounded-lg p-3 flex items-center",children:[i.jsx("div",{className:"bg-blue-200 rounded-full p-2 mr-3",children:i.jsx(Y1,{size:24,className:"text-blue-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-700",children:"Favorite Kata"}),i.jsx("p",{className:"text-lg font-bold text-blue-900",children:n})]})]})]})]})},z0=()=>{const{user:e}=Pt(),[t,n]=v.useState(null),[s,r]=v.useState(!0),[a,o]=v.useState("overview"),[l,c]=v.useState(!1);v.useEffect(()=>{e!=null&&e.id&&u()},[e==null?void 0:e.id]);const u=async()=>{if(e!=null&&e.id)try{r(!0);const[m,p]=await Promise.all([ae.getDashboardAnalytics(e.id),ae.getRecentActivity(e.id,15)]);m&&n({stats:m.stats||d(),topKatas:m.topKatas||[],recentActivity:(p==null?void 0:p.activities)||[],progressTrend:m.progressTrend||[]})}catch(m){console.error("Failed to fetch dashboard analytics:",m),n(f())}finally{r(!1)}},h=async()=>{c(!0),await u(),c(!1)},d=()=>({totalKatasPracticed:0,totalSessions:0,totalRepetitions:0,totalPracticeMinutes:0,averageRating:0,currentStreak:0,totalPoints:0,masteredKatas:0,favoriteKata:"",lastPracticeDate:""}),f=()=>({stats:{totalKatasPracticed:8,totalSessions:24,totalRepetitions:156,totalPracticeMinutes:720,averageRating:7.8,currentStreak:5,totalPoints:1240,masteredKatas:2,favoriteKata:"Heian Shodan",lastPracticeDate:new Date().toISOString()},topKatas:[{kataId:"1",kataName:"Heian Shodan",totalRepetitions:45,masteryPercentage:85,mastered:!0,lastPracticed:new Date(Date.now()-864e5).toISOString()},{kataId:"2",kataName:"Heian Nidan",totalRepetitions:32,masteryPercentage:64,mastered:!1,lastPracticed:new Date(Date.now()-1728e5).toISOString()},{kataId:"3",kataName:"Tekki Shodan",totalRepetitions:28,masteryPercentage:56,mastered:!1,lastPracticed:new Date(Date.now()-2592e5).toISOString()}],recentActivity:[{id:"1",type:"kata_practice",activityName:"Heian Shodan Practice",description:"Completed 8 repetitions with focus on timing",timestamp:new Date(Date.now()-36e5).toISOString(),pointsEarned:40,icon:""},{id:"2",type:"achievement",activityName:"Consistency Master",description:"Practiced for 5 consecutive days",timestamp:new Date(Date.now()-72e5).toISOString(),pointsEarned:100,icon:""}],progressTrend:[{date:"2024-01-20",sessions:2,repetitions:15},{date:"2024-01-21",sessions:1,repetitions:8},{date:"2024-01-22",sessions:3,repetitions:22},{date:"2024-01-23",sessions:2,repetitions:18},{date:"2024-01-24",sessions:1,repetitions:12}]}),g=m=>{switch(m){case"katas":return"";case"sessions":return"";case"repetitions":return"";case"minutes":return"";case"rating":return"";case"streak":return"";case"points":return"";case"mastered":return"";default:return""}},x=m=>m>=1e3?(m/1e3).toFixed(1)+"K":m.toString(),y=m=>m?new Date(m).toLocaleDateString():"Never",k=m=>{const p=new Date(m),j=new Date().getTime()-p.getTime(),b=Math.floor(j/(1e3*60*60)),S=Math.floor(b/24);return b<1?"Just now":b<24?`${b}h ago`:S<7?`${S}d ago`:y(m)};return e?s?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),i.jsx("p",{className:"ml-3 text-gray-600",children:"Loading analytics..."})]}):t?i.jsxs("div",{className:"space-y-6","data-testid":"dashboard-analytics",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Your karate training analytics and progress"})]}),i.jsxs("button",{onClick:h,disabled:l,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2","data-testid":"refresh-button",children:[i.jsx("span",{className:l?"animate-spin":"",children:""}),"Refresh"]})]}),i.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:["overview","progress","activity"].map(m=>i.jsx("button",{onClick:()=>o(m),className:`flex-1 py-2 px-4 rounded-md font-medium transition-colors ${a===m?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,"data-testid":`tab-${m}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))}),i.jsxs(Fa,{mode:"wait",children:[a==="overview"&&i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-katas",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Katas Practiced"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.stats.totalKatasPracticed})]}),i.jsx("span",{className:"text-2xl",children:g("katas")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-sessions",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.stats.totalSessions})]}),i.jsx("span",{className:"text-2xl",children:g("sessions")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-repetitions",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Repetitions"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(t.stats.totalRepetitions)})]}),i.jsx("span",{className:"text-2xl",children:g("repetitions")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-points",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x(t.stats.totalPoints)})]}),i.jsx("span",{className:"text-2xl",children:g("points")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-streak",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Current Streak"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[t.stats.currentStreak," days"]})]}),i.jsx("span",{className:"text-2xl",children:g("streak")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-mastered",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Mastered"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.stats.masteredKatas})]}),i.jsx("span",{className:"text-2xl",children:g("mastered")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-rating",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(t.stats.averageRating||0).toFixed(1)})]}),i.jsx("span",{className:"text-2xl",children:g("rating")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-minutes",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Practice Time"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[Math.round(t.stats.totalPracticeMinutes/60),"h"]})]}),i.jsx("span",{className:"text-2xl",children:g("minutes")})]})})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 rounded-lg p-6 text-white",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Quick Insights"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100",children:"Favorite Kata"}),i.jsx("p",{className:"text-xl font-bold",children:t.stats.favoriteKata||"Not determined yet"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100",children:"Last Practice"}),i.jsx("p",{className:"text-xl font-bold",children:y(t.stats.lastPracticeDate)})]})]})]})]},"overview"),a==="progress"&&i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-lg border shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Top Practiced Katas"}),i.jsx("p",{className:"text-gray-600",children:"Your most practiced katas and progress levels"})]}),i.jsxs("div",{className:"p-6 space-y-4","data-testid":"top-katas-list",children:[t.topKatas.map((m,p)=>i.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:p+1}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:m.kataName}),m.mastered&&i.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:" Mastered"})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[i.jsxs("span",{children:[m.totalRepetitions," reps"]}),i.jsxs("span",{children:["Last: ",y(m.lastPracticed)]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"Mastery Progress"}),i.jsxs("span",{children:[m.masteryPercentage,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${m.masteryPercentage>=80?"bg-green-500":m.masteryPercentage>=60?"bg-blue-500":m.masteryPercentage>=40?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.min(m.masteryPercentage,100)}%`}})})]})]})]},m.kataId)),t.topKatas.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No practice data yet. Start practicing to see your progress!"})]})]})},"progress"),a==="activity"&&i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-lg border shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),i.jsx("p",{className:"text-gray-600",children:"Your latest training sessions and achievements"})]}),i.jsx("div",{className:"p-6","data-testid":"recent-activity-list",children:i.jsxs("div",{className:"space-y-4",children:[t.recentActivity.map(m=>i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-lg",children:m.icon})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:m.activityName}),i.jsx("span",{className:"text-sm text-gray-500",children:k(m.timestamp)})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description}),m.pointsEarned&&i.jsx("div",{className:"flex items-center mt-2",children:i.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",children:["+",m.pointsEarned," points"]})})]})]},m.id)),t.recentActivity.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No recent activity. Start practicing to see your activity feed!"})]})})]})},"activity")]})]}):i.jsxs("div",{className:"text-center p-8 text-gray-500",children:[i.jsx("p",{children:"Unable to load analytics data"}),i.jsx("button",{onClick:u,className:"mt-2 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Retry"})]}):i.jsx("div",{className:"text-center p-8 text-gray-500",children:i.jsx("p",{className:"text-lg",children:"Sign in to view your dashboard analytics"})})},K2=()=>{const{childName:e,user:t}=pn(),{savedCombinations:n,loading:s,error:r}=qc();return console.log(" KidDashboard - User state:",{childName:e,userId:t==null?void 0:t.id,userObject:t}),console.log(" KidDashboard - MovementContext state:",{combinations:n.length,loading:s,error:r}),v.useEffect(()=>{document.title=`${e}'s Karate Practice`},[e]),i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsxs("h1",{className:"text-3xl font-bold text-blue-700 mb-6",style:{fontFamily:"Comic Sans MS, cursive"},children:["Hi, ",e,"! "]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(U2,{}),i.jsx(B2,{}),i.jsx(z0,{}),i.jsx($2,{}),i.jsx(H2,{})]})]})};function gt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Fn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const U0=6048e5,W2=864e5;let q2={};function $a(){return q2}function Lr(e,t){var l,c,u,h;const n=$a(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,r=gt(e),a=r.getDay(),o=(a<s?7:0)+a-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function ga(e){return Lr(e,{weekStartsOn:1})}function B0(e){const t=gt(e),n=t.getFullYear(),s=Fn(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=ga(s),a=Fn(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=ga(a);return t.getTime()>=r.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function xf(e){const t=gt(e);return t.setHours(0,0,0,0),t}function yf(e){const t=gt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Y2(e,t){const n=xf(e),s=xf(t),r=+n-yf(n),a=+s-yf(s);return Math.round((r-a)/W2)}function G2(e){const t=B0(e),n=Fn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ga(n)}function Q2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function X2(e){if(!Q2(e)&&typeof e!="number")return!1;const t=gt(e);return!isNaN(Number(t))}function J2(e){const t=gt(e),n=Fn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Z2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eS=(e,t,n)=>{let s;const r=Z2[e];return typeof r=="string"?s=r:t===1?s=r.one:s=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ao(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const tS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rS={date:Ao({formats:tS,defaultWidth:"full"}),time:Ao({formats:nS,defaultWidth:"full"}),dateTime:Ao({formats:sS,defaultWidth:"full"})},iS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aS=(e,t,n,s)=>iS[e];function Us(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;r=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return r[a]}}const oS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fS=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mS={ordinalNumber:fS,era:Us({values:oS,defaultWidth:"wide"}),quarter:Us({values:lS,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Us({values:cS,defaultWidth:"wide"}),day:Us({values:uS,defaultWidth:"wide"}),dayPeriod:Us({values:dS,defaultWidth:"wide",formattingValues:hS,defaultFormattingWidth:"wide"})};function Bs(e){return(t,n={})=>{const s=n.width,r=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?gS(l,d=>d.test(o)):pS(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function pS(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function gS(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function xS(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const r=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(r.length);return{value:o,rest:l}}}const yS=/^(\d+)(th|st|nd|rd)?/i,vS=/\d+/i,wS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bS={any:[/^b/i,/^(a|c)/i]},jS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kS={any:[/1/i,/2/i,/3/i,/4/i]},SS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ES={ordinalNumber:xS({matchPattern:yS,parsePattern:vS,valueCallback:e=>parseInt(e,10)}),era:Bs({matchPatterns:wS,defaultMatchWidth:"wide",parsePatterns:bS,defaultParseWidth:"any"}),quarter:Bs({matchPatterns:jS,defaultMatchWidth:"wide",parsePatterns:kS,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bs({matchPatterns:SS,defaultMatchWidth:"wide",parsePatterns:NS,defaultParseWidth:"any"}),day:Bs({matchPatterns:PS,defaultMatchWidth:"wide",parsePatterns:CS,defaultParseWidth:"any"}),dayPeriod:Bs({matchPatterns:TS,defaultMatchWidth:"any",parsePatterns:MS,defaultParseWidth:"any"})},_S={code:"en-US",formatDistance:eS,formatLong:rS,formatRelative:aS,localize:mS,match:ES,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DS(e){const t=gt(e);return Y2(t,J2(t))+1}function RS(e){const t=gt(e),n=+ga(t)-+G2(t);return Math.round(n/U0)+1}function $0(e,t){var h,d,f,g;const n=gt(e),s=n.getFullYear(),r=$a(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=Fn(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=Lr(o,t),c=Fn(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=Lr(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function AS(e,t){var l,c,u,h;const n=$a(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,r=$0(e,t),a=Fn(e,0);return a.setFullYear(r,0,s),a.setHours(0,0,0,0),Lr(a,t)}function OS(e,t){const n=gt(e),s=+Lr(n,t)-+AS(n,t);return Math.round(s/U0)+1}function Y(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Ut={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Y(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Y(n+1,2)},d(e,t){return Y(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Y(e.getHours()%12||12,t.length)},H(e,t){return Y(e.getHours(),t.length)},m(e,t){return Y(e.getMinutes(),t.length)},s(e,t){return Y(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return Y(r,t.length)}},Hn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vf={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return Ut.y(e,t)},Y:function(e,t,n,s){const r=$0(e,s),a=r>0?r:1-r;if(t==="YY"){const o=a%100;return Y(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Y(a,t.length)},R:function(e,t){const n=B0(e);return Y(n,t.length)},u:function(e,t){const n=e.getFullYear();return Y(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Y(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Y(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Ut.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Y(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const r=OS(e,s);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):Y(r,t.length)},I:function(e,t,n){const s=RS(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Y(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ut.d(e,t)},D:function(e,t,n){const s=DS(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Y(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const r=e.getDay(),a=(r-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Y(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const r=e.getDay(),a=(r-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Y(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),r=s===0?7:s;switch(t){case"i":return String(r);case"ii":return Y(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let r;switch(s===12?r=Hn.noon:s===0?r=Hn.midnight:r=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let r;switch(s>=17?r=Hn.evening:s>=12?r=Hn.afternoon:s>=4?r=Hn.morning:r=Hn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ut.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ut.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Y(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Y(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ut.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ut.s(e,t)},S:function(e,t){return Ut.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return bf(s);case"XXXX":case"XX":return kn(s);case"XXXXX":case"XXX":default:return kn(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return bf(s);case"xxxx":case"xx":return kn(s);case"xxxxx":case"xxx":default:return kn(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wf(s,":");case"OOOO":default:return"GMT"+kn(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wf(s,":");case"zzzz":default:return"GMT"+kn(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return Y(s,t.length)},T:function(e,t,n){const s=e.getTime();return Y(s,t.length)}};function wf(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Math.trunc(s/60),a=s%60;return a===0?n+String(r):n+String(r)+t+Y(a,2)}function bf(e,t){return e%60===0?(e>0?"-":"+")+Y(Math.abs(e)/60,2):kn(e,t)}function kn(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Y(Math.trunc(s/60),2),a=Y(s%60,2);return n+r+t+a}const jf=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},H0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},LS=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return jf(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",jf(s,t)).replace("{{time}}",H0(r,t))},FS={p:H0,P:LS},IS=/^D+$/,VS=/^Y+$/,zS=["D","DD","YY","YYYY"];function US(e){return IS.test(e)}function BS(e){return VS.test(e)}function $S(e,t,n){const s=HS(e,t,n);if(console.warn(s),zS.includes(e))throw new RangeError(s)}function HS(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qS=/^'([^]*?)'?$/,YS=/''/g,GS=/[a-zA-Z]/;function K0(e,t,n){var h,d,f,g;const s=$a(),r=s.locale??_S,a=s.firstWeekContainsDate??((d=(h=s.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=s.weekStartsOn??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,l=gt(e);if(!X2(l))throw new RangeError("Invalid time value");let c=t.match(WS).map(x=>{const y=x[0];if(y==="p"||y==="P"){const k=FS[y];return k(x,r.formatLong)}return x}).join("").match(KS).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const y=x[0];if(y==="'")return{isToken:!1,value:QS(x)};if(vf[y])return{isToken:!0,value:x};if(y.match(GS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:x}});r.localize.preprocessor&&(c=r.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:r};return c.map(x=>{if(!x.isToken)return x.value;const y=x.value;(BS(y)||US(y))&&$S(y,t,String(e));const k=vf[y[0]];return k(l,y,r.localize,u)}).join("")}function QS(e){const t=e.match(qS);return t?t[1].replace(YS,"'"):e}const XS=()=>{const{childName:e}=pn(),{totalPoints:t,totalSessions:n,totalPunches:s,recentSessions:r}=at(),{pendingRewards:a}=Hr();return v.useEffect(()=>{document.title=`Parent Dashboard - ${e}'s Karate Practice`},[e]),i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsxs("h1",{className:"text-2xl font-bold text-blue-700 mb-6",children:[e,"'s Karate Practice - Parent Dashboard"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-orange-100 p-3 rounded-full mr-4",children:i.jsx(bs,{size:24,className:"text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Points"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:t})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-orange-100 p-3 rounded-full mr-4",children:i.jsx(Mr,{size:24,className:"text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Practice Sessions"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:n})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-orange-100 p-3 rounded-full mr-4",children:i.jsx(L1,{size:24,className:"text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Punches"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:s})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Pending Reward Approvals"}),i.jsxs("a",{href:"/rewards",className:"text-sm text-blue-600 hover:text-orange-600 flex items-center",children:["View All ",i.jsx(El,{size:16})]})]}),a.length>0?i.jsx("div",{className:"space-y-3",children:a.map(o=>i.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:o.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[o.points," points"]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"p-2 bg-green-100 text-green-700 rounded-full hover:bg-green-200",children:i.jsx(ng,{size:20})}),i.jsx("button",{className:"p-2 bg-red-100 text-red-700 rounded-full hover:bg-red-200",children:i.jsx(tg,{size:20})})]})]},o.id))}):i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending reward approvals"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Recent Practice Sessions"}),i.jsxs("a",{href:"/history",className:"text-sm text-blue-600 hover:text-orange-600 flex items-center",children:["View All ",i.jsx(El,{size:16})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Punches"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Katas"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(o=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:K0(new Date(o.date),"MMM d, yyyy")}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Oa,{size:16,className:"mr-1 text-blue-500"}),o.duration," min"]})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:o.punches}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:o.katas.join(", ")}),i.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600",children:["+",o.pointsEarned]})]},o.id))})]})})]})]})},kf=({id:e,name:t,points:n,earned:s,approved:r,icon:a,progress:o=0})=>{const{isParentMode:l}=pn(),{totalPoints:c}=at(),{requestRewardApproval:u,approveReward:h,denyReward:d}=Hr(),[f,g]=v.useState(!1),x=()=>{g(!0),setTimeout(()=>{u(e),g(!1)},1e3)},y=()=>{h(e)},k=()=>{d(e)},m=c>=n&&!s;return i.jsxs(O.div,{whileHover:{y:-5},className:`bg-white rounded-xl shadow-md overflow-hidden ${r?"border-4 border-green-500":s?"border-4 border-yellow-500":""}`,children:[i.jsx("div",{className:`h-24 flex items-center justify-center ${s?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(_l,{size:48,className:"text-white"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:t}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-semibold text-orange-500",children:[n," points"]}),!s&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(U1,{size:14,className:"text-gray-400 mr-1"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Locked"})]}),s&&r&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Xd,{size:14,className:"text-green-600 mr-1"}),i.jsx("span",{className:"text-xs text-green-600",children:"Approved"})]}),s&&!r&&i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-xs text-yellow-600",children:"Pending"})})]}),!s&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:i.jsx(O.div,{className:"bg-orange-500 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(o*100,100)}%`},transition:{duration:.8}})}),i.jsxs("div",{className:"text-xs text-right text-gray-500",children:[Math.round(o*100),"%"]})]}),!l&&i.jsxs("div",{className:"mt-3",children:[s&&!r&&i.jsx("button",{className:"w-full py-2 px-4 bg-yellow-500 text-white rounded-lg font-bold text-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:f,children:f?"Requested!":"Waiting for Parent"}),s&&r&&i.jsx("div",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg font-bold text-sm text-center",children:"Ready to Use!"}),m&&i.jsx("button",{onClick:x,className:"w-full py-2 px-4 bg-orange-500 text-white rounded-lg font-bold text-sm hover:bg-orange-600 transition-colors",children:"Get Reward"}),!s&&!m&&i.jsx("div",{className:"w-full py-2 px-4 bg-gray-300 text-gray-600 rounded-lg font-bold text-sm text-center",children:"Keep Practicing!"})]}),l&&s&&!r&&i.jsxs("div",{className:"mt-3 flex space-x-2",children:[i.jsxs("button",{onClick:y,className:"flex-1 py-2 bg-green-500 text-white rounded-lg font-bold text-sm hover:bg-green-600 transition-colors flex items-center justify-center",children:[i.jsx(Xd,{size:16,className:"mr-1"}),"Approve"]}),i.jsxs("button",{onClick:k,className:"flex-1 py-2 bg-red-500 text-white rounded-lg font-bold text-sm hover:bg-red-600 transition-colors flex items-center justify-center",children:[i.jsx(ug,{size:16,className:"mr-1"}),"Deny"]})]})]})]})},JS=()=>{const{isParentMode:e,childName:t}=pn(),{rewards:n,addCustomReward:s}=Hr(),{totalPoints:r}=at(),[a,o]=v.useState(!1),[l,c]=v.useState(""),[u,h]=v.useState(50),d=()=>{l.trim()&&u>0&&(s({name:l,points:u,icon:"gift"}),c(""),h(50),o(!1))},f=n.filter(x=>x.earned),g=n.filter(x=>!x.earned);return i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-blue-900",style:e?{}:{fontFamily:"Comic Sans MS, cursive"},children:e?`${t}'s Rewards`:"Your Rewards"}),e&&i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 text-white py-2 px-4 rounded-lg flex items-center",onClick:()=>o(!a),children:[i.jsx(Dl,{size:18,className:"mr-1"}),"Add Reward"]})]}),e&&a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:"Add New Reward"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reward Name"}),i.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Ice Cream Treat"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points Required"}),i.jsx("input",{type:"number",value:u,onChange:x=>h(parseInt(x.target.value)||0),min:"1",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>o(!1),className:"py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{onClick:d,className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:!l.trim()||u<=0,children:"Add Reward"})]})]})]}),!e&&i.jsxs("div",{className:"bg-orange-100 rounded-lg p-4 mb-6 flex items-center",children:[i.jsx("div",{className:"bg-orange-200 rounded-full p-2 mr-3",children:i.jsx("span",{className:"text-xl font-bold text-orange-600",children:""})}),i.jsx("div",{children:i.jsxs("p",{className:"text-orange-800",children:["You have ",i.jsxs("span",{className:"font-bold",children:[r," points"]})," to spend on rewards!"]})})]}),f.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:e?"Earned Rewards":"Your Earned Rewards"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:f.map(x=>i.jsx(kf,{...x},x.id))})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:e?"Available Rewards":"Rewards to Earn"}),g.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:g.map(x=>i.jsx(kf,{...x},x.id))}):i.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-gray-500",children:"No rewards available yet"})})]})]})},ZS=()=>{const{isParentMode:e,childName:t}=pn(),{recentSessions:n,totalSessions:s,totalPoints:r}=at(),a=o=>`${Math.floor(o/60)} min`;return i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-6",style:e?{}:{fontFamily:"Comic Sans MS, cursive"},children:e?`${t}'s Practice History`:"Your Practice History"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs(O.div,{whileHover:{y:-5},className:"bg-blue-100 rounded-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-blue-200 rounded-full p-3 mr-4",children:i.jsx(Mr,{size:24,className:"text-blue-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Sessions"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:s})]})]}),i.jsxs(O.div,{whileHover:{y:-5},className:"bg-orange-100 rounded-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-orange-200 rounded-full p-3 mr-4",children:i.jsx(bs,{size:24,className:"text-orange-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Total Points Earned"}),i.jsx("p",{className:"text-2xl font-bold text-orange-900",children:r})]})]}),i.jsxs(O.div,{whileHover:{y:-5},className:"bg-green-100 rounded-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-green-200 rounded-full p-3 mr-4",children:i.jsx(Oa,{size:24,className:"text-green-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-800",children:"Practice Streak"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:"4 days"})]})]})]}),!e&&i.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",style:{fontFamily:"Comic Sans MS, cursive"},children:"Your Achievements"}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs(O.div,{whileHover:{rotate:5},className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mb-2",children:i.jsx(rg,{size:32,className:"text-white"})}),i.jsx("span",{className:"text-xs text-center font-medium",children:"1000+ Punches"})]}),i.jsxs(O.div,{whileHover:{rotate:5},className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mb-2",children:i.jsx(Mr,{size:32,className:"text-white"})}),i.jsx("span",{className:"text-xs text-center font-medium",children:"20+ Sessions"})]}),i.jsxs(O.div,{whileHover:{rotate:5},className:"flex flex-col items-center opacity-50",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-400 rounded-full flex items-center justify-center mb-2",children:i.jsx(bs,{size:32,className:"text-white"})}),i.jsx("span",{className:"text-xs text-center font-medium",children:"300+ Points"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[i.jsx("div",{className:"p-6 pb-0",children:i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:e?"Practice Sessions":"Your Practices"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsx("div",{className:"inline-block min-w-full",children:i.jsx("div",{className:"overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Punches"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Katas"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(o=>i.jsxs(O.tr,{whileHover:{backgroundColor:"rgba(243, 244, 246, 0.5)"},children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:K0(new Date(o.date),"MMM d, yyyy")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:a(o.duration)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:o.punches})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-500",children:o.katas.join(", ")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:["+",o.pointsEarned]})})]},o.id))})]})})})})]})]})},eN=()=>{const{childName:e,setChildName:t,childAvatar:n,setChildAvatar:s}=pn(),[r,a]=v.useState(e),[o,l]=v.useState(!0),[c,u]=v.useState(!0),[h,d]=v.useState(50),f=()=>{t(r),alert("Settings saved successfully!")};return i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-6",children:"Settings"}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"flex",children:i.jsx("button",{className:"px-6 py-4 text-sm font-medium text-blue-600 border-b-2 border-blue-600 focus:outline-none",children:"General Settings"})})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[i.jsx(cg,{size:20,className:"mr-2 text-blue-600"}),"Child Profile"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"childName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Child's Name"}),i.jsx("input",{type:"text",id:"childName",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:r,onChange:g=>a(g.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:["ninja-boy","ninja-girl","karate-kid","sensei"].map(g=>i.jsxs("div",{className:`p-2 border rounded-md cursor-pointer ${n===g?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>s(g),children:[i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full mx-auto flex items-center justify-center",children:g.split("-")[0].charAt(0).toUpperCase()}),i.jsx("p",{className:"text-xs text-center mt-1",children:g.replace("-"," ")})]},g))})]})]})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[i.jsx(F1,{size:20,className:"mr-2 text-blue-600"}),"Notification Settings"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Practice Reminders"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send daily reminders to practice"})]}),i.jsxs("div",{className:"relative inline-block w-12 h-6 rounded-full",children:[i.jsx("input",{type:"checkbox",id:"toggle-practice",className:"sr-only",checked:o,onChange:()=>l(!o)}),i.jsx("label",{htmlFor:"toggle-practice",className:`absolute inset-0 rounded-full cursor-pointer transition-colors ${o?"bg-blue-600":"bg-gray-300"}`,children:i.jsx("span",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${o?"transform translate-x-6":""}`})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Reward Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Notify when new rewards are available"})]}),i.jsxs("div",{className:"relative inline-block w-12 h-6 rounded-full",children:[i.jsx("input",{type:"checkbox",id:"toggle-rewards",className:"sr-only",checked:!0,onChange:()=>{}}),i.jsx("label",{htmlFor:"toggle-rewards",className:"absolute inset-0 bg-blue-600 rounded-full cursor-pointer",children:i.jsx("span",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transform translate-x-6"})})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[i.jsx(ag,{size:20,className:"mr-2 text-blue-600"}),"Reward Settings"]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"pointThreshold",className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Points for Small Rewards"}),i.jsx("input",{type:"number",id:"pointThreshold",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:h,onChange:g=>d(parseInt(g.target.value)||0),min:"10"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This sets the minimum point threshold for small rewards like ice cream"})]})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[i.jsx(W1,{size:20,className:"mr-2 text-blue-600"}),"Parental Controls"]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Require Approval for Rewards"}),i.jsx("p",{className:"text-xs text-gray-500",children:"All rewards require parent approval before redemption"})]}),i.jsxs("div",{className:"relative inline-block w-12 h-6 rounded-full",children:[i.jsx("input",{type:"checkbox",id:"toggle-parental",className:"sr-only",checked:c,onChange:()=>u(!c)}),i.jsx("label",{htmlFor:"toggle-parental",className:`absolute inset-0 rounded-full cursor-pointer transition-colors ${c?"bg-blue-600":"bg-gray-300"}`,children:i.jsx("span",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${c?"transform translate-x-6":""}`})})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:f,className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Save Changes"})})]})})]})]})},tN=({userId:e,onDateClick:t})=>{const[n,s]=v.useState(new Date),[r,a]=v.useState([]),[o,l]=v.useState(!0),c=n.getFullYear(),u=n.getMonth();v.useEffect(()=>{h()},[c,u,e]);const h=async()=>{l(!0);try{const b=await ae.getCalendarData(e,c.toString(),(u+1).toString());a(b.calendar_data||[])}catch(b){console.error("Failed to load calendar data:",b)}finally{l(!1)}},d=(b,S)=>new Date(b,S+1,0).getDate(),f=(b,S)=>new Date(b,S,1).getDay(),g=b=>`${c}-${String(u+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`,x=b=>r.find(S=>S.date===b),y=b=>{s(S=>{const C=new Date(S);return b==="prev"?C.setMonth(S.getMonth()-1):C.setMonth(S.getMonth()+1),C})},k=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=d(c,u),w=f(c,u),j=[];for(let b=0;b<w;b++)j.push(null);for(let b=1;b<=p;b++)j.push(b);return o?i.jsx("div",{className:"text-center p-4",children:"Loading calendar..."}):i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>y("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""}),i.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[k[u]," ",c]}),i.jsx("button",{onClick:()=>y("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:m.map(b=>i.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:b},b))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:j.map((b,S)=>{if(b===null)return i.jsx("div",{className:"h-16"},S);const C=g(b),P=x(C),N=P&&P.sessions>0,T=new Date().toDateString()===new Date(c,u,b).toDateString();return i.jsxs("div",{onClick:()=>t&&t(C),className:`
                h-16 border rounded-lg p-1 cursor-pointer transition-all hover:shadow-md
                ${T?"border-blue-500 bg-blue-50":"border-gray-200"}
                ${N?"bg-green-50 border-green-300":"hover:bg-gray-50"}
              `,children:[i.jsx("div",{className:"text-sm font-medium text-gray-800",children:b}),N&&i.jsxs("div",{className:"mt-1",children:[i.jsxs("div",{className:"text-xs text-green-600 font-medium",children:[P.total_points," pts"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[P.sessions," session",P.sessions!==1?"s":""]})]})]},b)})}),i.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-50 border border-blue-500 rounded mr-2"}),i.jsx("span",{children:"Today"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-300 rounded mr-2"}),i.jsx("span",{children:"Practice Day"})]})]})]})},nN=()=>{const{user:e}=Pt(),[t,n]=v.useState(null),[s,r]=v.useState([]),[a,o]=v.useState([]),[l,c]=v.useState(!1),[u,h]=v.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),d=(e==null?void 0:e.id)||"guest";v.useEffect(()=>{f()},[u]),v.useEffect(()=>{t&&g(t)},[t]);const f=async()=>{c(!0);try{const m=await ae.getPointsAudit(d,u.startDate,u.endDate);r(m.audit_entries||[])}catch(m){console.error("Failed to load audit data:",m)}finally{c(!1)}},g=async m=>{try{const p=await ae.getPracticeHistory(d,1,10,m);o(p.practice_history||[])}catch(p){console.error("Failed to load practice history:",p)}},x=m=>{n(m)},y=m=>new Date(m).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),k=()=>s.reduce((m,p)=>m+p.points_earned,0);return i.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practice Calendar & Points Audit"}),i.jsx("p",{className:"text-gray-600",children:"Track your earned points and practice history"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k()}),i.jsx("div",{className:"text-gray-600",children:"Total Points (Last 30 days)"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.length}),i.jsx("div",{className:"text-gray-600",children:"Practice Activities"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(s.map(m=>m.earned_date)).size}),i.jsx("div",{className:"text-gray-600",children:"Active Days"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{children:i.jsx(tN,{userId:d,onDateClick:x})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filter by Date Range"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx("input",{type:"date",value:u.startDate,onChange:m=>h(p=>({...p,startDate:m.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),i.jsx("input",{type:"date",value:u.endDate,onChange:m=>h(p=>({...p,endDate:m.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]})]}),t&&i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Practice Details - ",y(t)]}),a.length>0?i.jsx("div",{className:"space-y-4",children:a.map(m=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"font-medium text-gray-900",children:["Session ",m.session_id.slice(-6)]}),i.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["+",m.points_earned," points"]})]}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[i.jsxs("div",{children:["Duration: ",m.duration_minutes," minutes"]}),m.punches>0&&i.jsxs("div",{children:["Punches: ",m.punches]}),m.kicks>0&&i.jsxs("div",{children:["Kicks: ",m.kicks]}),m.katas.length>0&&i.jsxs("div",{children:["Katas: ",m.katas.map(p=>`${p.name} x${p.repetitions}`).join(", ")]}),m.notes&&i.jsxs("div",{children:["Notes: ",m.notes]})]})]},m.session_id))}):i.jsx("p",{className:"text-gray-500",children:"No practice sessions found for this date."})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Points Audit Trail"}),l?i.jsx("p",{className:"text-gray-500",children:"Loading..."}):s.length>0?i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.map(m=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-900",children:m.activity_name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[m.activity_count,"  ",m.session_type]}),i.jsx("div",{className:"text-xs text-gray-500",children:m.points_calculation}),i.jsx("div",{className:"text-xs text-gray-400",children:y(m.earned_date)})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+",m.points_earned]})})]})},m.id))}):i.jsx("p",{className:"text-gray-500",children:"No points audit entries found for the selected period."})]})]})]})]})})},sN=()=>{const{signInWithGoogle:e,signInWithEmail:t,loading:n}=Pt(),[s,r]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,h]=v.useState(""),[d,f]=v.useState(!1),g=async y=>{y.preventDefault(),h("");try{await t(s,a,l)}catch(k){h(k instanceof Error?k.message:"Sign in failed")}},x=async()=>{h("");try{await e()}catch(y){h(y instanceof Error?y.message:"Google sign in failed")}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-orange-500/10"}),i.jsx("div",{className:"relative z-10",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mb-4",children:i.jsx("span",{className:"text-6xl",children:""})}),i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent mb-2",style:{fontFamily:"Comic Sans MS, cursive"},children:"KataMaster"}),i.jsx("p",{className:"text-blue-700",children:"Track your karate journey!"})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-6",children:l?"Create Account":"Welcome Back"}),u&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:u}),i.jsxs("button",{onClick:x,disabled:n,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 mb-4 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n?"Signing in...":"Continue with Google"]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",id:"email",value:s,onChange:y=>r(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:y=>o(y.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0,minLength:6}),i.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:d?i.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L8.464 8.464m1.414 1.414L18.536 7.05M14.12 14.12l4.243 4.243m-4.243-4.243L18.536 7.05"})}):i.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.543 7-1.275 4.057-5.065 7-9.543 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-orange-500 text-white py-3 rounded-lg font-medium hover:from-blue-700 hover:to-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Processing...":l?"Create Account":"Sign In"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>c(!l),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:l?"Already have an account? Sign in":"Don't have an account? Sign up"})}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-blue-800 text-center mb-2",children:i.jsx("strong",{children:"Quick Demo Login:"})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>{r("demo@katamaster.com"),o("demo123"),c(!1)},className:"flex-1 bg-blue-500 text-white text-xs py-2 px-3 rounded hover:bg-blue-600 transition-colors",children:"Use Demo Account"}),i.jsx("button",{type:"button",onClick:()=>{r("testuser@example.com"),o("testpass123"),c(!1)},className:"flex-1 bg-green-500 text-white text-xs py-2 px-3 rounded hover:bg-green-600 transition-colors",children:"Use Test Account"})]}),i.jsx("p",{className:"text-xs text-gray-600 text-center mt-2",children:"Click either button to auto-fill credentials"})]})]}),i.jsxs("div",{className:"text-center mt-8 text-blue-700 text-sm",children:[i.jsx("p",{children:"Built for young karate practitioners"}),i.jsx("p",{className:"mt-1",children:" Practice  Progress  Achieve "})]})]})})]})},W0=({kataId:e,kataName:t,isOpen:n,onClose:s})=>{const[r,a]=v.useState(!1),[o,l]=v.useState(100);if(!n)return null;const c=`http://192.168.68.138:8083/katas/${u(e)}`;function u(m){return{"heian-shodan":"01_Heian_Shodan.pdf","heian-nidan":"02_Heian_Nidan.pdf","heian-sandan":"03_Heian_Sandan.pdf","heian-yondan":"04_Heian_Yondan.pdf","heian-godan":"05_Heian_Godan.pdf","tekki-shodan":"06_Tekki_Shodan.pdf","tekki-nidan":"07_Tekki_Nidan.pdf","tekki-sandan":"08_Tekki_Sandan.pdf","bassai-dai":"09_Bassai_Dai.pdf","bassai-sho":"10_Bassai_Sho.pdf","kanku-dai":"11_Kanku_Dai.pdf","kanku-sho":"12_Kanku_Sho.pdf",jion:"13_Jion.pdf",jitte:"14_Jitte.pdf",empi:"15_Empi.pdf",gankaku:"16_Gankaku.pdf",hangetsu:"17_Hangetsu.pdf",sochin:"18_Sochin.pdf",nijushiho:"19_Nijushiho.pdf",meikyo:"20_Meikyo.pdf",jiin:"21_Jiin.pdf",chinte:"22_Chinte.pdf",unsu:"23_Unsu.pdf",wankan:"24_Wankan.pdf","gojushiho-dai":"25_Gojushiho_Dai.pdf","gojushiho-sho":"26_Gojushiho_Sho.pdf","gankanku-sho":"27_Gankanku_Sho.pdf",sanchin:"28_Sanchin.pdf",tensho:"29_Tensho.pdf",anan:"30_Anan.pdf"}[m.toLowerCase()]||"01_Heian_Shodan.pdf"}const h=()=>{const m=document.createElement("a");m.href=c,m.download=`${t.replace(/\s+/g,"_")}_Instructions.pdf`,document.body.appendChild(m),m.click(),document.body.removeChild(m)},d=()=>{l(m=>Math.min(m+25,200))},f=()=>{l(m=>Math.max(m-25,50))},g=()=>{l(100)},x=()=>{a(!r)},y=r?"fixed inset-0 z-50 bg-gray-900":"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75",k=r?"w-full h-full flex flex-col":"bg-white rounded-lg shadow-xl max-w-6xl max-h-[90vh] w-full flex flex-col";return i.jsx("div",{className:y,onClick:s,children:i.jsxs("div",{className:k,onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white rounded-t-lg",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:"Kata Instructions & Techniques"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:f,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Zoom Out",children:i.jsx(J1,{size:20})}),i.jsxs("span",{onClick:g,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded cursor-pointer hover:bg-gray-200",title:"Click to reset zoom",children:[o,"%"]}),i.jsx("button",{onClick:d,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Zoom In",children:i.jsx(X1,{size:20})}),i.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),i.jsx("button",{onClick:h,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Download PDF",children:i.jsx(sg,{size:20})}),i.jsx("button",{onClick:x,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:r?"Exit Fullscreen":"Fullscreen",children:r?i.jsx(H1,{size:20}):i.jsx($1,{size:20})}),i.jsx("button",{onClick:s,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Close",children:i.jsx(ug,{size:20})})]})]}),i.jsx("div",{className:"flex-1 bg-gray-100 overflow-hidden",children:i.jsx("div",{className:"w-full h-full overflow-auto",children:i.jsx("div",{className:"flex justify-center items-start min-h-full p-4",style:{zoom:`${o}%`},children:i.jsx("iframe",{src:c,className:"w-full h-[800px] border-0 bg-white shadow-lg",title:`${t} Instructions`,style:{minHeight:"800px"}})})})}),i.jsx("div",{className:"p-3 border-t bg-gray-50 rounded-b-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Use scroll wheel or zoom controls to adjust view"}),i.jsx("span",{children:"Press ESC to close"})]})})]})})},q0=(e,t)=>{_n.useEffect(()=>{const n=s=>{s.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}},[e,t])},rN=()=>{const{kataId:e}=Jv(),t=Aa(),[n,s]=v.useState(null),[r,a]=v.useState(!0),[o,l]=v.useState(""),[c,u]=v.useState(0),[h,d]=v.useState({isOpen:!1,kataId:"",kataName:""});v.useEffect(()=>{(async()=>{if(!e){l("No kata ID provided"),a(!1);return}try{console.log("Loading kata detail for ID:",e);const y=await ae.getKataDetail(e);console.log("Kata detail loaded:",y),s(y)}catch(y){console.error("Failed to load kata detail:",y),l("Failed to load kata details")}finally{a(!1)}})()},[e]);const f=(x,y)=>{d({isOpen:!0,kataId:x,kataName:y})},g=()=>{d({isOpen:!1,kataId:"",kataName:""})};return q0(h.isOpen,g),r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-orange-500 flex items-center justify-center",children:i.jsx("div",{className:"text-white text-xl",children:"Loading kata details..."})}):o||!n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-orange-500 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-white text-xl mb-4",children:o||"Kata not found"}),i.jsx("button",{onClick:()=>t("/"),className:"bg-white text-blue-800 px-6 py-2 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Back to Dashboard"})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-orange-500 p-4",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>t("/"),className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition-colors",children:" Back to Dashboard"}),i.jsx("h1",{className:"text-3xl font-bold text-white text-center flex-1",children:n.name}),i.jsx("div",{className:"w-32"})," "]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Kata Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Style:"}),i.jsx("span",{className:"ml-2 text-gray-800",children:n.style})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Belt Level:"}),i.jsx("span",{className:"ml-2 text-gray-800",children:n.belt_level})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Movements:"}),i.jsx("span",{className:"ml-2 text-gray-800",children:n.movements})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Description:"}),i.jsx("p",{className:"mt-1 text-gray-800",children:n.description})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Meaning:"}),i.jsx("p",{className:"mt-1 text-gray-800",children:n.meaning})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"History:"}),i.jsx("p",{className:"mt-1 text-gray-800",children:n.history})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"font-semibold text-gray-600 mb-2",children:"Key Focus Points:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.key_focus_points.map((x,y)=>i.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:x},y))})]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("button",{onClick:()=>f(n.id,n.name),className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg font-bold hover:bg-purple-700 transition-colors text-center",children:" View Instructions PDF"}),n.video_url&&i.jsx("a",{href:n.video_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg font-bold hover:bg-red-600 transition-colors text-center block",children:" Watch Video Tutorial"})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Kata Steps (",n.steps.length," steps)"]}),n.steps.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.steps.map((x,y)=>i.jsxs("button",{onClick:()=>u(y),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c===y?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Step ",y+1]},y))}),i.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 bg-blue-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-blue-800",children:["Step ",c+1,n.steps[c].name&&` - ${n.steps[c].name}`]}),n.steps[c].japanese_name&&i.jsx("span",{className:"text-sm text-blue-600 italic",children:n.steps[c].japanese_name})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:n.steps[c].image_url?i.jsx("img",{src:n.steps[c].image_url,alt:`Step ${c+1}`,className:"max-w-full max-h-64 mx-auto rounded-lg"}):i.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-2",children:""}),i.jsx("div",{children:"Image coming soon"})]})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description:"}),i.jsx("p",{className:"text-gray-800 mb-4",children:n.steps[c].description||"No description available"}),n.steps[c].focus_points&&i.jsxs(i.Fragment,{children:[i.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Focus Points:"}),i.jsx("p",{className:"text-gray-800",children:n.steps[c].focus_points})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx("button",{onClick:()=>u(Math.max(0,c-1)),disabled:c===0,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous Step"}),i.jsxs("span",{className:"px-4 py-2 text-gray-600",children:[c+1," of ",n.steps.length]}),i.jsx("button",{onClick:()=>u(Math.min(n.steps.length-1,c+1)),disabled:c===n.steps.length-1,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Step "})]})]})]}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("p",{children:"Step-by-step instructions coming soon!"}),i.jsx("p",{className:"text-sm mt-2",children:"This kata is available for practice, but detailed steps are being prepared."})]})]})})]})]}),i.jsx(W0,{kataId:h.kataId,kataName:h.kataName,isOpen:h.isOpen,onClose:g})]})},iN=[{id:"heian-shodan",name:"Heian Shodan",style:"Shotokan",difficulty:"beginner",url:"https://www.youtube.com/watch?v=heian-shodan",originalSiteUrl:"https://katastepbystep.com/kata/heian-shodan/",description:"First kata in the Heian series, teaches basic stances and techniques",movements:21,beltLevel:"9th Kyu",meaning:"Peaceful Mind First",keyTechniques:["Gedan Barai","Oi-zuki","Age-uke","Tettsui-uchi"],practiceTime:"3-5 minutes",origin:"Okinawan Pinan Shodan, modified by Gichin Funakoshi"},{id:"heian-nidan",name:"Heian Nidan",style:"Shotokan",difficulty:"beginner",url:"https://www.youtube.com/watch?v=heian-nidan",originalSiteUrl:"https://katastepbystep.com/kata/heian-nidan/",description:"Second kata in the Heian series, introduces side kicks and hand techniques",movements:26,beltLevel:"8th Kyu",meaning:"Peaceful Mind Second",keyTechniques:["Yoko-geri","Shuto-uke","Nukite","Uraken-uchi"],practiceTime:"4-6 minutes",origin:"Okinawan Pinan Nidan, emphasizes balance and timing"},{id:"heian-sandan",name:"Heian Sandan",style:"Shotokan",difficulty:"beginner",url:"https://www.youtube.com/watch?v=heian-sandan",originalSiteUrl:"https://katastepbystep.com/kata/heian-sandan/",description:"Third Heian kata, introduces multiple blocking techniques",movements:20,beltLevel:"7th Kyu",meaning:"Peaceful Mind Third",keyTechniques:["Morote-uke","Empi-uchi","Yama-zuki","Kosa-dachi"],practiceTime:"3-5 minutes",origin:"Features unique double-hand techniques and elbow strikes"},{id:"heian-yondan",name:"Heian Yondan",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=heian-yondan",originalSiteUrl:"https://katastepbystep.com/kata/heian-yondan/",description:"Fourth Heian kata, features kicks and complex combinations",movements:27,beltLevel:"6th Kyu",meaning:"Peaceful Mind Fourth",keyTechniques:["Mae-geri","Hiza-geri","Kakiwake-uke","Kagi-zuki"],practiceTime:"5-7 minutes",origin:"Introduces knee kicks and hook punches"},{id:"heian-godan",name:"Heian Godan",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=heian-godan",originalSiteUrl:"https://katastepbystep.com/kata/heian-godan/",description:"Fifth Heian kata, includes jumping techniques and advanced timing",movements:23,beltLevel:"5th Kyu",meaning:"Peaceful Mind Fifth",keyTechniques:["Mikazuki-geri","Juji-uke","Yama-zuki","Tobi-mae-geri"],practiceTime:"4-6 minutes",origin:"Most complex of the Heian series, prepares for advanced kata"},{id:"tekki-shodan",name:"Tekki Shodan",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=tekki-shodan",originalSiteUrl:"https://katastepbystep.com/kata/tekki-shodan/",description:"Horse stance kata, builds leg strength and teaches close-quarter fighting",movements:29,beltLevel:"3rd Kyu",meaning:"Iron Horse First",keyTechniques:["Kiba-dachi","Nami-ashi","Gedan-barai","Haiwan-uke"],practiceTime:"3-4 minutes",origin:"Originally called Naihanchi, performed entirely in horse stance"},{id:"tekki-nidan",name:"Tekki Nidan",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=tekki-nidan",originalSiteUrl:"https://katastepbystep.com/kata/tekki-nidan/",description:"Second Tekki kata, continues horse stance training with more complex techniques",movements:24,beltLevel:"2nd Kyu",meaning:"Iron Horse Second",keyTechniques:["Kiba-dachi","Gedan-barai","Uchi-uke","Tettsui-uchi"],practiceTime:"3-4 minutes",origin:"Emphasizes power generation from stable base"},{id:"tekki-sandan",name:"Tekki Sandan",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=tekki-sandan",originalSiteUrl:"https://katastepbystep.com/kata/tekki-sandan/",description:"Third Tekki kata, most complex of the iron horse series",movements:36,beltLevel:"1st Kyu",meaning:"Iron Horse Third",keyTechniques:["Kiba-dachi","Ura-zuki","Sukui-uke","Mae-geri"],practiceTime:"4-5 minutes",origin:"Tests mastery of horse stance with advanced combinations"},{id:"bassai-dai",name:"Bassai Dai",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=bassai-dai",originalSiteUrl:"https://katastepbystep.com/kata/bassai-dai/",description:"Storming the fortress, powerful kata emphasizing breaking through defenses",movements:42,beltLevel:"1st Kyu",meaning:"To Storm a Fortress - Major",keyTechniques:["Yama-zuki","Shuto-uke","Ura-zuki","Tetsui-otoshi"],practiceTime:"6-8 minutes",origin:"Ancient Okinawan kata, represents breaking through an enemy castle"},{id:"kanku-dai",name:"Kanku Dai",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=kanku-dai",originalSiteUrl:"https://katastepbystep.com/kata/kanku-dai/",description:"Viewing the sky, longest Shotokan kata with 65 movements",movements:65,beltLevel:"1st Dan",meaning:"To View the Sky - Major",keyTechniques:["Kanku-kamae","Tobi-yoko-geri","Sanchin-dachi","Juji-uke"],practiceTime:"8-10 minutes",origin:"Based on Kushanku, named after Chinese envoy who taught in Okinawa"},{id:"saifa",name:"Saifa",style:"Goju Ryu",difficulty:"beginner",url:"https://www.youtube.com/watch?v=saifa",originalSiteUrl:"https://katastepbystep.com/kata/saifa/",description:"Breaking and tearing, introduces Goju Ryu breathing and circular techniques",movements:23,beltLevel:"6th Kyu",meaning:"Breaking and Tearing",keyTechniques:["Sanchin-dachi","Shisochin-dachi","Mawashi-uke","Uraken-uchi"],practiceTime:"4-5 minutes",origin:"Classical Goju Ryu kata emphasizing hard and soft techniques"},{id:"seiyunchin",name:"Seiyunchin",style:"Goju Ryu",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=seiyunchin",originalSiteUrl:"https://katastepbystep.com/kata/seiyunchin/",description:"Attack, conquer, suppress - dynamic Goju Ryu kata",movements:26,beltLevel:"4th Kyu",meaning:"Attack, Conquer, Suppress",keyTechniques:["Sanchin-dachi","Gedan-barai","Teisho-uchi","Hiza-geri"],practiceTime:"5-6 minutes",origin:"Features close-quarter fighting and grappling applications"},{id:"seipai",name:"Seipai",style:"Goju Ryu",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=seipai",originalSiteUrl:"https://katastepbystep.com/kata/seipai/",description:"Eighteen hands, complex bunkai applications with throws and joint locks",movements:18,beltLevel:"2nd Kyu",meaning:"Eighteen Hands",keyTechniques:["Sanchin-dachi","Tora-guchi","Koken-uchi","Teisho-uchi"],practiceTime:"3-4 minutes",origin:"Based on 18 martial arts techniques from ancient China"},{id:"suparimpei",name:"Suparimpei",style:"Goju Ryu",difficulty:"advanced",url:"https://www.youtube.com/watch?v=suparimpei",originalSiteUrl:"https://katastepbystep.com/kata/suparimpei/",description:"108 hands, ultimate kata of Goju Ryu system",movements:108,beltLevel:"3rd Dan",meaning:"One Hundred and Eight Hands",keyTechniques:["Sanchin-dachi","All Goju techniques","Neko-ashi-dachi","Multiple breathing patterns"],practiceTime:"12-15 minutes",origin:"Most advanced Goju kata, represents mastery of the system"},{id:"pinan-shodan",name:"Pinan Shodan",style:"Shito-ryu",difficulty:"beginner",url:"https://www.youtube.com/watch?v=pinan-shodan",originalSiteUrl:"https://katastepbystep.com/kata/pinan-shodan/",description:"Peaceful mind first form, original Okinawan version",movements:20,beltLevel:"9th Kyu",meaning:"Peaceful Mind First",keyTechniques:["Gedan-barai","Oi-zuki","Age-uke","Yoko-uke"],practiceTime:"3-4 minutes",origin:"Original Pinan kata created by Anko Itosu"},{id:"naifanchi-shodan",name:"Naifanchi Shodan",style:"Shito-ryu",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=naifanchi-shodan",originalSiteUrl:"https://katastepbystep.com/kata/naifanchi-shodan/",description:"Side-to-side fighting, emphasizes lateral movement and close combat",movements:15,beltLevel:"4th Kyu",meaning:"Internal Divided Conflict",keyTechniques:["Naihanchi-dachi","Gedan-barai","Uchi-uke","Tettsui-uchi"],practiceTime:"2-3 minutes",origin:"Ancient kata preserved in original Okinawan form"},{id:"bassai-sho",name:"Bassai Sho",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=bassai-sho",originalSiteUrl:"https://katastepbystep.com/kata/bassai-sho/",description:"Minor version of Bassai, more refined and technical",movements:27,beltLevel:"2nd Dan",meaning:"To Storm a Fortress - Minor",keyTechniques:["Shuto-uke","Yama-zuki","Manji-uke","Gyaku-zuki"],practiceTime:"4-5 minutes",origin:"Shorter, more concentrated version of Bassai Dai"},{id:"kanku-sho",name:"Kanku Sho",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=kanku-sho",originalSiteUrl:"https://katastepbystep.com/kata/kanku-sho/",description:"Minor version of Kanku, faster and more dynamic",movements:48,beltLevel:"2nd Dan",meaning:"To View the Sky - Minor",keyTechniques:["Tobi-geri","Ura-zuki","Shuto-uke","Kanku-kamae"],practiceTime:"6-7 minutes",origin:"Faster variation emphasizing jumping techniques"},{id:"jion",name:"Jion",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=jion",originalSiteUrl:"https://katastepbystep.com/kata/jion/",description:"Named after Jion-ji temple, emphasizes strong basic techniques",movements:47,beltLevel:"1st Kyu",meaning:"Temple Sound/Mercy",keyTechniques:["Chudan-zuki","Gedan-barai","Oi-zuki","Gyaku-zuki"],practiceTime:"6-7 minutes",origin:"Named after a Buddhist temple, emphasizes fundamental techniques"},{id:"empi",name:"Empi",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=empi",originalSiteUrl:"https://katastepbystep.com/kata/empi/",description:"Flying swallow, features light, quick movements and direction changes",movements:37,beltLevel:"1st Dan",meaning:"Flying Swallow",keyTechniques:["Tobi-yoko-geri","Empi-uchi","Shuto-uke","Uraken-uchi"],practiceTime:"5-6 minutes",origin:"Named for its swallow-like swift movements and changes of direction"}],aN="2025-01-03",oN="KataStepByStep.com integration",lN=20,cN={katas:iN,lastUpdated:aN,dataSource:oN,totalKatas:lN},uN=({kataId:e,kataName:t,onPracticeRecord:n})=>{const{user:s}=Pt(),[r,a]=v.useState(null),[o,l]=v.useState(!0),[c,u]=v.useState(!1),[h,d]=v.useState({repetitions:1,notes:"",durationMinutes:30,selfRating:7.5}),[f,g]=v.useState(!1);v.useEffect(()=>{s!=null&&s.id&&x()},[s==null?void 0:s.id,e]);const x=async()=>{if(s!=null&&s.id)try{l(!0);const p=await ae.getKataProgress(s.id,e);p!=null&&p.progress&&a(p.progress)}catch(p){console.error("Failed to fetch kata progress:",p)}finally{l(!1)}},y=async p=>{if(p.preventDefault(),!(!(s!=null&&s.id)||f))try{g(!0),await ae.recordKataPractice({kataId:e,userId:s.id,repetitions:h.repetitions,notes:h.notes,durationMinutes:h.durationMinutes,selfRating:h.selfRating,focusAreas:["form","timing","power"]}),await x(),d({repetitions:1,notes:"",durationMinutes:30,selfRating:7.5}),u(!1),n==null||n()}catch(w){console.error("Failed to record practice:",w),alert("Failed to record practice session. Please try again.")}finally{g(!1)}},k=p=>p>=80?"text-green-600":p>=60?"text-blue-600":p>=40?"text-yellow-600":"text-gray-600",m=p=>p>=80?"bg-green-100 border-green-200":p>=60?"bg-blue-100 border-blue-200":p>=40?"bg-yellow-100 border-yellow-200":"bg-gray-100 border-gray-200";return s?o?i.jsxs("div",{className:"text-center p-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading progress..."})]}):i.jsxs("div",{className:"space-y-4",children:[r&&i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 rounded-lg border-2 ${m(r.masteryPercentage)}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium text-sm",children:"Progress Summary"}),r.mastered&&i.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:" Mastered"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Total Repetitions"}),i.jsx("p",{className:"font-semibold text-lg",children:r.totalRepetitions})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Sessions"}),i.jsx("p",{className:"font-semibold text-lg",children:r.totalPracticeSessions})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Practice Time"}),i.jsxs("p",{className:"font-semibold",children:[r.totalPracticeMinutes,"min"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Avg Rating"}),i.jsxs("p",{className:"font-semibold",children:[(r.averageRating||0).toFixed(1),"/10"]})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Mastery Level"}),i.jsxs("span",{className:`text-xs font-medium ${k(r.masteryPercentage)}`,children:[r.masteryPercentage,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${r.masteryPercentage>=80?"bg-green-500":r.masteryPercentage>=60?"bg-blue-500":r.masteryPercentage>=40?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.min(r.masteryPercentage,100)}%`}})})]}),i.jsxs("div",{className:"mt-3 p-2 bg-white/50 rounded border",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Next Goal:"}),i.jsx("p",{className:"text-xs font-medium",children:r.nextGoal})]}),r.lastPracticed&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last practiced: ",new Date(r.lastPracticed).toLocaleDateString()]})]}),c?i.jsxs(O.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},onSubmit:y,className:"space-y-3 p-4 bg-gray-50 rounded-lg border",children:[i.jsx("h4",{className:"font-medium text-sm mb-3",children:"Record Practice Session"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Repetitions"}),i.jsx("input",{type:"number",min:"1",max:"50",value:h.repetitions,onChange:p=>d(w=>({...w,repetitions:parseInt(p.target.value)||1})),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Duration (min)"}),i.jsx("input",{type:"number",min:"5",max:"180",value:h.durationMinutes,onChange:p=>d(w=>({...w,durationMinutes:parseInt(p.target.value)||30})),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Self Rating (1-10)"}),i.jsx("input",{type:"number",min:"1",max:"10",step:"0.5",value:h.selfRating,onChange:p=>d(w=>({...w,selfRating:parseFloat(p.target.value)||7.5})),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Notes (optional)"}),i.jsx("textarea",{value:h.notes,onChange:p=>d(w=>({...w,notes:p.target.value})),placeholder:"How did the practice go? Focus areas, improvements, challenges...",className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-purple-500 h-16 resize-none"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"submit",disabled:f,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Recording...":"Record Session"}),i.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-2 border border-gray-300 rounded text-sm text-gray-600 hover:bg-gray-50",children:"Cancel"})]})]}):i.jsx("button",{onClick:()=>u(!0),className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:i.jsx("span",{children:" Record Practice"})})]}):i.jsx("div",{className:"text-center p-4 text-gray-500 text-sm",children:"Sign in to track your kata progress"})},dN=()=>{Pt();const[e,t]=v.useState(""),[n,s]=v.useState("all"),[r,a]=v.useState("all"),[o,l]=v.useState({}),[c,u]=v.useState({}),[h,d]=v.useState(!1),[f,g]=v.useState({isOpen:!1,kataId:"",kataName:""}),x=cN.katas,y=[...new Set(x.map(N=>N.style))],k=["beginner","intermediate","advanced"];v.useEffect(()=>{const N=localStorage.getItem("kata-favorites"),T=localStorage.getItem("kata-progress");if(N)try{l(JSON.parse(N))}catch(M){console.error("Error loading favorites:",M)}if(T)try{u(JSON.parse(T))}catch(M){console.error("Error loading practice status:",M)}},[]),v.useEffect(()=>{localStorage.setItem("kata-favorites",JSON.stringify(o))},[o]),v.useEffect(()=>{localStorage.setItem("kata-progress",JSON.stringify(c))},[c]);const m=v.useMemo(()=>x.filter(N=>{const T=N.name.toLowerCase().includes(e.toLowerCase())||N.description.toLowerCase().includes(e.toLowerCase()),M=n==="all"||N.style===n,F=r==="all"||N.difficulty===r,U=!h||o[N.id];return T&&M&&F&&U}),[x,e,n,r,h,o]),p=v.useMemo(()=>{const N={};return m.forEach(T=>{N[T.style]||(N[T.style]=[]),N[T.style].push(T)}),N},[m]),w=N=>{l(T=>({...T,[N]:!T[N]}))},j=N=>{window.open(N,"_blank","noopener,noreferrer")},b=N=>{window.open(N,"_blank","noopener,noreferrer")},S=(N,T)=>{g({isOpen:!0,kataId:N,kataName:T})},C=()=>{g({isOpen:!1,kataId:"",kataName:""})};q0(f.isOpen,C);const P=N=>{switch(N){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"min-h-screen bg-white p-4",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-2",children:"Kata Reference"}),i.jsx("p",{className:"text-blue-600",children:"Explore traditional karate kata from different styles"})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Kata"}),i.jsx("input",{type:"text",placeholder:"Search by name or description...",value:e,onChange:N=>t(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Style"}),i.jsxs("select",{value:n,onChange:N=>s(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"All Styles"}),y.map(N=>i.jsx("option",{value:N,children:N},N))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),i.jsxs("select",{value:r,onChange:N=>a(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"All Levels"}),k.map(N=>i.jsx("option",{value:N,children:N.charAt(0).toUpperCase()+N.slice(1)},N))]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:()=>d(!h),className:`w-full px-4 py-2 rounded-lg font-medium transition-colors ${h?"bg-red-500 text-white hover:bg-red-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[" ",h?"Show All":"Favorites Only"]})})]})}),i.jsx("div",{className:"text-center mb-6",children:i.jsxs("p",{className:"text-blue-600",children:["Showing ",m.length," kata",m.length!==1?"s":"",h&&" from your favorites"]})}),i.jsx("div",{className:"space-y-8",children:Object.entries(p).map(([N,T])=>i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:N}),i.jsxs("p",{className:"text-blue-100",children:[T.length," kata",T.length!==1?"s":""]})]}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.jsx(Fa,{children:T.map(M=>i.jsxs(O.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gray-50 rounded-xl p-5 hover:shadow-lg transition-all duration-200 border border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:M.name}),i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${P(M.difficulty)}`,children:M.difficulty.charAt(0).toUpperCase()+M.difficulty.slice(1)})]}),i.jsx("button",{onClick:()=>w(M.id),className:`text-2xl transition-transform hover:scale-110 ${o[M.id]?"text-red-500":"text-gray-300"}`,children:""})]}),i.jsxs("div",{className:"text-sm text-gray-600 mb-3 space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Belt Level:"})," ",M.beltLevel]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Movements:"})," ",M.movements]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Practice Time:"})," ",M.practiceTime]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Meaning:"})," ",M.meaning]})]}),i.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:M.description}),i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Key Techniques:"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.keyTechniques.slice(0,3).map((F,U)=>i.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:F},U)),M.keyTechniques.length>3&&i.jsxs("span",{className:"text-xs text-gray-400",children:["+",M.keyTechniques.length-3," more"]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsx(uN,{kataId:M.id,kataName:M.name,onPracticeRecord:()=>{console.log(`Practice recorded for ${M.name}`)}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{onClick:()=>S(M.id,M.name),className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:i.jsx("span",{children:" View Instructions PDF"})}),i.jsxs("button",{onClick:()=>j(M.originalSiteUrl),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx("span",{children:"View on KataStepByStep"}),i.jsx("span",{className:"text-sm",children:""})]}),i.jsx("button",{onClick:()=>b(M.url),className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:i.jsx("span",{children:" Watch Video"})})]})]},M.id))})})})]},N))}),m.length===0&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md mx-auto",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Kata Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or filters"}),i.jsx("button",{onClick:()=>{t(""),s("all"),a("all"),d(!1)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]})}),i.jsx("div",{className:"mt-12 text-center",children:i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[i.jsxs("p",{className:"text-blue-700 mb-2",children:["Kata reference data and links courtesy of"," ",i.jsx("a",{href:"https://katastepbystep.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-semibold hover:underline",children:"KataStepByStep.com"})]}),i.jsx("p",{className:"text-blue-600 text-sm",children:"Visit their site for detailed step-by-step kata instructions and videos"})]})})]}),i.jsx(W0,{kataId:f.kataId,kataName:f.kataName,isOpen:f.isOpen,onClose:C})]})},Sf=()=>i.jsx(dN,{}),hN=()=>{const{user:e}=Pt(),{savedCombinations:t,moveCounters:n,activeSession:s,currentSessionMoves:r,addCombination:a,startMovementSession:o,endMovementSession:l,getDisplayName:c,practiceProgress:u}=qc();if(console.log(" MovementTrackerPage - Debug Info:"),console.log(" User:",(e==null?void 0:e.id)||"No user"),console.log(" Saved combinations:",t.length),console.log(" Move counters:",n.length),console.log(" Active session:",!!s),console.log(" Current hostname:",window.location.hostname),console.log(" Current URL:",window.location.href),!e)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full mx-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(la,{className:"mx-auto h-16 w-16 text-blue-600 mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Authentication Required"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access the Movement Tracker"}),i.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Sign In"})]})})});const[h,d]=v.useState("builder"),[f]=v.useState({stance:[{name:"forward_stance",display_name:"Forward Stance",description:"Zenkutsu-dachi - weight forward, strong attacking position"},{name:"back_stance",display_name:"Back Stance",description:"Kokutsu-dachi - weight back, defensive position"},{name:"horse_stance",display_name:"Horse Stance",description:"Kiba-dachi - wide stable stance for strength"},{name:"cat_stance",display_name:"Cat Stance",description:"Neko-ashi-dachi - light front foot, defensive"},{name:"fighting_stance",display_name:"Fighting Stance",description:"Kamae - ready position for combat"},{name:"natural_stance",display_name:"Natural Stance",description:"Shizen-tai - relaxed natural position"}],direction:[{name:"move_forward",display_name:"Move Forward",description:"Step forward maintaining stance"},{name:"move_backward",display_name:"Move Backward",description:"Step backward maintaining stance"},{name:"move_left",display_name:"Move Left",description:"Step to the left side"},{name:"move_right",display_name:"Move Right",description:"Step to the right side"},{name:"turn_left",display_name:"Turn Left",description:"Pivot 90 degrees to the left"},{name:"turn_right",display_name:"Turn Right",description:"Pivot 90 degrees to the right"},{name:"turn_180",display_name:"Turn Around",description:"Pivot 180 degrees"}],technique:[{name:"punch",display_name:"Punch",description:"Oi-zuki - basic straight punch"},{name:"reverse_punch",display_name:"Reverse Punch",description:"Gyaku-zuki - opposite hand punch"},{name:"front_kick",display_name:"Front Kick",description:"Mae-geri - kick straight forward"},{name:"side_kick",display_name:"Side Kick",description:"Yoko-geri - kick to the side"},{name:"roundhouse_kick",display_name:"Roundhouse Kick",description:"Mawashi-geri - circular kick"},{name:"down_block",display_name:"Down Block",description:"Gedan-barai - block low attacks"},{name:"high_block",display_name:"High Block",description:"Age-uke - block high attacks"},{name:"inside_block",display_name:"Inside Block",description:"Uchi-uke - block from inside"},{name:"knife_hand_strike",display_name:"Knife Hand Strike",description:"Shuto-uchi - strike with knife hand"},{name:"elbow_strike",display_name:"Elbow Strike",description:"Empi-uchi - strike with elbow"}]}),[g,x]=v.useState([]),[y,k]=v.useState(0),[m,p]=v.useState("stance"),[w,j]=v.useState(""),[b,S]=v.useState(3),[C,P]=v.useState(""),[N,T]=v.useState(1),[M,F]=v.useState(""),[U,H]=v.useState([]),pe=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(R){const $=Math.random()*16|0;return(R=="x"?$:$&3|8).toString(16)}),xt=()=>{if(!w)return;const R=f[m].find(Le=>Le.name===w);if(!R)return;const $={move_id:pe(),type:m,name:w,description:R.description,duration_seconds:b};x([...g,$]),j("")},Q=R=>{x(g.filter(($,Le)=>Le!==R))},_=async()=>{if(console.log(" Save Combination clicked!"),console.log(" Combination name:",C),console.log(" Current sequence length:",g.length),console.log(" User state:",e),!C||g.length===0){console.log(" Validation failed - missing name or moves");return}const R={combination_id:pe(),name:C,moves:[...g],repeat_count:N,created_at:new Date().toISOString()};console.log(" Combination to save:",R);try{console.log(" Calling addCombination..."),await a(R),console.log(" Combination saved successfully!"),x([]),P(""),T(1)}catch($){console.error(" Error saving combination:",$),alert($ instanceof Error?$.message:"Failed to save combination")}},D=async()=>{if(U.length!==0)try{await o(U)}catch(R){console.error("Failed to start session:",R)}},L=async()=>{if(s)try{await l(s.session_id,M),F(""),H([])}catch(R){console.error("Failed to end session:",R)}},W=()=>{u.currentMoveIndex<r.length-1&&k(y+1)},Z=()=>{y>0&&k(y-1)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-orange-500 text-white py-8",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(la,{size:48}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold",children:"Kata Movement Tracker"}),i.jsx("p",{className:"text-blue-100",children:"Build combinations, practice movements, and track your progress"})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"flex space-x-4 mb-8",children:[{id:"builder",label:"Movement Builder",icon:i.jsx(Dl,{size:20})},{id:"practice",label:"Practice Session",icon:i.jsx(Er,{size:20})},{id:"stats",label:"Statistics",icon:i.jsx(Yd,{size:20})}].map(R=>i.jsxs("button",{onClick:()=>d(R.id),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all ${h===R.id?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-600 hover:bg-blue-50"}`,children:[R.icon,i.jsx("span",{children:R.label})]},R.id))}),h==="builder"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[i.jsx(Dl,{className:"mr-2",size:20}),"Build Combination"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Move Type"}),i.jsxs("select",{value:m,onChange:R=>{p(R.target.value),j("")},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"stance",children:"Stance"}),i.jsx("option",{value:"direction",children:"Direction"}),i.jsx("option",{value:"technique",children:"Technique"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Move"}),i.jsxs("select",{value:w,onChange:R=>j(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsxs("option",{value:"",children:["Select a ",m,"..."]}),f[m].map(R=>i.jsx("option",{value:R.name,title:R.description,children:R.display_name},R.name))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (seconds)"}),i.jsx("input",{type:"number",min:"1",max:"30",value:b,onChange:R=>S(Number(R.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsx("button",{onClick:xt,disabled:!w,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Move"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Current Sequence"}),i.jsx("button",{onClick:()=>x([]),className:"text-red-600 hover:text-red-700",disabled:g.length===0,children:i.jsx(Rl,{size:20})})]}),i.jsxs("div",{className:"space-y-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combination Name"}),i.jsx("input",{type:"text",value:C,onChange:R=>P(R.target.value),placeholder:"Enter combination name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Repeat Count"}),i.jsx("input",{type:"number",min:"1",max:"10",value:N,onChange:R=>T(Number(R.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:g.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No moves added yet"}):g.map((R,$)=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:$+1}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:c(R.type,R.name)}),i.jsxs("p",{className:"text-sm text-gray-500",children:[R.type,"  ",R.duration_seconds,"s"]})]})]}),i.jsx("button",{onClick:()=>Q($),className:"text-red-600 hover:text-red-700",children:i.jsx(Rl,{size:16})})]},R.move_id))}),i.jsxs("button",{onClick:()=>_(),disabled:!C||g.length===0,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[i.jsx(ig,{size:20}),i.jsx("span",{children:"Save Combination"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Saved Combinations"}),i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No combinations saved yet"}):t.map(R=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h4",{className:"font-semibold",children:R.name}),i.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-sm font-medium",children:["",R.repeat_count]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:R.moves.map(($,Le)=>`${Le+1}. ${c($.type,$.name)}`).join("  ")})]},R.combination_id))})]})]}),h==="practice"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[i.jsx(Er,{className:"mr-2",size:20}),"Practice Session"]}),s?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Notes"}),i.jsx("textarea",{value:M,onChange:R=>F(R.target.value),placeholder:"Add notes about your practice session...",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsx("button",{onClick:async()=>{try{await L()}catch(R){console.error("Error ending session:",R)}},className:"w-full bg-red-600 text-white py-4 rounded-lg font-semibold hover:bg-red-700 transition-colors text-lg",children:"End Session"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Combinations to Practice"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:t.length===0?i.jsx("p",{className:"text-gray-500",children:"No combinations available. Create some combinations first."}):t.map(R=>i.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded",children:[i.jsx("input",{type:"checkbox",checked:U.includes(R.combination_id),onChange:$=>{$.target.checked?H([...U,R.combination_id]):H(U.filter(Le=>Le!==R.combination_id))},className:"rounded border-gray-300 focus:ring-blue-500"}),i.jsxs("span",{children:[R.name," (",R.repeat_count,")"]})]},R.combination_id))})]}),i.jsx("button",{onClick:()=>{try{D()}catch(R){console.error("Error starting session:",R)}},disabled:U.length===0,className:"w-full bg-green-600 text-white py-4 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg",children:"Start Session"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Current Move"}),i.jsx("div",{className:`min-h-48 flex flex-col items-center justify-center border-4 border-dashed rounded-xl p-8 transition-all ${s?"border-green-300 bg-green-50":"border-gray-300 bg-gray-50"}`,children:s?r.length>0?i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-600 mb-2",children:c(r[y].type,r[y].name)}),i.jsx("p",{className:"text-lg text-blue-500 mb-2",children:r[y].type}),i.jsx("p",{className:"text-gray-600 mb-4",children:r[y].description}),i.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[i.jsxs("button",{onClick:Z,disabled:y===0,className:"flex items-center space-x-2 px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(og,{size:20}),i.jsx("span",{children:"Previous"})]}),i.jsxs("button",{onClick:W,disabled:y===r.length-1,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("span",{children:"Next"}),i.jsx(lg,{size:20})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${(y+1)/r.length*100}%`}})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Current Move"}),i.jsxs("p",{children:[y+1," / ",r.length]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Progress"}),i.jsxs("p",{children:[Math.round((y+1)/r.length*100),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Duration"}),i.jsxs("p",{children:[r[y].duration_seconds,"s"]})]})]})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl text-gray-500",children:"Session started"}),i.jsx("p",{className:"text-gray-400",children:"No moves in selected combinations"})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl text-gray-500 mb-2",children:"No active session"}),i.jsx("p",{className:"text-gray-400",children:"Start a session to begin practicing"})]})})]})]}),h==="stats"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[i.jsx(Yd,{className:"mr-2",size:20}),"Summary Statistics"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Total Combinations"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.length})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Moves Practiced"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.reduce((R,$)=>R+$.total_count,0)})]}),i.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Most Practiced"}),i.jsx("p",{className:"text-lg font-bold text-orange-600",children:n.length>0?c("direction",n.reduce((R,$)=>$.total_count>R.total_count?$:R).move_name):"-"})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Available Moves"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.stance.length+f.direction.length+f.technique.length})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Movement Statistics"}),i.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:n.length===0?i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No movement data yet. Complete some practice sessions to see statistics."}):n.map(R=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h4",{className:"font-semibold",children:c("direction",R.move_name)}),i.jsx("span",{className:"text-lg font-bold text-blue-600",children:R.total_count})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{children:["Forward: ",R.forward_count]}),i.jsxs("div",{children:["Backward: ",R.backward_count]})]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last updated: ",new Date(R.last_updated).toLocaleDateString()]})]},R.move_name))})]})]})]})]})},fN=()=>i.jsx(dg,{children:i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx(z0,{})})}),mN=({onVideoSaved:e,onVideoUploaded:t,maxDurationSeconds:n=300,className:s=""})=>{const[r,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[h,d]=v.useState(null),[f,g]=v.useState(0),[x,y]=v.useState(null),[k,m]=v.useState(!1),[p,w]=v.useState(!1),j=v.useRef(null),b=v.useRef(null),S=v.useRef(null),C=v.useRef(null),P=v.useRef([]),N=v.useRef(null),T=v.useCallback(async()=>{try{d(null);const D=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0});C.current=D,j.current&&(j.current.srcObject=D),u(!0)}catch(D){d("Unable to access camera. Please ensure you have granted camera permissions."),console.error("Camera initialization error:",D)}},[]),M=v.useCallback(()=>{C.current&&(C.current.getTracks().forEach(D=>D.stop()),C.current=null),u(!1)},[]),F=v.useCallback(()=>{if(C.current)try{P.current=[];const D=new MediaRecorder(C.current,{mimeType:"video/webm;codecs=vp9"});S.current=D,D.ondataavailable=L=>{L.data.size>0&&P.current.push(L.data)},D.onstop=()=>{const L=new Blob(P.current,{type:"video/webm"}),W=URL.createObjectURL(L),Z=new Date,R=`kata-practice-${Z.toISOString().split("T")[0]}-${Date.now()}.webm`,$={blob:L,url:W,duration:f,timestamp:Z,filename:R};y($),e&&e($),g(0),a(!1),l(!1)},D.start(1e3),a(!0),l(!1),N.current=setInterval(()=>{g(L=>{const W=L+1;return W>=n?(U(),L):W})},1e3)}catch(D){d("Unable to start recording. Please try again."),console.error("Recording start error:",D)}},[n,e,f]),U=v.useCallback(()=>{S.current&&S.current.state!=="inactive"&&S.current.stop(),N.current&&(clearInterval(N.current),N.current=null)},[]),H=v.useCallback(()=>{S.current&&(o?(S.current.resume(),N.current=setInterval(()=>{g(D=>{const L=D+1;return L>=n?(U(),D):L})},1e3),l(!1)):(S.current.pause(),N.current&&(clearInterval(N.current),N.current=null),l(!0)))},[o,n,U]);v.useCallback(()=>{b.current&&x&&(k?(b.current.pause(),m(!1)):(b.current.play(),m(!0)))},[k,x]);const pe=v.useCallback(()=>{if(!x)return;const D=document.createElement("a");D.href=x.url,D.download=x.filename,document.body.appendChild(D),D.click(),document.body.removeChild(D)},[x]),xt=v.useCallback(()=>{x&&(URL.revokeObjectURL(x.url),y(null),m(!1))},[x]),Q=v.useCallback(async()=>{if(!(!x||!t)){w(!0);try{await new Promise(D=>setTimeout(D,2e3)),t(x.url),w(!1)}catch(D){d("Failed to upload video. Please try again."),w(!1),console.error("Upload error:",D)}}},[x,t]),_=D=>{const L=Math.floor(D/60),W=D%60;return`${L.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`};return v.useEffect(()=>(T(),()=>{M(),N.current&&clearInterval(N.current)}),[T,M]),i.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${s}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(js,{className:"text-blue-600 mr-2",size:24}),i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Practice Video Recorder"})]}),x&&i.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[i.jsx(Ei,{className:"text-green-500 mr-1",size:16}),"Video ready (",_(x.duration),")"]})]}),h&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center",children:[i.jsx(tg,{className:"text-red-500 mr-2",size:20}),i.jsx("span",{className:"text-red-700",children:h})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:c?i.jsxs(i.Fragment,{children:[i.jsx("video",{ref:j,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),i.jsx(Fa,{children:r&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-4 left-4 flex items-center bg-red-600 text-white px-3 py-1 rounded-full",children:[i.jsx(O.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1},className:"w-2 h-2 bg-white rounded-full mr-2"}),"REC ",_(f)]})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center space-x-3",children:r?i.jsxs(i.Fragment,{children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,className:"bg-yellow-600 hover:bg-yellow-700 text-white p-3 rounded-full shadow-lg",children:o?i.jsx(Er,{size:24}):i.jsx(K1,{size:24})}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:U,className:"bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-full shadow-lg",children:i.jsx(q1,{size:24})})]}):i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:F,className:"bg-red-600 hover:bg-red-700 text-white p-3 rounded-full shadow-lg",children:i.jsx(Qd,{size:24})})})]}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(Qd,{size:48,className:"mx-auto mb-2"}),i.jsx("p",{children:"No camera access"}),i.jsx("button",{onClick:T,className:"mt-2 text-blue-600 hover:text-blue-700 underline",children:"Try again"})]})})}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["Max duration: ",_(n)]}),r&&i.jsx("span",{className:`font-medium ${o?"text-yellow-600":"text-red-600"}`,children:o?"Paused":"Recording..."})]})]}),i.jsx("div",{className:"space-y-4",children:x?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:i.jsx("video",{ref:b,src:x.url,controls:!0,className:"w-full h-full",onPlay:()=>m(!0),onPause:()=>m(!1),onEnded:()=>m(!1)})}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{children:["Duration: ",_(x.duration)]}),i.jsxs("p",{children:["Recorded: ",x.timestamp.toLocaleTimeString()]})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:pe,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(sg,{size:16,className:"mr-2"}),"Download"]}),t&&i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Q,disabled:p,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[i.jsx(G1,{size:16,className:"mr-2"}),p?"Uploading...":"Share"]}),i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:xt,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[i.jsx(Rl,{size:16,className:"mr-2"}),"Delete"]})]})]}):i.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50 rounded-lg aspect-video",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(js,{size:48,className:"mx-auto mb-2"}),i.jsx("p",{children:"No video recorded yet"}),i.jsx("p",{className:"text-sm",children:"Start recording to see playback here"})]})})})]})]})},pN=()=>{const{childName:e,isParentMode:t}=pn(),{addSession:n}=at(),[s,r]=v.useState("setup"),[a,o]=v.useState({kataName:"",repetitions:5,focusAreas:[],selfRating:0,notes:"",duration:0,videoUrl:void 0}),[l]=v.useState(["Heian Shodan","Heian Nidan","Heian Sandan","Heian Yondan","Heian Godan","Tekki Shodan","Bassai Dai","Kanku Dai","Empi","Jion"]),[c]=v.useState(["Stances","Timing","Power","Balance","Transitions","Breathing","Focus","Precision"]),[u,h]=v.useState(!1),[d,f]=v.useState(null),g=j=>{const b=URL.createObjectURL(j.blob);o(S=>({...S,videoUrl:b,duration:j.duration})),r("review")},x=j=>{o(b=>({...b,videoUrl:j}))},y=()=>{f(new Date),r("recording")},k=j=>{o(b=>({...b,focusAreas:b.focusAreas.includes(j)?b.focusAreas.filter(S=>S!==j):[...b.focusAreas,j]}))},m=async()=>{h(!0);try{await n({id:Date.now().toString(),date:d||new Date,duration:a.duration,katas:[a.kataName],punches:0,pointsEarned:Math.floor(a.duration/10)+a.selfRating*2,notes:a.notes,videoUrl:a.videoUrl,repetitions:a.repetitions,focusAreas:a.focusAreas,selfRating:a.selfRating}),r("complete")}catch(j){console.error("Failed to save practice session:",j)}finally{h(!1)}},p=()=>{o({kataName:"",repetitions:5,focusAreas:[],selfRating:0,notes:"",duration:0,videoUrl:void 0}),r("setup"),f(null)},w=()=>{switch(s){case"setup":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(js,{className:"mx-auto text-blue-600 mb-4",size:48}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Set Up Your Practice Session"}),i.jsx("p",{className:"text-gray-600",children:"Configure your kata practice before recording"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Kata to Practice"}),i.jsxs("select",{value:a.kataName,onChange:j=>o(b=>({...b,kataName:j.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Choose a kata..."}),l.map(j=>i.jsx("option",{value:j,children:j},j))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Repetitions"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("input",{type:"range",min:"1",max:"20",value:a.repetitions,onChange:j=>o(b=>({...b,repetitions:parseInt(j.target.value)})),className:"flex-1"}),i.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-medium",children:a.repetitions})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Focus Areas (Select what you want to work on)"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:c.map(j=>i.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(j),className:`p-2 rounded-lg border transition-colors ${a.focusAreas.includes(j)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-300"}`,children:j},j))})]}),i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,disabled:!a.kataName,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",children:[i.jsx(Er,{className:"mr-2",size:20}),"Start Recording Practice Session"]})]})]});case"recording":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Recording: ",a.kataName]}),i.jsxs("p",{className:"text-gray-600",children:["Practice ",a.repetitions," repetitions focusing on: ",a.focusAreas.join(", ")]})]}),i.jsx(mN,{onVideoSaved:g,onVideoUploaded:x,maxDurationSeconds:900,className:"max-w-6xl mx-auto"}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Practice Tips:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Perform each repetition with focus and intention"}),i.jsx("li",{children:" Take breaks between repetitions if needed"}),i.jsx("li",{children:" Maintain proper form throughout"}),i.jsx("li",{children:" Review your video before finishing to self-assess"})]})]})]});case"review":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(Ei,{className:"mx-auto text-green-600 mb-4",size:48}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Your Practice Session"}),i.jsx("p",{className:"text-gray-600",children:"Add your reflection and self-assessment"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Your Practice Video"}),a.videoUrl&&i.jsx("video",{src:a.videoUrl,controls:!0,className:"w-full rounded-lg"}),i.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[i.jsx(Oa,{className:"mr-1",size:16}),"Duration: ",Math.floor(a.duration/60),":",(a.duration%60).toString().padStart(2,"0")]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Self-Assessment"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How did you perform? (1-5 stars)"}),i.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(j=>i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(b=>({...b,selfRating:j})),children:i.jsx(vo,{className:`h-8 w-8 ${j<=a.selfRating?"text-yellow-400 fill-current":"text-gray-300"}`})},j))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Practice Notes & Reflection"}),i.jsx("textarea",{value:a.notes,onChange:j=>o(b=>({...b,notes:j.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"What went well? What can you improve next time?"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Session Summary"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("div",{children:["Kata: ",a.kataName]}),i.jsxs("div",{children:["Repetitions: ",a.repetitions]}),i.jsxs("div",{children:["Focus Areas: ",a.focusAreas.join(", ")||"None selected"]}),i.jsxs("div",{children:["Duration: ",Math.floor(a.duration/60),"m ",a.duration%60,"s"]})]})]}),i.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,disabled:u||a.selfRating===0,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-400 flex items-center justify-center",children:u?i.jsx(i.Fragment,{children:"Saving Session..."}):i.jsxs(i.Fragment,{children:[i.jsx(ig,{className:"mr-2",size:20}),"Save Practice Session"]})})]})]})]});case"complete":return i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:30},children:i.jsx(Ei,{className:"mx-auto text-green-600 mb-4",size:64})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Great Practice Session!"}),i.jsxs("p",{className:"text-lg text-gray-600",children:["Your ",a.kataName," practice has been saved with your video."]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Session Results"}),i.jsxs("div",{className:"space-y-2 text-left",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Duration:"}),i.jsxs("span",{children:[Math.floor(a.duration/60),"m ",a.duration%60,"s"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Self Rating:"}),i.jsx("span",{className:"flex",children:Array.from({length:a.selfRating},(j,b)=>i.jsx(vo,{className:"h-4 w-4 text-yellow-400 fill-current"},b))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Points Earned:"}),i.jsxs("span",{className:"text-green-600 font-bold",children:["+",Math.floor(a.duration/10)+a.selfRating*2]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,className:"bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 flex items-center justify-center",children:[i.jsx(Zd,{className:"mr-2",size:20}),"Practice Another Kata"]}),i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.href="/history",className:"bg-gray-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-700 flex items-center justify-center",children:[i.jsx(V1,{className:"mr-2",size:20}),"View Practice History"]})]})]});default:return null}};return i.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-2",style:t?{}:{fontFamily:"Comic Sans MS, cursive"},children:t?`${e}'s Video Practice`:"Video Practice Session"}),i.jsx("p",{className:"text-gray-600",children:"Record and review your kata practice with video feedback"})]}),i.jsx("div",{className:"flex items-center justify-center mb-8",children:i.jsx("div",{className:"flex items-center space-x-4",children:[{key:"setup",label:"Setup",icon:Zd},{key:"recording",label:"Recording",icon:js},{key:"review",label:"Review",icon:vo},{key:"complete",label:"Complete",icon:Ei}].map((j,b)=>{const S=s===j.key,C=["setup","recording","review","complete"].indexOf(s)>b,P=j.icon;return i.jsxs(_n.Fragment,{children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${S?"bg-blue-600 border-blue-600 text-white":C?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-400"}`,children:i.jsx(P,{size:20})}),i.jsx("span",{className:`text-xs mt-1 ${S?"text-blue-600 font-medium":C?"text-green-600 font-medium":"text-gray-400"}`,children:j.label})]}),b<3&&i.jsx("div",{className:`w-12 h-0.5 ${C?"bg-green-600":"bg-gray-300"}`})]},j.key)})})}),i.jsx(Fa,{mode:"wait",children:i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:w()},s)})]})};function gN(){const{isAuthenticated:e,loading:t,user:n}=Pt();return console.log("App state:",{isAuthenticated:e,loading:t,hasUser:!!n}),t?(console.log("App showing loading screen"),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-orange-500 flex items-center justify-center",children:i.jsx("div",{className:"text-white text-xl",children:"Loading..."})})):e?(console.log("App showing main dashboard"),i.jsx(T1,{children:i.jsx(E1,{children:i.jsx(_1,{children:i.jsx(R1,{children:i.jsx(dg,{children:i.jsxs(f1,{children:[i.jsx(Be,{path:"/",element:i.jsx(K2,{})}),i.jsx(Be,{path:"/dashboard",element:i.jsx(fN,{})}),i.jsx(Be,{path:"/parent",element:i.jsx(XS,{})}),i.jsx(Be,{path:"/rewards",element:i.jsx(JS,{})}),i.jsx(Be,{path:"/history",element:i.jsx(ZS,{})}),i.jsx(Be,{path:"/calendar",element:i.jsx(nN,{})}),i.jsx(Be,{path:"/settings",element:i.jsx(eN,{})}),i.jsx(Be,{path:"/kata/:kataId",element:i.jsx(rN,{})}),i.jsx(Be,{path:"/kata",element:i.jsx(Sf,{})}),i.jsx(Be,{path:"/kata-reference",element:i.jsx(Sf,{})}),i.jsx(Be,{path:"/movement-tracker",element:i.jsx(hN,{})}),i.jsx(Be,{path:"/video-practice",element:i.jsx(pN,{})})]})})})})})})):(console.log("App showing sign-in page"),i.jsx(sN,{}))}function xN(){return i.jsx(w1,{children:i.jsx(C1,{children:i.jsx(gN,{})})})}Fp(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(xN,{})}));
