function G0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nf={exports:{}},xa={},Pf={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=Symbol.for("react.element"),X0=Symbol.for("react.portal"),J0=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ix=Symbol.for("react.memo"),ax=Symbol.for("react.lazy"),_u=Symbol.iterator;function ox(e){return e===null||typeof e!="object"?null:(e=_u&&e[_u]||e["@@iterator"],typeof e=="function"?e:null)}var Cf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tf=Object.assign,Mf={};function Cr(e,t,n){this.props=e,this.context=t,this.refs=Mf,this.updater=n||Cf}Cr.prototype.isReactComponent={};Cr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ef(){}Ef.prototype=Cr.prototype;function Xl(e,t,n){this.props=e,this.context=t,this.refs=Mf,this.updater=n||Cf}var Jl=Xl.prototype=new Ef;Jl.constructor=Xl;Tf(Jl,Cr.prototype);Jl.isPureReactComponent=!0;var Du=Array.isArray,_f=Object.prototype.hasOwnProperty,Zl={current:null},Df={key:!0,ref:!0,__self:!0,__source:!0};function Rf(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)_f.call(t,r)&&!Df.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Is,type:e,key:a,ref:o,props:s,_owner:Zl.current}}function lx(e,t){return{$$typeof:Is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===Is}function cx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ru=/\/+/g;function Ka(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cx(""+e.key):t.toString(36)}function vi(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Is:case X0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ka(o,0):r,Du(s)?(n="",e!=null&&(n=e.replace(Ru,"$&/")+"/"),vi(s,t,n,"",function(u){return u})):s!=null&&(ec(s)&&(s=lx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ru,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Du(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Ka(a,l);o+=vi(a,t,n,c,s)}else if(c=ox(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Ka(a,l++),o+=vi(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Js(e,t,n){if(e==null)return e;var r=[],s=0;return vi(e,r,"","",function(a){return t.call(n,a,s++)}),r}function ux(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},wi={transition:null},dx={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:wi,ReactCurrentOwner:Zl};function Af(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Js,forEach:function(e,t,n){Js(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Js(e,function(){t++}),t},toArray:function(e){return Js(e,function(t){return t})||[]},only:function(e){if(!ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Cr;B.Fragment=J0;B.Profiler=ex;B.PureComponent=Xl;B.StrictMode=Z0;B.Suspense=sx;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;B.act=Af;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tf({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Zl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_f.call(t,c)&&!Df.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Is,type:e.type,key:s,ref:a,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:nx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tx,_context:e},e.Consumer=e};B.createElement=Rf;B.createFactory=function(e){var t=Rf.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:rx,render:e}};B.isValidElement=ec;B.lazy=function(e){return{$$typeof:ax,_payload:{_status:-1,_result:e},_init:ux}};B.memo=function(e,t){return{$$typeof:ix,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=wi.transition;wi.transition={};try{e()}finally{wi.transition=t}};B.unstable_act=Af;B.useCallback=function(e,t){return Ae.current.useCallback(e,t)};B.useContext=function(e){return Ae.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ae.current.useEffect(e,t)};B.useId=function(){return Ae.current.useId()};B.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ae.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};B.useRef=function(e){return Ae.current.useRef(e)};B.useState=function(e){return Ae.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Ae.current.useTransition()};B.version="18.3.1";Pf.exports=B;var v=Pf.exports;const Dn=Q0(v),hx=G0({__proto__:null,default:Dn},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=v,mx=Symbol.for("react.element"),px=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,xx=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yx={key:!0,ref:!0,__self:!0,__source:!0};function Lf(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gx.call(t,r)&&!yx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:mx,type:e,key:a,ref:o,props:s,_owner:xx.current}}xa.Fragment=px;xa.jsx=Lf;xa.jsxs=Lf;Nf.exports=xa;var i=Nf.exports,Of={exports:{}},Qe={},Ff={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,_){var O=E.length;E.push(_);e:for(;0<O;){var W=O-1>>>1,ee=E[W];if(0<s(ee,_))E[W]=_,E[O]=ee,O=W;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var _=E[0],O=E.pop();if(O!==_){E[0]=O;e:for(var W=0,ee=E.length,D=ee>>>1;W<D;){var U=2*(W+1)-1,Oe=E[U],yt=U+1,$n=E[yt];if(0>s(Oe,O))yt<ee&&0>s($n,Oe)?(E[W]=$n,E[yt]=O,W=yt):(E[W]=Oe,E[U]=O,W=U);else if(yt<ee&&0>s($n,O))E[W]=$n,E[yt]=O,W=yt;else break e}}return _}function s(E,_){var O=E.sortIndex-_.sortIndex;return O!==0?O:E.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,g=!1,x=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=E)r(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=n(u)}}function j(E){if(y=!1,w(E),!x)if(n(c)!==null)x=!0,xt(b);else{var _=n(u);_!==null&&J(j,_.startTime-E)}}function b(E,_){x=!1,y&&(y=!1,m(S),S=-1),g=!0;var O=f;try{for(w(_),d=n(c);d!==null&&(!(d.expirationTime>_)||E&&!R());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var ee=W(d.expirationTime<=_);_=e.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(c)&&r(c),w(_)}else r(c);d=n(c)}if(d!==null)var D=!0;else{var U=n(u);U!==null&&J(j,U.startTime-_),D=!1}return D}finally{d=null,f=O,g=!1}}var N=!1,C=null,S=-1,T=5,P=-1;function R(){return!(e.unstable_now()-P<T)}function F(){if(C!==null){var E=e.unstable_now();P=E;var _=!0;try{_=C(!0,E)}finally{_?$():(N=!1,C=null)}}else N=!1}var $;if(typeof p=="function")$=function(){p(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,fe=H.port2;H.port1.onmessage=F,$=function(){fe.postMessage(null)}}else $=function(){k(F,0)};function xt(E){C=E,N||(N=!0,$())}function J(E,_){S=k(function(){E(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,xt(b))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var _=3;break;default:_=f}var O=f;f=_;try{return E()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,_){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var O=f;f=E;try{return _()}finally{f=O}},e.unstable_scheduleCallback=function(E,_,O){var W=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?W+O:W):O=W,E){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=O+ee,E={id:h++,callback:_,priorityLevel:E,startTime:O,expirationTime:ee,sortIndex:-1},O>W?(E.sortIndex=O,t(u,E),n(c)===null&&E===n(u)&&(y?(m(S),S=-1):y=!0,J(j,O-W))):(E.sortIndex=ee,t(c,E),x||g||(x=!0,xt(b))),E},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(E){var _=f;return function(){var O=f;f=_;try{return E.apply(this,arguments)}finally{f=O}}}})(If);Ff.exports=If;var vx=Ff.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=v,qe=vx;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vf=new Set,ds={};function Vn(e,t){pr(e,t),pr(e+"Capture",t)}function pr(e,t){for(ds[e]=t,e=0;e<t.length;e++)Vf.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=Object.prototype.hasOwnProperty,bx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Au={},Lu={};function jx(e){return Lo.call(Lu,e)?!0:Lo.call(Au,e)?!1:bx.test(e)?Lu[e]=!0:(Au[e]=!0,!1)}function kx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sx(e,t,n,r){if(t===null||typeof t>"u"||kx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var tc=/[\-:]([a-z])/g;function nc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tc,nc);Ne[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tc,nc);Ne[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tc,nc);Ne[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function rc(e,t,n,r){var s=Ne.hasOwnProperty(t)?Ne[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sx(t,n,s,r)&&(n=null),r||s===null?jx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vt=wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),sc=Symbol.for("react.strict_mode"),Oo=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Bf=Symbol.for("react.context"),ic=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),Io=Symbol.for("react.suspense_list"),ac=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Uf=Symbol.for("react.offscreen"),Ou=Symbol.iterator;function Rr(e){return e===null||typeof e!="object"?null:(e=Ou&&e[Ou]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,Wa;function Hr(e){if(Wa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wa=t&&t[1]||""}return`
`+Wa+e}var Ya=!1;function qa(e,t){if(!e||Ya)return"";Ya=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ya=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hr(e):""}function Nx(e){switch(e.tag){case 5:return Hr(e.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Vo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yn:return"Fragment";case Wn:return"Portal";case Oo:return"Profiler";case sc:return"StrictMode";case Fo:return"Suspense";case Io:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bf:return(e.displayName||"Context")+".Consumer";case zf:return(e._context.displayName||"Context")+".Provider";case ic:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ac:return t=e.displayName||null,t!==null?t:Vo(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return Vo(e(t))}catch{}}return null}function Px(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vo(t);case 8:return t===sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $f(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cx(e){var t=$f(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ei(e){e._valueTracker||(e._valueTracker=Cx(e))}function Hf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$f(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zo(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kf(e,t){t=t.checked,t!=null&&rc(e,"checked",t,!1)}function Bo(e,t){Kf(e,t);var n=ln(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uo(e,t.type,ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uo(e,t,n){(t!=="number"||Oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Kr=Array.isArray;function cr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ln(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Kr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ln(n)}}function Wf(e,t){var n=ln(t.value),r=ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ti,qf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tx=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Tx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xr[t]=Xr[e]})});function Gf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+t).trim():t+"px"}function Qf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Mx=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(e,t){if(t){if(Mx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qo=null,ur=null,dr=null;function Bu(e){if(e=Bs(e)){if(typeof qo!="function")throw Error(M(280));var t=e.stateNode;t&&(t=ja(t),qo(e.stateNode,e.type,t))}}function Xf(e){ur?dr?dr.push(e):dr=[e]:ur=e}function Jf(){if(ur){var e=ur,t=dr;if(dr=ur=null,Bu(e),t)for(e=0;e<t.length;e++)Bu(t[e])}}function Zf(e,t){return e(t)}function em(){}var Ga=!1;function tm(e,t,n){if(Ga)return e(t,n);Ga=!0;try{return Zf(e,t,n)}finally{Ga=!1,(ur!==null||dr!==null)&&(em(),Jf())}}function fs(e,t){var n=e.stateNode;if(n===null)return null;var r=ja(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Go=!1;if(At)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Go=!1}function Ex(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Jr=!1,Fi=null,Ii=!1,Qo=null,_x={onError:function(e){Jr=!0,Fi=e}};function Dx(e,t,n,r,s,a,o,l,c){Jr=!1,Fi=null,Ex.apply(_x,arguments)}function Rx(e,t,n,r,s,a,o,l,c){if(Dx.apply(this,arguments),Jr){if(Jr){var u=Fi;Jr=!1,Fi=null}else throw Error(M(198));Ii||(Ii=!0,Qo=u)}}function zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uu(e){if(zn(e)!==e)throw Error(M(188))}function Ax(e){var t=e.alternate;if(!t){if(t=zn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Uu(s),e;if(a===r)return Uu(s),t;a=a.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function rm(e){return e=Ax(e),e!==null?sm(e):null}function sm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sm(e);if(t!==null)return t;e=e.sibling}return null}var im=qe.unstable_scheduleCallback,$u=qe.unstable_cancelCallback,Lx=qe.unstable_shouldYield,Ox=qe.unstable_requestPaint,pe=qe.unstable_now,Fx=qe.unstable_getCurrentPriorityLevel,lc=qe.unstable_ImmediatePriority,am=qe.unstable_UserBlockingPriority,Vi=qe.unstable_NormalPriority,Ix=qe.unstable_LowPriority,om=qe.unstable_IdlePriority,ya=null,jt=null;function Vx(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Ux,zx=Math.log,Bx=Math.LN2;function Ux(e){return e>>>=0,e===0?32:31-(zx(e)/Bx|0)|0}var ni=64,ri=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Wr(l):(a&=o,a!==0&&(r=Wr(a)))}else o=n&~s,o!==0?r=Wr(o):a!==0&&(r=Wr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ft(t),s=1<<n,r|=e[n],t&=~s;return r}function $x(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ft(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=$x(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lm(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function Qa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=n}function Kx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ft(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function cc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var X=0;function cm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var um,uc,dm,hm,fm,Jo=!1,si=[],Jt=null,Zt=null,en=null,ms=new Map,ps=new Map,Wt=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function Lr(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Bs(t),t!==null&&uc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Yx(e,t,n,r,s){switch(t){case"focusin":return Jt=Lr(Jt,e,t,n,r,s),!0;case"dragenter":return Zt=Lr(Zt,e,t,n,r,s),!0;case"mouseover":return en=Lr(en,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ms.set(a,Lr(ms.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ps.set(a,Lr(ps.get(a)||null,e,t,n,r,s)),!0}return!1}function mm(e){var t=Nn(e.target);if(t!==null){var n=zn(t);if(n!==null){if(t=n.tag,t===13){if(t=nm(n),t!==null){e.blockedOn=t,fm(e.priority,function(){dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yo=r,n.target.dispatchEvent(r),Yo=null}else return t=Bs(n),t!==null&&uc(t),e.blockedOn=n,!1;t.shift()}return!0}function Ku(e,t,n){bi(e)&&n.delete(t)}function qx(){Jo=!1,Jt!==null&&bi(Jt)&&(Jt=null),Zt!==null&&bi(Zt)&&(Zt=null),en!==null&&bi(en)&&(en=null),ms.forEach(Ku),ps.forEach(Ku)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,Jo||(Jo=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,qx)))}function gs(e){function t(s){return Or(s,e)}if(0<si.length){Or(si[0],e);for(var n=1;n<si.length;n++){var r=si[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jt!==null&&Or(Jt,e),Zt!==null&&Or(Zt,e),en!==null&&Or(en,e),ms.forEach(t),ps.forEach(t),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)mm(n),n.blockedOn===null&&Wt.shift()}var hr=Vt.ReactCurrentBatchConfig,Bi=!0;function Gx(e,t,n,r){var s=X,a=hr.transition;hr.transition=null;try{X=1,dc(e,t,n,r)}finally{X=s,hr.transition=a}}function Qx(e,t,n,r){var s=X,a=hr.transition;hr.transition=null;try{X=4,dc(e,t,n,r)}finally{X=s,hr.transition=a}}function dc(e,t,n,r){if(Bi){var s=Zo(e,t,n,r);if(s===null)ao(e,t,r,Ui,n),Hu(e,r);else if(Yx(s,e,t,n,r))r.stopPropagation();else if(Hu(e,r),t&4&&-1<Wx.indexOf(e)){for(;s!==null;){var a=Bs(s);if(a!==null&&um(a),a=Zo(e,t,n,r),a===null&&ao(e,t,r,Ui,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else ao(e,t,r,null,n)}}var Ui=null;function Zo(e,t,n,r){if(Ui=null,e=oc(r),e=Nn(e),e!==null)if(t=zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function pm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fx()){case lc:return 1;case am:return 4;case Vi:case Ix:return 16;case om:return 536870912;default:return 16}default:return 16}}var qt=null,hc=null,ji=null;function gm(){if(ji)return ji;var e,t=hc,n=t.length,r,s="value"in qt?qt.value:qt.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return ji=s.slice(e,1<r?1-r:void 0)}function ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Wu(){return!1}function Xe(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ii:Wu,this.isPropagationStopped=Wu,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=Xe(Tr),zs=ue({},Tr,{view:0,detail:0}),Xx=Xe(zs),Xa,Ja,Fr,va=ue({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(Xa=e.screenX-Fr.screenX,Ja=e.screenY-Fr.screenY):Ja=Xa=0,Fr=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Ja}}),Yu=Xe(va),Jx=ue({},va,{dataTransfer:0}),Zx=Xe(Jx),ey=ue({},zs,{relatedTarget:0}),Za=Xe(ey),ty=ue({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=Xe(ty),ry=ue({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sy=Xe(ry),iy=ue({},Tr,{data:0}),qu=Xe(iy),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ly[e])?!!t[e]:!1}function mc(){return cy}var uy=ue({},zs,{key:function(e){if(e.key){var t=ay[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dy=Xe(uy),hy=ue({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=Xe(hy),fy=ue({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),my=Xe(fy),py=ue({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=Xe(py),xy=ue({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=Xe(xy),vy=[9,13,27,32],pc=At&&"CompositionEvent"in window,Zr=null;At&&"documentMode"in document&&(Zr=document.documentMode);var wy=At&&"TextEvent"in window&&!Zr,xm=At&&(!pc||Zr&&8<Zr&&11>=Zr),Qu=" ",Xu=!1;function ym(e,t){switch(e){case"keyup":return vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function by(e,t){switch(e){case"compositionend":return vm(t);case"keypress":return t.which!==32?null:(Xu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Xu?null:e;default:return null}}function jy(e,t){if(qn)return e==="compositionend"||!pc&&ym(e,t)?(e=gm(),ji=hc=qt=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xm&&t.locale!=="ko"?null:t.data;default:return null}}var ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ky[e.type]:t==="textarea"}function wm(e,t,n,r){Xf(r),t=$i(t,"onChange"),0<t.length&&(n=new fc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var es=null,xs=null;function Sy(e){_m(e,0)}function wa(e){var t=Xn(e);if(Hf(t))return e}function Ny(e,t){if(e==="change")return t}var bm=!1;if(At){var eo;if(At){var to="oninput"in document;if(!to){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),to=typeof Zu.oninput=="function"}eo=to}else eo=!1;bm=eo&&(!document.documentMode||9<document.documentMode)}function ed(){es&&(es.detachEvent("onpropertychange",jm),xs=es=null)}function jm(e){if(e.propertyName==="value"&&wa(xs)){var t=[];wm(t,xs,e,oc(e)),tm(Sy,t)}}function Py(e,t,n){e==="focusin"?(ed(),es=t,xs=n,es.attachEvent("onpropertychange",jm)):e==="focusout"&&ed()}function Cy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(xs)}function Ty(e,t){if(e==="click")return wa(t)}function My(e,t){if(e==="input"||e==="change")return wa(t)}function Ey(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Ey;function ys(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lo.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var n=td(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=td(n)}}function km(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?km(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sm(){for(var e=window,t=Oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oi(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _y(e){var t=Sm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&km(n.ownerDocument.documentElement,n)){if(r!==null&&gc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=nd(n,a);var o=nd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dy=At&&"documentMode"in document&&11>=document.documentMode,Gn=null,el=null,ts=null,tl=!1;function rd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tl||Gn==null||Gn!==Oi(r)||(r=Gn,"selectionStart"in r&&gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ts&&ys(ts,r)||(ts=r,r=$i(el,"onSelect"),0<r.length&&(t=new fc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gn)))}function ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qn={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},no={},Nm={};At&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function ba(e){if(no[e])return no[e];if(!Qn[e])return e;var t=Qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nm)return no[e]=t[n];return e}var Pm=ba("animationend"),Cm=ba("animationiteration"),Tm=ba("animationstart"),Mm=ba("transitionend"),Em=new Map,sd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){Em.set(e,t),Vn(t,[e])}for(var ro=0;ro<sd.length;ro++){var so=sd[ro],Ry=so.toLowerCase(),Ay=so[0].toUpperCase()+so.slice(1);hn(Ry,"on"+Ay)}hn(Pm,"onAnimationEnd");hn(Cm,"onAnimationIteration");hn(Tm,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(Mm,"onTransitionEnd");pr("onMouseEnter",["mouseout","mouseover"]);pr("onMouseLeave",["mouseout","mouseover"]);pr("onPointerEnter",["pointerout","pointerover"]);pr("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function id(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rx(r,t,void 0,e),e.currentTarget=null}function _m(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;id(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;id(s,l,u),a=c}}}if(Ii)throw e=Qo,Ii=!1,Qo=null,e}function te(e,t){var n=t[al];n===void 0&&(n=t[al]=new Set);var r=e+"__bubble";n.has(r)||(Dm(t,e,2,!1),n.add(r))}function io(e,t,n){var r=0;t&&(r|=4),Dm(n,e,r,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function vs(e){if(!e[oi]){e[oi]=!0,Vf.forEach(function(n){n!=="selectionchange"&&(Ly.has(n)||io(n,!1,e),io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,io("selectionchange",!1,t))}}function Dm(e,t,n,r){switch(pm(t)){case 1:var s=Gx;break;case 4:s=Qx;break;default:s=dc}n=s.bind(null,t,n,e),s=void 0,!Go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ao(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Nn(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}tm(function(){var u=a,h=oc(n),d=[];e:{var f=Em.get(e);if(f!==void 0){var g=fc,x=e;switch(e){case"keypress":if(ki(n)===0)break e;case"keydown":case"keyup":g=dy;break;case"focusin":x="focus",g=Za;break;case"focusout":x="blur",g=Za;break;case"beforeblur":case"afterblur":g=Za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=my;break;case Pm:case Cm:case Tm:g=ny;break;case Mm:g=gy;break;case"scroll":g=Xx;break;case"wheel":g=yy;break;case"copy":case"cut":case"paste":g=sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Gu}var y=(t&4)!==0,k=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,m!==null&&(j=fs(p,m),j!=null&&y.push(ws(p,j,w)))),k)break;p=p.return}0<y.length&&(f=new g(f,x,null,n,h),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Yo&&(x=n.relatedTarget||n.fromElement)&&(Nn(x)||x[Lt]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Nn(x):null,x!==null&&(k=zn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(y=Yu,j="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Gu,j="onPointerLeave",m="onPointerEnter",p="pointer"),k=g==null?f:Xn(g),w=x==null?f:Xn(x),f=new y(j,p+"leave",g,n,h),f.target=k,f.relatedTarget=w,j=null,Nn(h)===u&&(y=new y(m,p+"enter",x,n,h),y.target=w,y.relatedTarget=k,j=y),k=j,g&&x)t:{for(y=g,m=x,p=0,w=y;w;w=Hn(w))p++;for(w=0,j=m;j;j=Hn(j))w++;for(;0<p-w;)y=Hn(y),p--;for(;0<w-p;)m=Hn(m),w--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=Hn(y),m=Hn(m)}y=null}else y=null;g!==null&&ad(d,f,g,y,!1),x!==null&&k!==null&&ad(d,k,x,y,!0)}}e:{if(f=u?Xn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var b=Ny;else if(Ju(f))if(bm)b=My;else{b=Cy;var N=Py}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Ty);if(b&&(b=b(e,u))){wm(d,b,n,h);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Uo(f,"number",f.value)}switch(N=u?Xn(u):window,e){case"focusin":(Ju(N)||N.contentEditable==="true")&&(Gn=N,el=u,ts=null);break;case"focusout":ts=el=Gn=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,rd(d,n,h);break;case"selectionchange":if(Dy)break;case"keydown":case"keyup":rd(d,n,h)}var C;if(pc)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else qn?ym(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(xm&&n.locale!=="ko"&&(qn||S!=="onCompositionStart"?S==="onCompositionEnd"&&qn&&(C=gm()):(qt=h,hc="value"in qt?qt.value:qt.textContent,qn=!0)),N=$i(u,S),0<N.length&&(S=new qu(S,e,null,n,h),d.push({event:S,listeners:N}),C?S.data=C:(C=vm(n),C!==null&&(S.data=C)))),(C=wy?by(e,n):jy(e,n))&&(u=$i(u,"onBeforeInput"),0<u.length&&(h=new qu("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=C))}_m(d,t)})}function ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $i(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=fs(e,n),a!=null&&r.unshift(ws(e,a,s)),a=fs(e,t),a!=null&&r.push(ws(e,a,s))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ad(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=fs(n,a),c!=null&&o.unshift(ws(n,c,l))):s||(c=fs(n,a),c!=null&&o.push(ws(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Oy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function od(e){return(typeof e=="string"?e:""+e).replace(Oy,`
`).replace(Fy,"")}function li(e,t,n){if(t=od(t),od(e)!==t&&n)throw Error(M(425))}function Hi(){}var nl=null,rl=null;function sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(zy)}:il;function zy(e){setTimeout(function(){throw e})}function oo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gs(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),bt="__reactFiber$"+Mr,bs="__reactProps$"+Mr,Lt="__reactContainer$"+Mr,al="__reactEvents$"+Mr,By="__reactListeners$"+Mr,Uy="__reactHandles$"+Mr;function Nn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cd(e);e!==null;){if(n=e[bt])return n;e=cd(e)}return t}e=n,n=e.parentNode}return null}function Bs(e){return e=e[bt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function ja(e){return e[bs]||null}var ol=[],Jn=-1;function fn(e){return{current:e}}function ne(e){0>Jn||(e.current=ol[Jn],ol[Jn]=null,Jn--)}function Z(e,t){Jn++,ol[Jn]=e.current,e.current=t}var cn={},_e=fn(cn),Ve=fn(!1),Rn=cn;function gr(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function Ki(){ne(Ve),ne(_e)}function ud(e,t,n){if(_e.current!==cn)throw Error(M(168));Z(_e,t),Z(Ve,n)}function Rm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,Px(e)||"Unknown",s));return ue({},n,r)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Rn=_e.current,Z(_e,e),Z(Ve,Ve.current),!0}function dd(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Rm(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,ne(Ve),ne(_e),Z(_e,e)):ne(Ve),Z(Ve,n)}var Tt=null,ka=!1,lo=!1;function Am(e){Tt===null?Tt=[e]:Tt.push(e)}function $y(e){ka=!0,Am(e)}function mn(){if(!lo&&Tt!==null){lo=!0;var e=0,t=X;try{var n=Tt;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tt=null,ka=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(e+1)),im(lc,mn),s}finally{X=t,lo=!1}}return null}var Zn=[],er=0,Yi=null,qi=0,et=[],tt=0,An=null,Mt=1,Et="";function wn(e,t){Zn[er++]=qi,Zn[er++]=Yi,Yi=e,qi=t}function Lm(e,t,n){et[tt++]=Mt,et[tt++]=Et,et[tt++]=An,An=e;var r=Mt;e=Et;var s=32-ft(r)-1;r&=~(1<<s),n+=1;var a=32-ft(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mt=1<<32-ft(t)+s|n<<s|r,Et=a+e}else Mt=1<<a|n<<s|r,Et=e}function xc(e){e.return!==null&&(wn(e,1),Lm(e,1,0))}function yc(e){for(;e===Yi;)Yi=Zn[--er],Zn[er]=null,qi=Zn[--er],Zn[er]=null;for(;e===An;)An=et[--tt],et[tt]=null,Et=et[--tt],et[tt]=null,Mt=et[--tt],et[tt]=null}var We=null,Ke=null,ie=!1,ht=null;function Om(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Ke=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Mt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,Ke=null,!0):!1;default:return!1}}function ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(ie){var t=Ke;if(t){var n=t;if(!hd(e,t)){if(ll(e))throw Error(M(418));t=tn(n.nextSibling);var r=We;t&&hd(e,t)?Om(r,n):(e.flags=e.flags&-4097|2,ie=!1,We=e)}}else{if(ll(e))throw Error(M(418));e.flags=e.flags&-4097|2,ie=!1,We=e}}}function fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function ci(e){if(e!==We)return!1;if(!ie)return fd(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sl(e.type,e.memoizedProps)),t&&(t=Ke)){if(ll(e))throw Fm(),Error(M(418));for(;t;)Om(e,t),t=tn(t.nextSibling)}if(fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=We?tn(e.stateNode.nextSibling):null;return!0}function Fm(){for(var e=Ke;e;)e=tn(e.nextSibling)}function xr(){Ke=We=null,ie=!1}function vc(e){ht===null?ht=[e]:ht.push(e)}var Hy=Vt.ReactCurrentBatchConfig;function Ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function ui(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function md(e){var t=e._init;return t(e._payload)}function Im(e){function t(m,p){if(e){var w=m.deletions;w===null?(m.deletions=[p],m.flags|=16):w.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=an(m,p),m.index=0,m.sibling=null,m}function a(m,p,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<p?(m.flags|=2,p):w):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,w,j){return p===null||p.tag!==6?(p=go(w,m.mode,j),p.return=m,p):(p=s(p,w),p.return=m,p)}function c(m,p,w,j){var b=w.type;return b===Yn?h(m,p,w.props.children,j,w.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===$t&&md(b)===p.type)?(j=s(p,w.props),j.ref=Ir(m,p,w),j.return=m,j):(j=Ei(w.type,w.key,w.props,null,m.mode,j),j.ref=Ir(m,p,w),j.return=m,j)}function u(m,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=xo(w,m.mode,j),p.return=m,p):(p=s(p,w.children||[]),p.return=m,p)}function h(m,p,w,j,b){return p===null||p.tag!==7?(p=En(w,m.mode,j,b),p.return=m,p):(p=s(p,w),p.return=m,p)}function d(m,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=go(""+p,m.mode,w),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zs:return w=Ei(p.type,p.key,p.props,null,m.mode,w),w.ref=Ir(m,null,p),w.return=m,w;case Wn:return p=xo(p,m.mode,w),p.return=m,p;case $t:var j=p._init;return d(m,j(p._payload),w)}if(Kr(p)||Rr(p))return p=En(p,m.mode,w,null),p.return=m,p;ui(m,p)}return null}function f(m,p,w,j){var b=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:l(m,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zs:return w.key===b?c(m,p,w,j):null;case Wn:return w.key===b?u(m,p,w,j):null;case $t:return b=w._init,f(m,p,b(w._payload),j)}if(Kr(w)||Rr(w))return b!==null?null:h(m,p,w,j,null);ui(m,w)}return null}function g(m,p,w,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(w)||null,l(p,m,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zs:return m=m.get(j.key===null?w:j.key)||null,c(p,m,j,b);case Wn:return m=m.get(j.key===null?w:j.key)||null,u(p,m,j,b);case $t:var N=j._init;return g(m,p,w,N(j._payload),b)}if(Kr(j)||Rr(j))return m=m.get(w)||null,h(p,m,j,b,null);ui(p,j)}return null}function x(m,p,w,j){for(var b=null,N=null,C=p,S=p=0,T=null;C!==null&&S<w.length;S++){C.index>S?(T=C,C=null):T=C.sibling;var P=f(m,C,w[S],j);if(P===null){C===null&&(C=T);break}e&&C&&P.alternate===null&&t(m,C),p=a(P,p,S),N===null?b=P:N.sibling=P,N=P,C=T}if(S===w.length)return n(m,C),ie&&wn(m,S),b;if(C===null){for(;S<w.length;S++)C=d(m,w[S],j),C!==null&&(p=a(C,p,S),N===null?b=C:N.sibling=C,N=C);return ie&&wn(m,S),b}for(C=r(m,C);S<w.length;S++)T=g(C,m,S,w[S],j),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?S:T.key),p=a(T,p,S),N===null?b=T:N.sibling=T,N=T);return e&&C.forEach(function(R){return t(m,R)}),ie&&wn(m,S),b}function y(m,p,w,j){var b=Rr(w);if(typeof b!="function")throw Error(M(150));if(w=b.call(w),w==null)throw Error(M(151));for(var N=b=null,C=p,S=p=0,T=null,P=w.next();C!==null&&!P.done;S++,P=w.next()){C.index>S?(T=C,C=null):T=C.sibling;var R=f(m,C,P.value,j);if(R===null){C===null&&(C=T);break}e&&C&&R.alternate===null&&t(m,C),p=a(R,p,S),N===null?b=R:N.sibling=R,N=R,C=T}if(P.done)return n(m,C),ie&&wn(m,S),b;if(C===null){for(;!P.done;S++,P=w.next())P=d(m,P.value,j),P!==null&&(p=a(P,p,S),N===null?b=P:N.sibling=P,N=P);return ie&&wn(m,S),b}for(C=r(m,C);!P.done;S++,P=w.next())P=g(C,m,S,P.value,j),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?S:P.key),p=a(P,p,S),N===null?b=P:N.sibling=P,N=P);return e&&C.forEach(function(F){return t(m,F)}),ie&&wn(m,S),b}function k(m,p,w,j){if(typeof w=="object"&&w!==null&&w.type===Yn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zs:e:{for(var b=w.key,N=p;N!==null;){if(N.key===b){if(b=w.type,b===Yn){if(N.tag===7){n(m,N.sibling),p=s(N,w.props.children),p.return=m,m=p;break e}}else if(N.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===$t&&md(b)===N.type){n(m,N.sibling),p=s(N,w.props),p.ref=Ir(m,N,w),p.return=m,m=p;break e}n(m,N);break}else t(m,N);N=N.sibling}w.type===Yn?(p=En(w.props.children,m.mode,j,w.key),p.return=m,m=p):(j=Ei(w.type,w.key,w.props,null,m.mode,j),j.ref=Ir(m,p,w),j.return=m,m=j)}return o(m);case Wn:e:{for(N=w.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(m,p.sibling),p=s(p,w.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=xo(w,m.mode,j),p.return=m,m=p}return o(m);case $t:return N=w._init,k(m,p,N(w._payload),j)}if(Kr(w))return x(m,p,w,j);if(Rr(w))return y(m,p,w,j);ui(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,w),p.return=m,m=p):(n(m,p),p=go(w,m.mode,j),p.return=m,m=p),o(m)):n(m,p)}return k}var yr=Im(!0),Vm=Im(!1),Gi=fn(null),Qi=null,tr=null,wc=null;function bc(){wc=tr=Qi=null}function jc(e){var t=Gi.current;ne(Gi),e._currentValue=t}function ul(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){Qi=e,wc=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(wc!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(Qi===null)throw Error(M(308));tr=e,Qi.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var Pn=null;function kc(e){Pn===null?Pn=[e]:Pn.push(e)}function zm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,kc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ot(e,r)}function Ot(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function Sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ot(e,n)}return s=r.interleaved,s===null?(t.next=t,kc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ot(e,n)}function Si(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cc(e,n)}}function pd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xi(e,t,n,r){var s=e.updateQueue;Ht=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;o=0,h=u=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,y=l;switch(f=t,g=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){d=x.call(g,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(g,d,f):x,f==null)break e;d=ue({},d,f);break e;case 2:Ht=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=d):h=h.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);On|=o,e.lanes=o,e.memoizedState=d}}function gd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var Us={},kt=fn(Us),js=fn(Us),ks=fn(Us);function Cn(e){if(e===Us)throw Error(M(174));return e}function Nc(e,t){switch(Z(ks,t),Z(js,e),Z(kt,Us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ho(t,e)}ne(kt),Z(kt,t)}function vr(){ne(kt),ne(js),ne(ks)}function Um(e){Cn(ks.current);var t=Cn(kt.current),n=Ho(t,e.type);t!==n&&(Z(js,e),Z(kt,n))}function Pc(e){js.current===e&&(ne(kt),ne(js))}var oe=fn(0);function Ji(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function Cc(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var Ni=Vt.ReactCurrentDispatcher,uo=Vt.ReactCurrentBatchConfig,Ln=0,ce=null,ye=null,we=null,Zi=!1,ns=!1,Ss=0,Ky=0;function Pe(){throw Error(M(321))}function Tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Mc(e,t,n,r,s,a){if(Ln=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ni.current=e===null||e.memoizedState===null?Gy:Qy,e=n(r,s),ns){a=0;do{if(ns=!1,Ss=0,25<=a)throw Error(M(301));a+=1,we=ye=null,t.updateQueue=null,Ni.current=Xy,e=n(r,s)}while(ns)}if(Ni.current=ea,t=ye!==null&&ye.next!==null,Ln=0,we=ye=ce=null,Zi=!1,t)throw Error(M(300));return e}function Ec(){var e=Ss!==0;return Ss=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ce.memoizedState=we=e:we=we.next=e,we}function it(){if(ye===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=we===null?ce.memoizedState:we.next;if(t!==null)we=t,ye=e;else{if(e===null)throw Error(M(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},we===null?ce.memoizedState=we=e:we=we.next=e}return we}function Ns(e,t){return typeof t=="function"?t(e):t}function ho(e){var t=it(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=ye,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((Ln&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=r):c=c.next=d,ce.lanes|=h,On|=h}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,pt(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ce.lanes|=a,On|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fo(e){var t=it(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);pt(a,t.memoizedState)||(Ie=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function $m(){}function Hm(e,t){var n=ce,r=it(),s=t(),a=!pt(r.memoizedState,s);if(a&&(r.memoizedState=s,Ie=!0),r=r.queue,_c(Ym.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Ps(9,Wm.bind(null,n,r,s,t),void 0,null),be===null)throw Error(M(349));Ln&30||Km(n,t,s)}return s}function Km(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wm(e,t,n,r){t.value=n,t.getSnapshot=r,qm(t)&&Gm(e)}function Ym(e,t,n){return n(function(){qm(t)&&Gm(e)})}function qm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Gm(e){var t=Ot(e,1);t!==null&&mt(t,e,1,-1)}function xd(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=qy.bind(null,ce,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qm(){return it().memoizedState}function Pi(e,t,n,r){var s=wt();ce.flags|=e,s.memoizedState=Ps(1|t,n,void 0,r===void 0?null:r)}function Sa(e,t,n,r){var s=it();r=r===void 0?null:r;var a=void 0;if(ye!==null){var o=ye.memoizedState;if(a=o.destroy,r!==null&&Tc(r,o.deps)){s.memoizedState=Ps(t,n,a,r);return}}ce.flags|=e,s.memoizedState=Ps(1|t,n,a,r)}function yd(e,t){return Pi(8390656,8,e,t)}function _c(e,t){return Sa(2048,8,e,t)}function Xm(e,t){return Sa(4,2,e,t)}function Jm(e,t){return Sa(4,4,e,t)}function Zm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ep(e,t,n){return n=n!=null?n.concat([e]):null,Sa(4,4,Zm.bind(null,t,e),n)}function Dc(){}function tp(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function np(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rp(e,t,n){return Ln&21?(pt(n,t)||(n=lm(),ce.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function Wy(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{X=n,uo.transition=r}}function sp(){return it().memoizedState}function Yy(e,t,n){var r=sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ip(e))ap(t,n);else if(n=zm(e,t,n,r),n!==null){var s=Re();mt(n,e,r,s),op(n,t,r)}}function qy(e,t,n){var r=sn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ip(e))ap(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,pt(l,o)){var c=t.interleaved;c===null?(s.next=s,kc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=zm(e,t,s,r),n!==null&&(s=Re(),mt(n,e,r,s),op(n,t,r))}}function ip(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function ap(e,t){ns=Zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function op(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cc(e,n)}}var ea={readContext:st,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Gy={readContext:st,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:yd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pi(4194308,4,Zm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yy.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:xd,useDebugValue:Dc,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=xd(!1),t=e[0];return e=Wy.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,s=wt();if(ie){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),be===null)throw Error(M(349));Ln&30||Km(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,yd(Ym.bind(null,r,a,e),[e]),r.flags|=2048,Ps(9,Wm.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=wt(),t=be.identifierPrefix;if(ie){var n=Et,r=Mt;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ss++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ky++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qy={readContext:st,useCallback:tp,useContext:st,useEffect:_c,useImperativeHandle:ep,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:np,useReducer:ho,useRef:Qm,useState:function(){return ho(Ns)},useDebugValue:Dc,useDeferredValue:function(e){var t=it();return rp(t,ye.memoizedState,e)},useTransition:function(){var e=ho(Ns)[0],t=it().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Hm,useId:sp,unstable_isNewReconciler:!1},Xy={readContext:st,useCallback:tp,useContext:st,useEffect:_c,useImperativeHandle:ep,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:np,useReducer:fo,useRef:Qm,useState:function(){return fo(Ns)},useDebugValue:Dc,useDeferredValue:function(e){var t=it();return ye===null?t.memoizedState=e:rp(t,ye.memoizedState,e)},useTransition:function(){var e=fo(Ns)[0],t=it().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Hm,useId:sp,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Na={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=sn(e),a=_t(r,s);a.payload=t,n!=null&&(a.callback=n),t=nn(e,a,s),t!==null&&(mt(t,e,s,r),Si(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=sn(e),a=_t(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=nn(e,a,s),t!==null&&(mt(t,e,s,r),Si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=sn(e),s=_t(n,r);s.tag=2,t!=null&&(s.callback=t),t=nn(e,s,r),t!==null&&(mt(t,e,r,n),Si(t,e,r))}};function vd(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!ys(n,r)||!ys(s,a):!0}function lp(e,t,n){var r=!1,s=cn,a=t.contextType;return typeof a=="object"&&a!==null?a=st(a):(s=ze(t)?Rn:_e.current,r=t.contextTypes,a=(r=r!=null)?gr(e,s):cn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Na,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function wd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Na.enqueueReplaceState(t,t.state,null)}function hl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Sc(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=st(a):(a=ze(t)?Rn:_e.current,s.context=gr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dl(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Na.enqueueReplaceState(s,s.state,null),Xi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,t){try{var n="",r=t;do n+=Nx(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jy=typeof WeakMap=="function"?WeakMap:Map;function cp(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){na||(na=!0,kl=r),fl(e,t)},n}function up(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){fl(e,t),typeof r!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function bd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jy;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=hv.bind(null,e,t,n),t.then(e,e))}function jd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e)}var Zy=Vt.ReactCurrentOwner,Ie=!1;function De(e,t,n,r){t.child=e===null?Vm(t,null,n,r):yr(t,e.child,n,r)}function Sd(e,t,n,r,s){n=n.render;var a=t.ref;return fr(t,s),r=Mc(e,t,n,r,a,s),n=Ec(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(ie&&n&&xc(t),t.flags|=1,De(e,t,r,s),t.child)}function Nd(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!zc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,dp(e,t,a,r,s)):(e=Ei(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(o,r)&&e.ref===t.ref)return Ft(e,t,s)}return t.flags|=1,e=an(a,r),e.ref=t.ref,e.return=t,t.child=e}function dp(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(ys(a,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Ft(e,t,s)}return ml(e,t,n,r,s)}function hp(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(rr,He),He|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(rr,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Z(rr,He),He|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Z(rr,He),He|=r;return De(e,t,s,n),t.child}function fp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,n,r,s){var a=ze(n)?Rn:_e.current;return a=gr(t,a),fr(t,s),n=Mc(e,t,n,r,a,s),r=Ec(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(ie&&r&&xc(t),t.flags|=1,De(e,t,n,s),t.child)}function Pd(e,t,n,r,s){if(ze(n)){var a=!0;Wi(t)}else a=!1;if(fr(t,s),t.stateNode===null)Ci(e,t),lp(t,n,r),hl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=ze(n)?Rn:_e.current,u=gr(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&wd(t,o,r,u),Ht=!1;var f=t.memoizedState;o.state=f,Xi(t,r,o,s),c=t.memoizedState,l!==r||f!==c||Ve.current||Ht?(typeof h=="function"&&(dl(t,n,h,r),c=t.memoizedState),(l=Ht||vd(t,n,l,r,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Bm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ut(t.type,l),o.props=u,d=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=st(c):(c=ze(n)?Rn:_e.current,c=gr(t,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&wd(t,o,r,c),Ht=!1,f=t.memoizedState,o.state=f,Xi(t,r,o,s);var x=t.memoizedState;l!==d||f!==x||Ve.current||Ht?(typeof g=="function"&&(dl(t,n,g,r),x=t.memoizedState),(u=Ht||vd(t,n,u,r,f,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return pl(e,t,n,r,a,s)}function pl(e,t,n,r,s,a){fp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&dd(t,n,!1),Ft(e,t,a);r=t.stateNode,Zy.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=yr(t,e.child,null,a),t.child=yr(t,null,l,a)):De(e,t,l,a),t.memoizedState=r.state,s&&dd(t,n,!0),t.child}function mp(e){var t=e.stateNode;t.pendingContext?ud(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ud(e,t.context,!1),Nc(e,t.containerInfo)}function Cd(e,t,n,r,s){return xr(),vc(s),t.flags|=256,De(e,t,n,r),t.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function pp(e,t,n){var r=t.pendingProps,s=oe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(oe,s&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ta(o,r,0,null),e=En(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=xl(n),t.memoizedState=gl,e):Rc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ev(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=an(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=an(l,a):(a=En(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?xl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=gl,r}return a=e.child,e=a.sibling,r=an(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rc(e,t){return t=Ta({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,n,r){return r!==null&&vc(r),yr(t,e.child,null,n),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ev(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=mo(Error(M(422))),di(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Ta({mode:"visible",children:r.children},s,0,null),a=En(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&yr(t,e.child,null,o),t.child.memoizedState=xl(o),t.memoizedState=gl,a);if(!(t.mode&1))return di(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(M(419)),r=mo(a,r,void 0),di(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ie||l){if(r=be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ot(e,s),mt(r,e,s,-1))}return Vc(),r=mo(Error(M(421))),di(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fv.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ke=tn(s.nextSibling),We=t,ie=!0,ht=null,e!==null&&(et[tt++]=Mt,et[tt++]=Et,et[tt++]=An,Mt=e.id,Et=e.overflow,An=t),t=Rc(t,r.children),t.flags|=4096,t)}function Td(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ul(e.return,t,n)}function po(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function gp(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(De(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Td(e,n,t);else if(e.tag===19)Td(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(oe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ji(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),po(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ji(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}po(t,!0,n,null,a);break;case"together":po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tv(e,t,n){switch(t.tag){case 3:mp(t),xr();break;case 5:Um(t);break;case 1:ze(t.type)&&Wi(t);break;case 4:Nc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Z(Gi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?pp(e,t,n):(Z(oe,oe.current&1),e=Ft(e,t,n),e!==null?e.sibling:null);Z(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,hp(e,t,n)}return Ft(e,t,n)}var xp,yl,yp,vp;xp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yl=function(){};yp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cn(kt.current);var a=null;switch(n){case"input":s=zo(e,s),r=zo(e,r),a=[];break;case"select":s=ue({},s,{value:void 0}),r=ue({},r,{value:void 0}),a=[];break;case"textarea":s=$o(e,s),r=$o(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hi)}Ko(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ds.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ds.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&te("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};vp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nv(e,t,n){var r=t.pendingProps;switch(yc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return ze(t.type)&&Ki(),Ce(t),null;case 3:return r=t.stateNode,vr(),ne(Ve),ne(_e),Cc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Pl(ht),ht=null))),yl(e,t),Ce(t),null;case 5:Pc(t);var s=Cn(ks.current);if(n=t.type,e!==null&&t.stateNode!=null)yp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Ce(t),null}if(e=Cn(kt.current),ci(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[bt]=t,r[bs]=a,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<Yr.length;s++)te(Yr[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Fu(r,a),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},te("invalid",r);break;case"textarea":Vu(r,a),te("invalid",r)}Ko(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&li(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&li(r.textContent,l,e),s=["children",""+l]):ds.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":ei(r),Iu(r,a,!0);break;case"textarea":ei(r),zu(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Hi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bt]=t,e[bs]=r,xp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wo(n,r),n){case"dialog":te("cancel",e),te("close",e),s=r;break;case"iframe":case"object":case"embed":te("load",e),s=r;break;case"video":case"audio":for(s=0;s<Yr.length;s++)te(Yr[s],e);s=r;break;case"source":te("error",e),s=r;break;case"img":case"image":case"link":te("error",e),te("load",e),s=r;break;case"details":te("toggle",e),s=r;break;case"input":Fu(e,r),s=zo(e,r),te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ue({},r,{value:void 0}),te("invalid",e);break;case"textarea":Vu(e,r),s=$o(e,r),te("invalid",e);break;default:s=r}Ko(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Qf(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qf(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hs(e,c):typeof c=="number"&&hs(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ds.hasOwnProperty(a)?c!=null&&a==="onScroll"&&te("scroll",e):c!=null&&rc(e,a,c,o))}switch(n){case"input":ei(e),Iu(e,r,!1);break;case"textarea":ei(e),zu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ln(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?cr(e,!!r.multiple,a,!1):r.defaultValue!=null&&cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Hi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)vp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Cn(ks.current),Cn(kt.current),ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[bt]=t,(a=r.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:li(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&li(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=t,t.stateNode=r}return Ce(t),null;case 13:if(ne(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ke!==null&&t.mode&1&&!(t.flags&128))Fm(),xr(),t.flags|=98560,a=!1;else if(a=ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[bt]=t}else xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),a=!1}else ht!==null&&(Pl(ht),ht=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?ve===0&&(ve=3):Vc())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return vr(),yl(e,t),e===null&&vs(t.stateNode.containerInfo),Ce(t),null;case 10:return jc(t.type._context),Ce(t),null;case 17:return ze(t.type)&&Ki(),Ce(t),null;case 19:if(ne(oe),a=t.memoizedState,a===null)return Ce(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Vr(a,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ji(e),o!==null){for(t.flags|=128,Vr(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&pe()>br&&(t.flags|=128,r=!0,Vr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ji(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ie)return Ce(t),null}else 2*pe()-a.renderingStartTime>br&&n!==1073741824&&(t.flags|=128,r=!0,Vr(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pe(),t.sibling=null,n=oe.current,Z(oe,r?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return Ic(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function rv(e,t){switch(yc(t),t.tag){case 1:return ze(t.type)&&Ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(),ne(Ve),ne(_e),Cc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pc(t),null;case 13:if(ne(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(oe),null;case 4:return vr(),null;case 10:return jc(t.type._context),null;case 22:case 23:return Ic(),null;case 24:return null;default:return null}}var hi=!1,Me=!1,sv=typeof WeakSet=="function"?WeakSet:Set,A=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function vl(e,t,n){try{n()}catch(r){he(e,t,r)}}var Md=!1;function iv(e,t){if(nl=Bi,e=Sm(),gc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==a||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++h===r&&(c=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rl={focusedElem:e,selectionRange:n},Bi=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,k=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:ut(t.type,y),k);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(j){he(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return x=Md,Md=!1,x}function rs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&vl(t,n,a)}s=s.next}while(s!==r)}}function Pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wp(e){var t=e.alternate;t!==null&&(e.alternate=null,wp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[bs],delete t[al],delete t[By],delete t[Uy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bp(e){return e.tag===5||e.tag===3||e.tag===4}function Ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hi));else if(r!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}function jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jl(e,t,n),e=e.sibling;e!==null;)jl(e,t,n),e=e.sibling}var je=null,dt=!1;function zt(e,t,n){for(n=n.child;n!==null;)jp(e,t,n),n=n.sibling}function jp(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:Me||nr(n,t);case 6:var r=je,s=dt;je=null,zt(e,t,n),je=r,dt=s,je!==null&&(dt?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(dt?(e=je,n=n.stateNode,e.nodeType===8?oo(e.parentNode,n):e.nodeType===1&&oo(e,n),gs(e)):oo(je,n.stateNode));break;case 4:r=je,s=dt,je=n.stateNode.containerInfo,dt=!0,zt(e,t,n),je=r,dt=s;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&vl(n,t,o),s=s.next}while(s!==r)}zt(e,t,n);break;case 1:if(!Me&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){he(n,t,l)}zt(e,t,n);break;case 21:zt(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,zt(e,t,n),Me=r):zt(e,t,n);break;default:zt(e,t,n)}}function _d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sv),t.forEach(function(r){var s=mv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:je=l.stateNode,dt=!1;break e;case 3:je=l.stateNode.containerInfo,dt=!0;break e;case 4:je=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(je===null)throw Error(M(160));jp(a,o,s),je=null,dt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){he(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kp(t,e),t=t.sibling}function kp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),vt(e),r&4){try{rs(3,e,e.return),Pa(3,e)}catch(y){he(e,e.return,y)}try{rs(5,e,e.return)}catch(y){he(e,e.return,y)}}break;case 1:lt(t,e),vt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(lt(t,e),vt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var s=e.stateNode;try{hs(s,"")}catch(y){he(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Kf(s,a),Wo(l,o);var u=Wo(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?Qf(s,d):h==="dangerouslySetInnerHTML"?qf(s,d):h==="children"?hs(s,d):rc(s,h,d,u)}switch(l){case"input":Bo(s,a);break;case"textarea":Wf(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?cr(s,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?cr(s,!!a.multiple,a.defaultValue,!0):cr(s,!!a.multiple,a.multiple?[]:"",!1))}s[bs]=a}catch(y){he(e,e.return,y)}}break;case 6:if(lt(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){he(e,e.return,y)}}break;case 3:if(lt(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(y){he(e,e.return,y)}break;case 4:lt(t,e),vt(e);break;case 13:lt(t,e),vt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Oc=pe())),r&4&&_d(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||h,lt(t,e),Me=u):lt(t,e),vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(A=e,h=e.child;h!==null;){for(d=A=h;A!==null;){switch(f=A,g=f.child,f.tag){case 0:case 11:case 14:case 15:rs(4,f,f.return);break;case 1:nr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){he(r,n,y)}}break;case 5:nr(f,f.return);break;case 22:if(f.memoizedState!==null){Rd(d);continue}}g!==null?(g.return=f,A=g):Rd(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Gf("display",o))}catch(y){he(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){he(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:lt(t,e),vt(e),r&4&&_d(e);break;case 21:break;default:lt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bp(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hs(s,""),r.flags&=-33);var a=Ed(e);jl(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ed(e);bl(e,l,o);break;default:throw Error(M(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function av(e,t,n){A=e,Sp(e)}function Sp(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hi;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Me;l=hi;var u=Me;if(hi=o,(Me=c)&&!u)for(A=s;A!==null;)o=A,c=o.child,o.tag===22&&o.memoizedState!==null?Ad(s):c!==null?(c.return=o,A=c):Ad(s);for(;a!==null;)A=a,Sp(a),a=a.sibling;A=s,hi=l,Me=u}Dd(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,A=a):Dd(e)}}function Dd(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Pa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ut(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gd(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&gs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Me||t.flags&512&&wl(t)}catch(f){he(t,t.return,f)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Rd(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Ad(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pa(4,t)}catch(c){he(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){he(t,s,c)}}var a=t.return;try{wl(t)}catch(c){he(t,a,c)}break;case 5:var o=t.return;try{wl(t)}catch(c){he(t,o,c)}}}catch(c){he(t,t.return,c)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var ov=Math.ceil,ta=Vt.ReactCurrentDispatcher,Ac=Vt.ReactCurrentOwner,rt=Vt.ReactCurrentBatchConfig,K=0,be=null,ge=null,Se=0,He=0,rr=fn(0),ve=0,Cs=null,On=0,Ca=0,Lc=0,ss=null,Fe=null,Oc=0,br=1/0,Ct=null,na=!1,kl=null,rn=null,fi=!1,Gt=null,ra=0,is=0,Sl=null,Ti=-1,Mi=0;function Re(){return K&6?pe():Ti!==-1?Ti:Ti=pe()}function sn(e){return e.mode&1?K&2&&Se!==0?Se&-Se:Hy.transition!==null?(Mi===0&&(Mi=lm()),Mi):(e=X,e!==0||(e=window.event,e=e===void 0?16:pm(e.type)),e):1}function mt(e,t,n,r){if(50<is)throw is=0,Sl=null,Error(M(185));Vs(e,n,r),(!(K&2)||e!==be)&&(e===be&&(!(K&2)&&(Ca|=n),ve===4&&Yt(e,Se)),Be(e,r),n===1&&K===0&&!(t.mode&1)&&(br=pe()+500,ka&&mn()))}function Be(e,t){var n=e.callbackNode;Hx(e,t);var r=zi(e,e===be?Se:0);if(r===0)n!==null&&$u(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$u(n),t===1)e.tag===0?$y(Ld.bind(null,e)):Am(Ld.bind(null,e)),Vy(function(){!(K&6)&&mn()}),n=null;else{switch(cm(r)){case 1:n=lc;break;case 4:n=am;break;case 16:n=Vi;break;case 536870912:n=om;break;default:n=Vi}n=Dp(n,Np.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Np(e,t){if(Ti=-1,Mi=0,K&6)throw Error(M(327));var n=e.callbackNode;if(mr()&&e.callbackNode!==n)return null;var r=zi(e,e===be?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sa(e,r);else{t=r;var s=K;K|=2;var a=Cp();(be!==e||Se!==t)&&(Ct=null,br=pe()+500,Mn(e,t));do try{uv();break}catch(l){Pp(e,l)}while(!0);bc(),ta.current=a,K=s,ge!==null?t=0:(be=null,Se=0,t=ve)}if(t!==0){if(t===2&&(s=Xo(e),s!==0&&(r=s,t=Nl(e,s))),t===1)throw n=Cs,Mn(e,0),Yt(e,r),Be(e,pe()),n;if(t===6)Yt(e,r);else{if(s=e.current.alternate,!(r&30)&&!lv(s)&&(t=sa(e,r),t===2&&(a=Xo(e),a!==0&&(r=a,t=Nl(e,a))),t===1))throw n=Cs,Mn(e,0),Yt(e,r),Be(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:bn(e,Fe,Ct);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=Oc+500-pe(),10<t)){if(zi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=il(bn.bind(null,e,Fe,Ct),t);break}bn(e,Fe,Ct);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ft(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ov(r/1960))-r,10<r){e.timeoutHandle=il(bn.bind(null,e,Fe,Ct),r);break}bn(e,Fe,Ct);break;case 5:bn(e,Fe,Ct);break;default:throw Error(M(329))}}}return Be(e,pe()),e.callbackNode===n?Np.bind(null,e):null}function Nl(e,t){var n=ss;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=sa(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&Pl(t)),e}function Pl(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function lv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!pt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Lc,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function Ld(e){if(K&6)throw Error(M(327));mr();var t=zi(e,0);if(!(t&1))return Be(e,pe()),null;var n=sa(e,t);if(e.tag!==0&&n===2){var r=Xo(e);r!==0&&(t=r,n=Nl(e,r))}if(n===1)throw n=Cs,Mn(e,0),Yt(e,t),Be(e,pe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,Fe,Ct),Be(e,pe()),null}function Fc(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(br=pe()+500,ka&&mn())}}function Fn(e){Gt!==null&&Gt.tag===0&&!(K&6)&&mr();var t=K;K|=1;var n=rt.transition,r=X;try{if(rt.transition=null,X=1,e)return e()}finally{X=r,rt.transition=n,K=t,!(K&6)&&mn()}}function Ic(){He=rr.current,ne(rr)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Iy(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(yc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ki();break;case 3:vr(),ne(Ve),ne(_e),Cc();break;case 5:Pc(r);break;case 4:vr();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:jc(r.type._context);break;case 22:case 23:Ic()}n=n.return}if(be=e,ge=e=an(e.current,null),Se=He=t,ve=0,Cs=null,Lc=Ca=On=0,Fe=ss=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Pn=null}return e}function Pp(e,t){do{var n=ge;try{if(bc(),Ni.current=ea,Zi){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zi=!1}if(Ln=0,we=ye=ce=null,ns=!1,Ss=0,Ac.current=null,n===null||n.return===null){ve=1,Cs=t,ge=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=jd(o);if(g!==null){g.flags&=-257,kd(g,o,l,a,t),g.mode&1&&bd(a,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){bd(a,u,t),Vc();break e}c=Error(M(426))}}else if(ie&&l.mode&1){var k=jd(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),kd(k,o,l,a,t),vc(wr(c,l));break e}}a=c=wr(c,l),ve!==4&&(ve=2),ss===null?ss=[a]:ss.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=cp(a,c,t);pd(a,m);break e;case 1:l=c;var p=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(rn===null||!rn.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=up(a,l,t);pd(a,j);break e}}a=a.return}while(a!==null)}Mp(n)}catch(b){t=b,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function Cp(){var e=ta.current;return ta.current=ea,e===null?ea:e}function Vc(){(ve===0||ve===3||ve===2)&&(ve=4),be===null||!(On&268435455)&&!(Ca&268435455)||Yt(be,Se)}function sa(e,t){var n=K;K|=2;var r=Cp();(be!==e||Se!==t)&&(Ct=null,Mn(e,t));do try{cv();break}catch(s){Pp(e,s)}while(!0);if(bc(),K=n,ta.current=r,ge!==null)throw Error(M(261));return be=null,Se=0,ve}function cv(){for(;ge!==null;)Tp(ge)}function uv(){for(;ge!==null&&!Lx();)Tp(ge)}function Tp(e){var t=_p(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?Mp(e):ge=t,Ac.current=null}function Mp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rv(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,ge=null;return}}else if(n=nv(n,t,He),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);ve===0&&(ve=5)}function bn(e,t,n){var r=X,s=rt.transition;try{rt.transition=null,X=1,dv(e,t,n,r)}finally{rt.transition=s,X=r}return null}function dv(e,t,n,r){do mr();while(Gt!==null);if(K&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Kx(e,a),e===be&&(ge=be=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fi||(fi=!0,Dp(Vi,function(){return mr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=rt.transition,rt.transition=null;var o=X;X=1;var l=K;K|=4,Ac.current=null,iv(e,n),kp(n,e),_y(rl),Bi=!!nl,rl=nl=null,e.current=n,av(n),Ox(),K=l,X=o,rt.transition=a}else e.current=n;if(fi&&(fi=!1,Gt=e,ra=s),a=e.pendingLanes,a===0&&(rn=null),Vx(n.stateNode),Be(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(na)throw na=!1,e=kl,kl=null,e;return ra&1&&e.tag!==0&&mr(),a=e.pendingLanes,a&1?e===Sl?is++:(is=0,Sl=e):is=0,mn(),null}function mr(){if(Gt!==null){var e=cm(ra),t=rt.transition,n=X;try{if(rt.transition=null,X=16>e?16:e,Gt===null)var r=!1;else{if(e=Gt,Gt=null,ra=0,K&6)throw Error(M(331));var s=K;for(K|=4,A=e.current;A!==null;){var a=A,o=a.child;if(A.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(A=u;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 15:rs(8,h,a)}var d=h.child;if(d!==null)d.return=h,A=d;else for(;A!==null;){h=A;var f=h.sibling,g=h.return;if(wp(h),h===u){A=null;break}if(f!==null){f.return=g,A=f;break}A=g}}}var x=a.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}A=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,A=o;else e:for(;A!==null;){if(a=A,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rs(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,A=m;break e}A=a.return}}var p=e.current;for(A=p;A!==null;){o=A;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,A=w;else e:for(o=p;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pa(9,l)}}catch(b){he(l,l.return,b)}if(l===o){A=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,A=j;break e}A=l.return}}if(K=s,mn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ya,e)}catch{}r=!0}return r}finally{X=n,rt.transition=t}}return!1}function Od(e,t,n){t=wr(n,t),t=cp(e,t,1),e=nn(e,t,1),t=Re(),e!==null&&(Vs(e,1,t),Be(e,t))}function he(e,t,n){if(e.tag===3)Od(e,e,n);else for(;t!==null;){if(t.tag===3){Od(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rn===null||!rn.has(r))){e=wr(n,e),e=up(t,e,1),t=nn(t,e,1),e=Re(),t!==null&&(Vs(t,1,e),Be(t,e));break}}t=t.return}}function hv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(Se&n)===n&&(ve===4||ve===3&&(Se&130023424)===Se&&500>pe()-Oc?Mn(e,0):Lc|=n),Be(e,t)}function Ep(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var n=Re();e=Ot(e,t),e!==null&&(Vs(e,t,n),Be(e,n))}function fv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ep(e,n)}function mv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Ep(e,n)}var _p;_p=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,tv(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,ie&&t.flags&1048576&&Lm(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ci(e,t),e=t.pendingProps;var s=gr(t,_e.current);fr(t,n),s=Mc(null,t,r,e,s,n);var a=Ec();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(a=!0,Wi(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sc(t),s.updater=Na,t.stateNode=s,s._reactInternals=t,hl(t,r,e,n),t=pl(null,t,r,!0,a,n)):(t.tag=0,ie&&a&&xc(t),De(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ci(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=gv(r),e=ut(r,e),s){case 0:t=ml(null,t,r,e,n);break e;case 1:t=Pd(null,t,r,e,n);break e;case 11:t=Sd(null,t,r,e,n);break e;case 14:t=Nd(null,t,r,ut(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ut(r,s),ml(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ut(r,s),Pd(e,t,r,s,n);case 3:e:{if(mp(t),e===null)throw Error(M(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Bm(e,t),Xi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=wr(Error(M(423)),t),t=Cd(e,t,r,n,s);break e}else if(r!==s){s=wr(Error(M(424)),t),t=Cd(e,t,r,n,s);break e}else for(Ke=tn(t.stateNode.containerInfo.firstChild),We=t,ie=!0,ht=null,n=Vm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===s){t=Ft(e,t,n);break e}De(e,t,r,n)}t=t.child}return t;case 5:return Um(t),e===null&&cl(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,sl(r,s)?o=null:a!==null&&sl(r,a)&&(t.flags|=32),fp(e,t),De(e,t,o,n),t.child;case 6:return e===null&&cl(t),null;case 13:return pp(e,t,n);case 4:return Nc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yr(t,null,r,n):De(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ut(r,s),Sd(e,t,r,s,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Z(Gi,r._currentValue),r._currentValue=o,a!==null)if(pt(a.value,o)){if(a.children===s.children&&!Ve.current){t=Ft(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=_t(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ul(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(M(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ul(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}De(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fr(t,n),s=st(s),r=r(s),t.flags|=1,De(e,t,r,n),t.child;case 14:return r=t.type,s=ut(r,t.pendingProps),s=ut(r.type,s),Nd(e,t,r,s,n);case 15:return dp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ut(r,s),Ci(e,t),t.tag=1,ze(r)?(e=!0,Wi(t)):e=!1,fr(t,n),lp(t,r,s),hl(t,r,s,n),pl(null,t,r,!0,e,n);case 19:return gp(e,t,n);case 22:return hp(e,t,n)}throw Error(M(156,t.tag))};function Dp(e,t){return im(e,t)}function pv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,r){return new pv(e,t,n,r)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gv(e){if(typeof e=="function")return zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ic)return 11;if(e===ac)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ei(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")zc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yn:return En(n.children,s,a,t);case sc:o=8,s|=8;break;case Oo:return e=nt(12,n,t,s|2),e.elementType=Oo,e.lanes=a,e;case Fo:return e=nt(13,n,t,s),e.elementType=Fo,e.lanes=a,e;case Io:return e=nt(19,n,t,s),e.elementType=Io,e.lanes=a,e;case Uf:return Ta(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zf:o=10;break e;case Bf:o=9;break e;case ic:o=11;break e;case ac:o=14;break e;case $t:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=nt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function En(e,t,n,r){return e=nt(7,e,r,t),e.lanes=n,e}function Ta(e,t,n,r){return e=nt(22,e,r,t),e.elementType=Uf,e.lanes=n,e.stateNode={isHidden:!1},e}function go(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function xo(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,a,o,l,c){return e=new xv(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=nt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(a),e}function yv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rp(e){if(!e)return cn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(ze(n))return Rm(e,n,t)}return t}function Ap(e,t,n,r,s,a,o,l,c){return e=Bc(n,r,!0,e,s,a,o,l,c),e.context=Rp(null),n=e.current,r=Re(),s=sn(n),a=_t(r,s),a.callback=t??null,nn(n,a,s),e.current.lanes=s,Vs(e,s,r),Be(e,r),e}function Ma(e,t,n,r){var s=t.current,a=Re(),o=sn(s);return n=Rp(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nn(s,t,o),e!==null&&(mt(e,s,o,a),Si(e,s,o)),o}function ia(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uc(e,t){Fd(e,t),(e=e.alternate)&&Fd(e,t)}function vv(){return null}var Lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}Ea.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Ma(e,t,null,null)};Ea.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){Ma(null,e,null,null)}),t[Lt]=null}};function Ea(e){this._internalRoot=e}Ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=hm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&mm(e)}};function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Id(){}function wv(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=ia(o);a.call(u)}}var o=Ap(t,r,e,0,null,!1,!1,"",Id);return e._reactRootContainer=o,e[Lt]=o.current,vs(e.nodeType===8?e.parentNode:e),Fn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ia(c);l.call(u)}}var c=Bc(e,0,!1,null,null,!1,!1,"",Id);return e._reactRootContainer=c,e[Lt]=c.current,vs(e.nodeType===8?e.parentNode:e),Fn(function(){Ma(t,c,n,r)}),c}function Da(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=ia(o);l.call(c)}}Ma(t,o,e,s)}else o=wv(n,t,e,s,r);return ia(o)}um=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wr(t.pendingLanes);n!==0&&(cc(t,n|1),Be(t,pe()),!(K&6)&&(br=pe()+500,mn()))}break;case 13:Fn(function(){var r=Ot(e,1);if(r!==null){var s=Re();mt(r,e,1,s)}}),Uc(e,1)}};uc=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var n=Re();mt(t,e,134217728,n)}Uc(e,134217728)}};dm=function(e){if(e.tag===13){var t=sn(e),n=Ot(e,t);if(n!==null){var r=Re();mt(n,e,t,r)}Uc(e,t)}};hm=function(){return X};fm=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};qo=function(e,t,n){switch(t){case"input":if(Bo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ja(r);if(!s)throw Error(M(90));Hf(r),Bo(r,s)}}}break;case"textarea":Wf(e,n);break;case"select":t=n.value,t!=null&&cr(e,!!n.multiple,t,!1)}};Zf=Fc;em=Fn;var bv={usingClientEntryPoint:!1,Events:[Bs,Xn,ja,Xf,Jf,Fc]},zr={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jv={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rm(e),e===null?null:e.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||vv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{ya=mi.inject(jv),jt=mi}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(t))throw Error(M(200));return yv(e,t,null,n)};Qe.createRoot=function(e,t){if(!Hc(e))throw Error(M(299));var n=!1,r="",s=Lp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,null,n,!1,r,s),e[Lt]=t.current,vs(e.nodeType===8?e.parentNode:e),new $c(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=rm(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return Fn(e)};Qe.hydrate=function(e,t,n){if(!_a(t))throw Error(M(200));return Da(null,e,t,!0,n)};Qe.hydrateRoot=function(e,t,n){if(!Hc(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=Lp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ap(t,null,e,1,n??null,s,!1,a,o),e[Lt]=t.current,vs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ea(t)};Qe.render=function(e,t,n){if(!_a(t))throw Error(M(200));return Da(null,e,t,!1,n)};Qe.unmountComponentAtNode=function(e){if(!_a(e))throw Error(M(40));return e._reactRootContainer?(Fn(function(){Da(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Fc;Qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_a(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Da(e,t,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function Op(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Op)}catch(e){console.error(e)}}Op(),Of.exports=Qe;var kv=Of.exports,Fp,Vd=kv;Fp=Vd.createRoot,Vd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ts.apply(this,arguments)}var Qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qt||(Qt={}));const zd="popstate";function Sv(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return Cl("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:aa(s)}return Pv(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ip(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nv(){return Math.random().toString(36).substr(2,8)}function Bd(e,t){return{usr:e.state,key:e.key,idx:t}}function Cl(e,t,n,r){return n===void 0&&(n=null),Ts({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:n,key:t&&t.key||r||Nv()})}function aa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Pv(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Qt.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Ts({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){l=Qt.Pop;let k=h(),m=k==null?null:k-u;u=k,c&&c({action:l,location:y.location,delta:m})}function f(k,m){l=Qt.Push;let p=Cl(y.location,k,m);u=h()+1;let w=Bd(p,u),j=y.createHref(p);try{o.pushState(w,"",j)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(j)}a&&c&&c({action:l,location:y.location,delta:1})}function g(k,m){l=Qt.Replace;let p=Cl(y.location,k,m);u=h();let w=Bd(p,u),j=y.createHref(p);o.replaceState(w,"",j),a&&c&&c({action:l,location:y.location,delta:0})}function x(k){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof k=="string"?k:aa(k);return p=p.replace(/ $/,"%20"),xe(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zd,d),c=k,()=>{s.removeEventListener(zd,d),c=null}},createHref(k){return t(s,k)},createURL:x,encodeLocation(k){let m=x(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(k){return o.go(k)}};return y}var Ud;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ud||(Ud={}));function Cv(e,t,n){return n===void 0&&(n="/"),Tv(e,t,n,!1)}function Tv(e,t,n,r){let s=typeof t=="string"?Er(t):t,a=Kc(s.pathname||"/",n);if(a==null)return null;let o=Vp(e);Mv(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=zv(a);l=Iv(o[c],u,r)}return l}function Vp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=on([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(xe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vp(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Ov(u,a.index),routesMeta:h})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of zp(a.path))s(a,o,c)}),t}function zp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=zp(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Mv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Fv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ev=/^:[\w-]+$/,_v=3,Dv=2,Rv=1,Av=10,Lv=-2,$d=e=>e==="*";function Ov(e,t){let n=e.split("/"),r=n.length;return n.some($d)&&(r+=Lv),t&&(r+=Dv),n.filter(s=>!$d(s)).reduce((s,a)=>s+(Ev.test(a)?_v:a===""?Rv:Av),r)}function Fv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Iv(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=Hd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Hd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:on([a,d.pathname]),pathnameBase:Hv(on([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=on([a,d.pathnameBase]))}return o}function Hd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Vv(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let y=l[d]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[d];return g&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Vv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ip(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function zv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ip(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Bv(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Er(e):e;return{pathname:n?n.startsWith("/")?n:Uv(n,t):t,search:Kv(r),hash:Wv(s)}}function Uv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $v(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bp(e,t){let n=$v(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Up(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Er(e):(s=Ts({},e),xe(!s.pathname||!s.pathname.includes("?"),yo("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),yo("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),yo("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=Bv(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const on=e=>e.join("/").replace(/\/\/+/g,"/"),Hv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $p=["post","put","patch","delete"];new Set($p);const qv=["get",...$p];new Set(qv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(this,arguments)}const Wc=v.createContext(null),Gv=v.createContext(null),Bn=v.createContext(null),Ra=v.createContext(null),pn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Hp=v.createContext(null);function Qv(e,t){let{relative:n}=t===void 0?{}:t;$s()||xe(!1);let{basename:r,navigator:s}=v.useContext(Bn),{hash:a,pathname:o,search:l}=Wp(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:on([r,o])),s.createHref({pathname:c,search:l,hash:a})}function $s(){return v.useContext(Ra)!=null}function Hs(){return $s()||xe(!1),v.useContext(Ra).location}function Kp(e){v.useContext(Bn).static||v.useLayoutEffect(e)}function Aa(){let{isDataRoute:e}=v.useContext(pn);return e?u1():Xv()}function Xv(){$s()||xe(!1);let e=v.useContext(Wc),{basename:t,future:n,navigator:r}=v.useContext(Bn),{matches:s}=v.useContext(pn),{pathname:a}=Hs(),o=JSON.stringify(Bp(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return Kp(()=>{l.current=!0}),v.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=Up(u,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:on([t,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[t,r,o,a,e])}function Jv(){let{matches:e}=v.useContext(pn),t=e[e.length-1];return t?t.params:{}}function Wp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(Bn),{matches:s}=v.useContext(pn),{pathname:a}=Hs(),o=JSON.stringify(Bp(s,r.v7_relativeSplatPath));return v.useMemo(()=>Up(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function Zv(e,t){return e1(e,t)}function e1(e,t,n,r){$s()||xe(!1);let{navigator:s}=v.useContext(Bn),{matches:a}=v.useContext(pn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Hs(),h;if(t){var d;let k=typeof t=="string"?Er(t):t;c==="/"||(d=k.pathname)!=null&&d.startsWith(c)||xe(!1),h=k}else h=u;let f=h.pathname||"/",g=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Cv(e,{pathname:g}),y=i1(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:on([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:on([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return t&&y?v.createElement(Ra.Provider,{value:{location:Ms({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qt.Pop}},y):y}function t1(){let e=c1(),t=Yv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const n1=v.createElement(t1,null);class r1 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(pn.Provider,{value:this.props.routeContext},v.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s1(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Wc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(pn.Provider,{value:t},r)}function i1(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||xe(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:g}=n,x=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let g,x=!1,y=null,k=null;n&&(g=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||n1,c&&(u<0&&f===0?(x=!0,k=null):u===f&&(x=!0,k=d.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let w;return g?w=y:x?w=k:d.route.Component?w=v.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,v.createElement(s1,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(r1,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Yp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yp||{}),oa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oa||{});function a1(e){let t=v.useContext(Wc);return t||xe(!1),t}function o1(e){let t=v.useContext(Gv);return t||xe(!1),t}function l1(e){let t=v.useContext(pn);return t||xe(!1),t}function qp(e){let t=l1(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function c1(){var e;let t=v.useContext(Hp),n=o1(oa.UseRouteError),r=qp(oa.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function u1(){let{router:e}=a1(Yp.UseNavigateStable),t=qp(oa.UseNavigateStable),n=v.useRef(!1);return Kp(()=>{n.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ms({fromRouteId:t},a)))},[e,t])}function d1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ue(e){xe(!1)}function h1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Qt.Pop,navigator:a,static:o=!1,future:l}=e;$s()&&xe(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:Ms({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Er(r));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:x="default"}=r,y=v.useMemo(()=>{let k=Kc(h,c);return k==null?null:{location:{pathname:k,search:d,hash:f,state:g,key:x},navigationType:s}},[c,h,d,f,g,x,s]);return y==null?null:v.createElement(Bn.Provider,{value:u},v.createElement(Ra.Provider,{children:n,value:y}))}function f1(e){let{children:t,location:n}=e;return Zv(Tl(t),n)}new Promise(()=>{});function Tl(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let a=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Tl(r.props.children,a));return}r.type!==Ue&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Tl(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ml.apply(this,arguments)}function m1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function p1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g1(e,t){return e.button===0&&(!t||t==="_self")&&!p1(e)}const x1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y1="6";try{window.__reactRouterVersion=y1}catch{}const v1="startTransition",Kd=hx[v1];function w1(e){let{basename:t,children:n,future:r,window:s}=e,a=v.useRef();a.current==null&&(a.current=Sv({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=v.useCallback(d=>{u&&Kd?Kd(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.useEffect(()=>d1(r),[r]),v.createElement(h1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k1=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,f=m1(t,x1),{basename:g}=v.useContext(Bn),x,y=!1;if(typeof u=="string"&&j1.test(u)&&(x=u,b1))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),b=Kc(j.pathname,g);j.origin===w.origin&&b!=null?u=b+j.search+j.hash:y=!0}catch{}let k=Qv(u,{relative:s}),m=S1(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:d});function p(w){r&&r(w),w.defaultPrevented||m(w)}return v.createElement("a",Ml({},f,{href:x||k,onClick:y||a?r:p,ref:n,target:c}))});var Wd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wd||(Wd={}));var Yd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yd||(Yd={}));function S1(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Aa(),u=Hs(),h=Wp(e,{relative:o});return v.useCallback(d=>{if(g1(d,n)){d.preventDefault();let f=r!==void 0?r:aa(u)===aa(h);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,h,r,s,n,e,a,o,l])}class N1{constructor(){this.baseUrl=`http://${window.location.hostname}:8083`}async makeAuthenticatedRequest(t,n={}){const r=localStorage.getItem("katamaster_token");if(!r)throw new Error("No authentication token available");const s={...n.headers,Authorization:`Bearer ${r}`},a=await fetch(t,{...n,headers:s});if(a.status===401){const o=localStorage.getItem("katamaster_refresh_token");if(o)try{const l=await fetch(`${this.baseUrl}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:o})});if(l.ok){const c=await l.json();return localStorage.setItem("katamaster_token",c.token),c.refresh_token&&localStorage.setItem("katamaster_refresh_token",c.refresh_token),fetch(t,{...n,headers:{...n.headers,Authorization:`Bearer ${c.token}`}})}}catch(l){throw console.error("Token refresh failed:",l),localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),new Error("Authentication failed - please sign in again")}throw localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),new Error("Authentication failed - please sign in again")}return a}async recordPracticeSession(t){try{const n=await fetch(`${this.baseUrl}/api/practice/record`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kata_id:t.kataId,user_id:t.userId,repetitions:t.repetitions,notes:t.notes,duration_minutes:t.durationMinutes,date:new Date().toISOString(),self_rating:8,focus_areas:["form","timing"]})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to record practice session:",n),n}}async getKatas(){try{const t=await fetch(`${this.baseUrl}/api/katas`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Failed to fetch katas:",t),t}}async getKataDetail(t){try{const n=await fetch(`${this.baseUrl}/api/katas/${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to fetch kata detail:",n),n}}async getUserProgress(t){try{const n=await fetch(`${this.baseUrl}/api/users/${t}/progress`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to fetch user progress:",n),n}}async recordComprehensivePracticeSession(t){try{const n=await fetch(`${this.baseUrl}/api/practice/session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,session_date:t.sessionDate,duration_minutes:t.durationMinutes,punches:t.punches,kicks:t.kicks,katas:t.katas.map(r=>({name:r.name,repetitions:r.repetitions})),techniques:t.techniques.map(r=>({technique_id:r.techniqueId,count:r.count})),notes:t.notes,points_earned:t.pointsEarned})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to record comprehensive practice session:",n),n}}async getPointsAudit(t,n,r){try{let s=`${this.baseUrl}/api/users/${t}/points/audit`;const a=new URLSearchParams;n&&a.append("start_date",n),r&&a.append("end_date",r),a.toString()&&(s+=`?${a.toString()}`);const o=await fetch(s);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(s){return console.error("Failed to fetch points audit:",s),{user_id:t,audit_entries:[],total_points:0}}}async getCalendarData(t,n,r){try{let s=`${this.baseUrl}/api/users/${t}/calendar`;const a=new URLSearchParams;n&&a.append("year",n),r&&a.append("month",r),a.toString()&&(s+=`?${a.toString()}`);const o=await fetch(s);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(s){return console.error("Failed to fetch calendar data:",s),{user_id:t,calendar_data:[],total_days:0}}}async getPracticeHistory(t,n=1,r=10,s){try{let a=`${this.baseUrl}/api/users/${t}/practice/history`;const o=new URLSearchParams;o.append("page",n.toString()),o.append("limit",r.toString()),s&&o.append("date",s),a+=`?${o.toString()}`;const l=await fetch(a);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()}catch(a){return console.error("Failed to fetch practice history:",a),{user_id:t,practice_history:[],total_sessions:0}}}async signInWithGoogle(t){try{const n=await fetch(`${this.baseUrl}/api/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to sign in with Google:",n),n}}async signIn(t){try{const n=await fetch(`${this.baseUrl}/api/auth/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to sign in:",n),n}}async signUp(t){try{const n=await fetch(`${this.baseUrl}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to sign up:",n),n}}async validateSession(t){try{const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/auth/validate`,{method:"GET"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to validate session:",n),null}}async signOut(t){try{const n=await fetch(`${this.baseUrl}/api/auth/signout`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to sign out:",n),n}}async getAvailableMoves(t){try{let n=`${this.baseUrl}/api/movement/moves`;t&&(n+=`?type=${t}`);const r=await fetch(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(n){throw console.error("Failed to fetch available moves:",n),n}}async addCombination(t){try{console.log("📤 Sending combination to API:",t);const n=await fetch(`${this.baseUrl}/api/movement/combinations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("📡 API Response status:",n.status),!n.ok){const s=await n.text();throw console.error("❌ API Error response:",s),new Error(`HTTP error! status: ${n.status}, response: ${s}`)}const r=await n.json();return console.log("✅ API Response data:",r),r}catch(n){throw console.error("❌ Failed to add combination:",n),n}}async getCombinations(t){try{console.log("📡 Fetching combinations for user:",t),console.log("🌐 API URL:",`${this.baseUrl}/api/movement/combinations?user_id=${t}`);const n=await fetch(`${this.baseUrl}/api/movement/combinations?user_id=${t}`);if(console.log("📊 Response status:",n.status),!n.ok){const s=await n.text();throw console.error("❌ Error response:",s),new Error(`HTTP error! status: ${n.status}, response: ${s}`)}const r=await n.json();return console.log("✅ Combinations fetched:",r),r}catch(n){throw console.error("❌ Failed to fetch combinations:",n),n}}async createMovementSession(t){try{const n=await fetch(`${this.baseUrl}/api/movement/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to create movement session:",n),n}}async endMovementSession(t,n){try{const r=await fetch(`${this.baseUrl}/api/movement/sessions/${t}/end`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:n})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Failed to end movement session:",r),r}}async getMovementSessions(t){try{const n=await fetch(`${this.baseUrl}/api/movement/sessions?user_id=${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to fetch movement sessions:",n),n}}async getMoveCounters(t){try{const n=await fetch(`${this.baseUrl}/api/movement/counters?user_id=${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to fetch move counters:",n),n}}async updateMoveCounter(t){try{const n=await fetch(`${this.baseUrl}/api/movement/counters`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to update move counter:",n),n}}async getDashboardAnalytics(t){try{const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/users/${t}/dashboard/analytics`,{method:"GET"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Failed to fetch dashboard analytics:",n),null}}async getRecentActivity(t,n=10){try{const r=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/users/${t}/recent-activity?limit=${n}`,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){return console.error("Failed to fetch recent activity:",r),null}}async getKataProgress(t,n){try{const r=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/kata/progress?user_id=${t}&kata_id=${n}`,{method:"GET"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){return console.error("Failed to fetch kata progress:",r),null}}async recordKataPractice(t){try{const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/kata/practice`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kata_id:t.kataId,user_id:t.userId,repetitions:t.repetitions,notes:t.notes,duration_minutes:t.durationMinutes,date:new Date().toISOString(),self_rating:t.selfRating||7.5,focus_areas:t.focusAreas||["form","timing"],instructor_feedback:t.instructorFeedback||"",instructor_verified:t.instructorVerified||!1})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Failed to record kata practice:",n),n}}}const ae=new N1;var P1={};const Gp=v.createContext(void 0),C1=({children:e})=>{const[t,n]=v.useState(null),[r,s]=v.useState(!0);v.useEffect(()=>{a()},[]);const a=async()=>{try{const d=localStorage.getItem("katamaster_token");if(console.log("Checking existing session, token exists:",!!d),d){const f=await ae.validateSession(d);console.log("Session validation response:",f),f?(n(f),console.log("User set from existing session:",f.email)):(console.log("Invalid session, removing token"),localStorage.removeItem("katamaster_token"))}else console.log("No existing token found")}catch(d){console.error("Session validation failed:",d),localStorage.removeItem("katamaster_token")}finally{s(!1)}},h={user:t,loading:r,signInWithGoogle:async()=>{s(!0);try{if(!window.google)throw new Error("Google OAuth not loaded");const d=await new Promise((x,y)=>{window.google.accounts.oauth2.initTokenClient({client_id:P1.REACT_APP_GOOGLE_CLIENT_ID||"",scope:"email profile",callback:k=>{k.error?y(new Error(k.error)):x(k)}}).requestAccessToken()}),f=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${d.access_token}`}}).then(x=>x.json()),g=await ae.signInWithGoogle({googleToken:d.access_token,userInfo:{id:f.id,email:f.email,name:f.name,picture:f.picture}});localStorage.setItem("katamaster_token",g.token),g.refresh_token&&localStorage.setItem("katamaster_refresh_token",g.refresh_token),n({id:g.user.id,email:g.user.email,name:g.user.name,avatar:g.user.avatar,provider:"google"})}catch(d){throw console.error("Google sign in failed:",d),d}finally{s(!1)}},signInWithEmail:async(d,f,g=!1)=>{var x;s(!0);try{console.log(`Attempting ${g?"signup":"signin"} for:`,d);const y=g?await ae.signUp({email:d,password:f}):await ae.signIn({email:d,password:f});if(console.log("Auth response received:",{hasToken:!!y.token,userId:(x=y.user)==null?void 0:x.id}),!y.token||!y.user)throw new Error("Invalid response from server");localStorage.setItem("katamaster_token",y.token),y.refresh_token&&localStorage.setItem("katamaster_refresh_token",y.refresh_token),n({id:y.user.id,email:y.user.email,name:y.user.name||d.split("@")[0],provider:"email"}),console.log("User signed in successfully:",y.user.email)}catch(y){if(console.error("Email sign in failed:",y),y instanceof Error){if(y.message.includes("404"))throw new Error("Invalid email or password");if(y.message.includes("401"))throw new Error("Invalid email or password");if(y.message.includes("Failed to fetch"))throw new Error("Unable to connect to server. Please check your internet connection.")}throw y}finally{s(!1)}},signOut:async()=>{s(!0);try{const d=localStorage.getItem("katamaster_token");d&&await ae.signOut(d)}catch(d){console.error("Sign out error:",d)}finally{localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),n(null),s(!1)}},refreshToken:async()=>{try{const d=localStorage.getItem("katamaster_refresh_token");if(!d)return console.log("No refresh token available"),!1;const f=await fetch("/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:d})});if(!f.ok)return console.log("Token refresh failed:",f.status),localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),n(null),!1;const g=await f.json();return localStorage.setItem("katamaster_token",g.token),g.refresh_token&&localStorage.setItem("katamaster_refresh_token",g.refresh_token),console.log("Token refreshed successfully"),!0}catch(d){return console.error("Token refresh error:",d),localStorage.removeItem("katamaster_token"),localStorage.removeItem("katamaster_refresh_token"),n(null),!1}},isAuthenticated:!!t};return i.jsx(Gp.Provider,{value:h,children:e})},Pt=()=>{const e=v.useContext(Gp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Xt={child:{name:"Emma",totalPoints:285,currentStreak:4,totalPunches:1250,totalKicks:980,totalSessions:23,favoriteKata:"Heian Shodan",avatar:"ninja-girl"},rewards:[{id:1,name:"Ice Cream",points:50,earned:!0,approved:!1,icon:"ice-cream"},{id:2,name:"Pizza Night",points:150,earned:!0,approved:!0,icon:"pizza"},{id:3,name:"Movie Night",points:200,earned:!1,progress:.85,icon:"film"},{id:4,name:"New Toy",points:100,earned:!1,progress:.6,icon:"toy"},{id:5,name:"Special Activity",points:120,earned:!1,progress:.25,icon:"activity"}],recentSessions:[{id:1,date:"2025-05-29",punches:45,kicks:32,duration:25,katas:["Heian Shodan x3","Heian Sandan x2"],pointsEarned:30},{id:2,date:"2025-05-28",punches:60,kicks:45,duration:30,katas:["Heian Nidan x4"],pointsEarned:35},{id:3,date:"2025-05-26",punches:50,kicks:38,duration:20,katas:["Heian Shodan x2","Heian Nidan x1"],pointsEarned:25},{id:4,date:"2025-05-25",punches:40,kicks:30,duration:15,katas:["Tekki Shodan x3"],pointsEarned:20}],kataList:["Heian Shodan","Heian Nidan","Heian Sandan","Heian Yondan","Heian Godan","Tekki Shodan","Tekki Nidan","Tekki Sandan","Bassai Dai","Kanku Dai","Jion","Jitte"],motivationalMessages:["Amazing job! Your karate skills are growing!","Wow! Look at those punches and kicks!","You're becoming a karate master!","Your sensei would be proud!","Keep it up, karate star!","You're on fire today!","Those were some awesome moves!","Your practice is paying off!"]},Qp=v.createContext(void 0),T1=({children:e})=>{const[t,n]=v.useState(!1),[r,s]=v.useState(Xt.child.name),[a,o]=v.useState(Xt.child.avatar),l=()=>{n(!t)};return i.jsx(Qp.Provider,{value:{isParentMode:t,toggleUserMode:l,childName:r,childAvatar:a,setChildName:s,setChildAvatar:o},children:e})},gn=()=>{const e=v.useContext(Qp);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},M1=[{id:"punch",label:"Punches",icon:"👊"},{id:"kick",label:"Kicks",icon:"🦶"},{id:"stance",label:"Stances",icon:"🧍"},{id:"block",label:"Blocks",icon:"🛡️"}],Xp=[{id:"oi-tsuki",name:"Stepping Punch",japaneseName:"Oi-tsuki",category:"punch",points:2},{id:"gyaku-tsuki",name:"Reverse Punch",japaneseName:"Gyaku-tsuki",category:"punch",points:3},{id:"kagi-tsuki",name:"Hook Punch",japaneseName:"Kagi-tsuki",category:"punch",points:4},{id:"mae-geri",name:"Front Kick",japaneseName:"Mae-geri",category:"kick",points:3},{id:"yoko-geri",name:"Side Kick",japaneseName:"Yoko-geri",category:"kick",points:4},{id:"mawashi-geri",name:"Roundhouse Kick",japaneseName:"Mawashi-geri",category:"kick",points:4},{id:"zenkutsu-dachi",name:"Front Stance",japaneseName:"Zenkutsu-dachi",category:"stance",points:2},{id:"kokutsu-dachi",name:"Back Stance",japaneseName:"Kokutsu-dachi",category:"stance",points:3},{id:"kiba-dachi",name:"Horse Stance",japaneseName:"Kiba-dachi",category:"stance",points:3},{id:"age-uke",name:"Rising Block",japaneseName:"Age-uke",category:"block",points:2},{id:"soto-uke",name:"Outside Block",japaneseName:"Soto-uke",category:"block",points:2},{id:"uchi-uke",name:"Inside Block",japaneseName:"Uchi-uke",category:"block",points:2}],Jp=v.createContext(void 0),E1=({children:e})=>{const{user:t}=Pt(),[n,r]=v.useState(0),[s,a]=v.useState(0),[o,l]=v.useState([]),[c,u]=v.useState(0),[h,d]=v.useState(!1),[f,g]=v.useState(null),[x,y]=v.useState([]),[k,m]=v.useState(0),[p,w]=v.useState(0),[j,b]=v.useState(0),[N,C]=v.useState(0),[S,T]=v.useState(0),[P,R]=v.useState("Heian Shodan"),[F,$]=v.useState([]),[H,fe]=v.useState([]),[xt,J]=v.useState([]);v.useEffect(()=>()=>{f&&clearInterval(f)},[f]),v.useEffect(()=>{(async()=>{try{console.log("Loading katas from API...");const q=await ae.getKatas();if(console.log("Katas API response:",q),q&&q.katas&&Array.isArray(q.katas)&&q.katas.length>0){const G=q.katas.map(Y=>Y.name);console.log("Extracted kata names:",G),fe(G),J(q.katas)}else console.warn("Empty or invalid katas data, using fallback:",q),fe(Xt.kataList),J(Xt.kataList.map((G,Y)=>({id:Y+1,name:G,description:`Traditional karate kata: ${G}`,difficulty:Y<2?"Beginner":"Intermediate"})));if(t!=null&&t.id)try{console.log("Loading user progress for:",t.id);const G=await ae.getUserProgress(t.id);console.log("User stats response:",G),m(G.total_points||0),w(G.current_streak||0),b(G.total_punches||0),C(G.total_kicks||0),T(G.total_sessions||0),R(G.favorite_kata||"Heian Shodan"),console.log("Loading practice history...");const Y=await ae.getPracticeHistory(t.id,1,10);if(console.log("Practice history response:",Y),Y&&Y.practice_history&&Array.isArray(Y.practice_history)){const yn=Y.practice_history.map((ot,Ha)=>{var Qs;return{id:Ha+1,date:ot.date,punches:ot.punches||0,kicks:ot.kicks||0,duration:ot.duration_minutes||0,katas:((Qs=ot.katas)==null?void 0:Qs.map(se=>`${se.name} x${se.repetitions}`))||[],pointsEarned:ot.points_earned||0,techniques:ot.techniques||[]}});$(yn)}}catch(G){console.error("Failed to load user-specific data:",G)}}catch(q){console.error("Failed to load real data, using fallback:",q),fe(Xt.kataList),J(Xt.kataList.map((G,Y)=>({id:Y+1,name:G,description:`Traditional karate kata: ${G}`,difficulty:Y<2?"Beginner":"Intermediate"})))}})()},[t]);const E=()=>{r(z=>z+1)},_=()=>{a(z=>z+1)},O=z=>{y(q=>q.find(Y=>Y.techniqueId===z)?q.map(Y=>Y.techniqueId===z?{...Y,count:Y.count+1}:Y):[...q,{techniqueId:z,count:1,timestamp:new Date}])},W=z=>{var q;return((q=x.find(G=>G.techniqueId===z))==null?void 0:q.count)||0},ee=(z,q)=>{l(G=>[...G,{name:z,repetitions:q}])},D=()=>{d(!0);const z=setInterval(()=>{u(q=>q+1)},1e3);g(z)},U=async z=>{try{return(await ae.getUserProgress("user1")).current_streak||0}catch(q){console.error("Failed to get updated streak:",q);const G=F[0];if(!G)return 1;const Y=new Date(G.date);return new Date(z).getTime()-Y.getTime()>24*60*60*1e3?1:G.date!==z?p+1:p}},Oe=async()=>{f&&clearInterval(f),d(!1);const z=Math.floor(n/10),q=Math.floor(s/10),G=o.reduce((se,Xs)=>se+Xs.repetitions*5,0),Y=x.reduce((se,Xs)=>{const Eu=Xp.find(q0=>q0.id===Xs.techniqueId);return se+(Eu?Eu.points*Xs.count:0)},0),yn=10+z+q+G+Y,ot=new Date().toISOString().split("T")[0],Ha={id:Date.now(),date:ot,punches:n,kicks:s,duration:c,katas:o.map(se=>`${se.name} x${se.repetitions}`),pointsEarned:yn,techniques:x};try{await ae.recordComprehensivePracticeSession({userId:(t==null?void 0:t.id)||"guest",sessionDate:ot,durationMinutes:Math.floor(c/60),punches:n,kicks:s,katas:o,techniques:x.map(se=>({techniqueId:se.techniqueId,count:se.count})),notes:`Practice session: ${o.length} katas, ${n} punches, ${s} kicks, ${x.length} techniques`,pointsEarned:yn}),console.log("✅ Comprehensive practice session recorded to database")}catch(se){console.error("❌ Failed to record session to database:",se)}$(se=>[Ha,...se]),m(se=>se+yn),b(se=>se+n),C(se=>se+s),T(se=>se+1);const Qs=await U(ot);return w(Qs),yt(),yn},yt=()=>{r(0),a(0),l([]),y([]),u(0),d(!1),f&&clearInterval(f),g(null)},$n=async z=>{try{z.videoUrl&&(await ae.recordComprehensivePracticeSession({userId:(t==null?void 0:t.id)||"guest",sessionDate:typeof z.date=="string"?z.date:z.date.toISOString().split("T")[0],durationMinutes:Math.floor(z.duration/60),punches:z.punches||0,kicks:z.kicks||0,katas:z.katas.map(Y=>({name:Y,repetitions:z.repetitions||1})),techniques:z.techniques||[],notes:z.notes||`Video practice session: ${z.katas.join(", ")}`,pointsEarned:z.pointsEarned,focusAreas:z.focusAreas||[],selfRating:z.selfRating||0,videoUrl:z.videoUrl}),console.log("✅ Video practice session recorded to database")),$(Y=>[z,...Y]),m(Y=>Y+z.pointsEarned),T(Y=>Y+1);const q=typeof z.date=="string"?z.date:z.date.toISOString().split("T")[0],G=await U(q);w(G)}catch(q){throw console.error("❌ Failed to add session:",q),q}};return i.jsx(Jp.Provider,{value:{currentPunches:n,currentKicks:s,currentKatas:o,sessionTimer:c,isSessionActive:h,totalPoints:k,currentStreak:p,totalPunches:j,totalKicks:N,totalSessions:S,favoriteKata:P,recentSessions:F,kataList:H,kataObjects:xt,incrementPunches:E,incrementKicks:_,addKata:ee,startSession:D,endSession:Oe,resetCurrentSession:yt,incrementTechnique:O,getTechniqueCount:W,addSession:$n},children:e})},at=()=>{const e=v.useContext(Jp);if(e===void 0)throw new Error("usePractice must be used within a PracticeProvider");return e},Zp=v.createContext(void 0),_1=({children:e})=>{const[t,n]=v.useState(Xt.rewards),r=t.filter(d=>d.earned&&!d.approved),s=t.filter(d=>d.earned&&d.approved),a=t.filter(d=>!d.earned),o=d=>{n(f=>f.map(g=>g.id===d&&g.earned?{...g,approved:!1}:g))},l=d=>{n(f=>f.map(g=>g.id===d?{...g,approved:!0}:g))},c=d=>{n(f=>f.map(g=>g.id===d?{...g,earned:!1,approved:!1,progress:0}:g))},u=d=>{const f={...d,id:Date.now(),earned:!1,approved:!1,progress:0};n(g=>[...g,f])},h=d=>{n(f=>f.map(g=>{if(g.earned)return g;const x=g.progress||0,y=Math.min(x+d/g.points,1);return y>=1?{...g,earned:!0,progress:1}:{...g,progress:y}}))};return i.jsx(Zp.Provider,{value:{rewards:t,pendingRewards:r,approvedRewards:s,unearnedRewards:a,requestRewardApproval:o,approveReward:l,denyReward:c,addCustomReward:u,updateRewardProgress:h},children:e})},Ks=()=>{const e=v.useContext(Zp);if(e===void 0)throw new Error("useRewards must be used within a RewardsProvider");return e},eg=v.createContext(void 0),D1={stance:[{name:"forward_stance",display_name:"Forward Stance",description:"Zenkutsu-dachi - weight forward, strong attacking position"},{name:"back_stance",display_name:"Back Stance",description:"Kokutsu-dachi - weight back, defensive position"},{name:"horse_stance",display_name:"Horse Stance",description:"Kiba-dachi - wide stable stance for strength"},{name:"cat_stance",display_name:"Cat Stance",description:"Neko-ashi-dachi - light front foot, defensive"},{name:"fighting_stance",display_name:"Fighting Stance",description:"Kamae - ready position for combat"},{name:"natural_stance",display_name:"Natural Stance",description:"Shizen-tai - relaxed natural position"}],direction:[{name:"move_forward",display_name:"Move Forward",description:"Step forward maintaining stance"},{name:"move_backward",display_name:"Move Backward",description:"Step backward maintaining stance"},{name:"move_left",display_name:"Move Left",description:"Step to the left side"},{name:"move_right",display_name:"Move Right",description:"Step to the right side"},{name:"turn_left",display_name:"Turn Left",description:"Pivot 90 degrees to the left"},{name:"turn_right",display_name:"Turn Right",description:"Pivot 90 degrees to the right"},{name:"turn_180",display_name:"Turn Around",description:"Pivot 180 degrees"}],technique:[{name:"punch",display_name:"Punch",description:"Oi-zuki - basic straight punch"},{name:"reverse_punch",display_name:"Reverse Punch",description:"Gyaku-zuki - opposite hand punch"},{name:"front_kick",display_name:"Front Kick",description:"Mae-geri - kick straight forward"},{name:"side_kick",display_name:"Side Kick",description:"Yoko-geri - kick to the side"},{name:"roundhouse_kick",display_name:"Roundhouse Kick",description:"Mawashi-geri - circular kick"},{name:"down_block",display_name:"Down Block",description:"Gedan-barai - block low attacks"},{name:"high_block",display_name:"High Block",description:"Age-uke - block high attacks"},{name:"inside_block",display_name:"Inside Block",description:"Uchi-uke - block from inside"},{name:"knife_hand_strike",display_name:"Knife Hand Strike",description:"Shuto-uchi - strike with knife hand"},{name:"elbow_strike",display_name:"Elbow Strike",description:"Empi-uchi - strike with elbow"}]},R1=({children:e})=>{console.log("🚀 MovementProvider initializing...");const{user:t}=Pt();console.log("👤 MovementProvider user:",(t==null?void 0:t.id)||"No user");const[n,r]=v.useState([]),[s,a]=v.useState([]),[o,l]=v.useState(null),[c,u]=v.useState([]),[h,d]=v.useState({currentMoveIndex:0,totalMoves:0,completedMoves:0}),[f,g]=v.useState(!1),[x,y]=v.useState(null);v.useEffect(()=>{console.log("⚡ MovementProvider useEffect triggered, user ID:",t==null?void 0:t.id),t!=null&&t.id?k():console.log("⚠️ No user ID available, skipping data load")},[t==null?void 0:t.id]);const k=async()=>{var T,P;if(t!=null&&t.id){console.log("🔄 Loading movement data for user:",t.id),g(!0),y(null);try{console.log("📡 Fetching combinations and move counters...");const[R,F]=await Promise.all([ae.getCombinations(t.id),ae.getMoveCounters(t.id)]);console.log("📦 Combinations response:",R),console.log("📊 Counters response:",F),R.success?(r(R.combinations||[]),console.log("✅ Loaded combinations:",((T=R.combinations)==null?void 0:T.length)||0)):console.warn("⚠️ Combinations response not successful:",R),F.success?(a(F.counters||[]),console.log("✅ Loaded move counters:",((P=F.counters)==null?void 0:P.length)||0)):console.warn("⚠️ Counters response not successful:",F)}catch(R){console.error("❌ Failed to load movement data:",R),y("Failed to load movement data"),console.log("🔄 Loading sample data as fallback...");const F=[{combination_id:"sample-1",name:"Basic Forward Sequence",moves:[{type:"stance",name:"forward_stance",description:"Zenkutsu-dachi",duration_seconds:3},{type:"direction",name:"move_forward",description:"Step forward",duration_seconds:2},{type:"technique",name:"punch",description:"Oi-zuki",duration_seconds:1}],repeat_count:3,created_at:new Date().toISOString()},{combination_id:"sample-2",name:"Defense Combination",moves:[{type:"stance",name:"back_stance",description:"Kokutsu-dachi",duration_seconds:3},{type:"technique",name:"down_block",description:"Gedan-barai",duration_seconds:2},{type:"direction",name:"move_backward",description:"Step back",duration_seconds:2}],repeat_count:2,created_at:new Date().toISOString()}];r(F),console.log("📋 Sample combinations loaded:",F.length)}finally{g(!1),console.log("✅ Movement data loading complete")}}},m=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(T){const P=Math.random()*16|0;return(T=="x"?P:P&3|8).toString(16)}),p=(T,P)=>{const R=D1[T];if(R){const F=R.find($=>$.name===P);return F?F.display_name:P}return P},w=async T=>{var P;if(!(t!=null&&t.id))throw console.error("❌ No user logged in, cannot save combination"),new Error("User not authenticated. Please log in to save combinations.");try{const R=await ae.addCombination({user_id:t.id,name:T.name,moves:T.moves.map(F=>({type:F.type,name:F.name,description:F.description,duration_seconds:F.duration_seconds})),repeat_count:T.repeat_count});if(R.success){const F={...T,combination_id:((P=R.combination)==null?void 0:P.combination_id)||R.combination_id};r($=>[...$,F]),console.log("✅ Combination added successfully:",F),console.log("📋 Updated combinations list:",$=>[...$,F])}}catch(R){console.error("Failed to save combination:",R),r(F=>[...F,T]),console.log("⚠️ Added combination locally as fallback")}},j=(T,P,R)=>{a(F=>F.find(H=>H.move_name===T)?F.map(H=>H.move_name===T?{...H,forward_count:P?H.forward_count+R:H.forward_count,backward_count:P?H.backward_count:H.backward_count+R,total_count:H.total_count+R,last_updated:new Date().toISOString()}:H):[...F,{move_name:T,forward_count:P?R:0,backward_count:P?0:R,total_count:R,last_updated:new Date().toISOString()}])},S={savedCombinations:n,moveCounters:s,activeSession:o,loading:f,error:x,addCombination:w,updateMoveCounter:j,startMovementSession:async T=>{if(!(t!=null&&t.id))throw new Error("User not logged in");try{const P=await ae.createMovementSession({user_id:t.id,combination_ids:T,notes:""});if(P.success){const R={session_id:P.session_id,combination_ids:T,start_time:new Date().toISOString(),notes:"",total_moves:0},F=[];return T.forEach($=>{const H=n.find(fe=>fe.combination_id===$);if(H)for(let fe=0;fe<H.repeat_count;fe++)F.push(...H.moves)}),l(R),u(F),d({currentMoveIndex:0,totalMoves:F.length,completedMoves:0}),R}else throw new Error("Failed to create session")}catch(P){console.error("Failed to start movement session:",P);const R={session_id:m(),combination_ids:T,start_time:new Date().toISOString(),notes:"",total_moves:0},F=[];return T.forEach($=>{const H=n.find(fe=>fe.combination_id===$);if(H)for(let fe=0;fe<H.repeat_count;fe++)F.push(...H.moves)}),l(R),u(F),d({currentMoveIndex:0,totalMoves:F.length,completedMoves:0}),R}},endMovementSession:async(T,P)=>{if(!(!o||o.session_id!==T))try{await ae.endMovementSession(T,P),c.forEach(R=>{R.type==="direction"&&(R.name.includes("forward")||R.name.includes("backward"))&&j(R.name,R.name.includes("forward"),1)}),l(null),u([]),d({currentMoveIndex:0,totalMoves:0,completedMoves:0})}catch(R){console.error("Failed to end movement session:",R),l(null),u([]),d({currentMoveIndex:0,totalMoves:0,completedMoves:0})}},currentSessionMoves:c,practiceProgress:h,getSessionData:()=>{if(!o)return{combinations:0,moves:0,sessionTime:0};const T=o.start_time?Math.floor((Date.now()-new Date(o.start_time).getTime())/1e3):0;return{combinations:o.combination_ids.length,moves:c.length,sessionTime:T}},getDisplayName:p,loadUserData:k};return i.jsx(eg.Provider,{value:S,children:e})},Yc=()=>{const e=v.useContext(eg);if(e===void 0)throw new Error("useMovement must be used within a MovementProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},h)=>v.createElement("svg",{ref:h,...A1,width:s,height:s,stroke:r,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${L1(e)}`,l].join(" "),...u},[...t.map(([d,f])=>v.createElement(d,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=V("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=V("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=V("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=V("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=V("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=V("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=V("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=V("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=V("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=V("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=V("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=V("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=V("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=V("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=V("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=V("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=V("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Z1=({to:e,icon:t,label:n,active:r})=>i.jsxs(k1,{to:e,className:`flex flex-col items-center p-2 rounded-lg transition-all ${r?"bg-orange-500 text-white transform scale-110 shadow-lg":"text-blue-900 hover:bg-orange-100"}`,children:[i.jsx("div",{className:"text-2xl mb-1",children:t}),i.jsx("span",{className:"text-xs font-bold",children:n})]}),dg=({children:e})=>{const{isParentMode:t,toggleUserMode:n}=gn(),{user:r,signOut:s}=Pt(),a=Hs(),c=t?[{to:"/parent",icon:i.jsx(Jd,{size:24}),label:"Dashboard"},{to:"/video-practice",icon:i.jsx(kr,{size:24}),label:"Video"},{to:"/kata-reference",icon:i.jsx(Gd,{size:24}),label:"Kata"},{to:"/rewards",icon:i.jsx(jr,{size:24}),label:"Rewards"},{to:"/history",icon:i.jsx(Es,{size:24}),label:"History"},{to:"/calendar",icon:i.jsx(I1,{size:24}),label:"Calendar"},{to:"/settings",icon:i.jsx(ag,{size:24}),label:"Settings"}]:[{to:"/",icon:i.jsx(Jd,{size:24}),label:"Home"},{to:"/video-practice",icon:i.jsx(kr,{size:24}),label:"Video"},{to:"/kata-reference",icon:i.jsx(Gd,{size:24}),label:"Kata"},{to:"/rewards",icon:i.jsx(jr,{size:24}),label:"Rewards"},{to:"/history",icon:i.jsx(Es,{size:24}),label:"History"}];return i.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[i.jsxs("header",{className:"bg-gradient-to-r from-blue-600 to-orange-500 text-white p-4 flex justify-between items-center shadow-md",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-xl font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:t?"Parent Dashboard":"Karate Kid Practice"})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm",children:["Welcome, ",r==null?void 0:r.name,"!"]}),i.jsx("button",{onClick:n,className:"p-2 bg-white bg-opacity-20 rounded-full text-white hover:bg-opacity-30 transition-all shadow-lg","aria-label":t?"Switch to Kid Mode":"Switch to Parent Mode",children:t?i.jsx(cg,{size:20}):i.jsx(Q1,{size:20})}),i.jsx("button",{onClick:()=>s(),className:"p-2 bg-red-500 bg-opacity-80 rounded-full text-white hover:bg-red-600 transition-all shadow-lg","aria-label":"Sign Out",children:i.jsx(U1,{size:20})})]})]}),i.jsx("main",{className:"flex-grow p-4 overflow-y-auto",children:e}),i.jsx("nav",{className:"bg-white shadow-[0_-2px_10px_rgba(0,0,0,0.1)] p-2",children:i.jsx("div",{className:"max-w-screen-lg mx-auto flex justify-around",children:c.map(u=>i.jsx(Z1,{to:u.to,icon:u.icon,label:u.label,active:a.pathname===u.to},u.to))})})]})},qc=v.createContext({});function Gc(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Oa=v.createContext(null),Qc=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ew extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tw({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=v.useContext(Qc);return v.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),i.jsx(ew,{isPresent:t,childRef:r,sizeRef:s,children:v.cloneElement(e,{ref:r})})}const nw=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=Gc(rw),c=v.useId(),u=v.useCallback(d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),h=v.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:d=>(l.set(d,!1),()=>l.delete(d))}),a?[Math.random(),u]:[n,u]);return v.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(tw,{isPresent:n,children:e})),i.jsx(Oa.Provider,{value:h,children:e})};function rw(){return new Map}function hg(e=!0){const t=v.useContext(Oa);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=v.useId();v.useEffect(()=>{e&&s(a)},[e]);const o=v.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const pi=e=>e.key||"";function eh(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Xc=typeof window<"u",fg=Xc?v.useLayoutEffect:v.useEffect,Fa=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=hg(o),u=v.useMemo(()=>eh(e),[e]),h=o&&!l?[]:u.map(pi),d=v.useRef(!0),f=v.useRef(u),g=Gc(()=>new Map),[x,y]=v.useState(u),[k,m]=v.useState(u);fg(()=>{d.current=!1,f.current=u;for(let j=0;j<k.length;j++){const b=pi(k[j]);h.includes(b)?g.delete(b):g.get(b)!==!0&&g.set(b,!1)}},[k,h.length,h.join("-")]);const p=[];if(u!==x){let j=[...u];for(let b=0;b<k.length;b++){const N=k[b],C=pi(N);h.includes(C)||(j.splice(b,0,N),p.push(N))}a==="wait"&&p.length&&(j=p),m(eh(j)),y(u);return}const{forceRender:w}=v.useContext(qc);return i.jsx(i.Fragment,{children:k.map(j=>{const b=pi(j),N=o&&!l?!1:u===k||h.includes(b),C=()=>{if(g.has(b))g.set(b,!0);else return;let S=!0;g.forEach(T=>{T||(S=!1)}),S&&(w==null||w(),m(f.current),o&&(c==null||c()),r&&r())};return i.jsx(nw,{isPresent:N,initial:!d.current||n?void 0:!1,custom:N?void 0:t,presenceAffectsLayout:s,mode:a,onExitComplete:N?void 0:C,children:j},b)})})},Ye=e=>e;let Al=Ye;function Jc(e){let t;return()=>(t===void 0&&(t=e()),t)}const Sr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Dt=e=>e*1e3,Rt=e=>e/1e3,sw={skipAnimations:!1,useManualTiming:!1};function iw(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,h=!1,d=!1)=>{const g=d&&r?t:n;return h&&a.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const gi=["read","resolveKeyframes","update","preRender","render","postRender"],aw=40;function mg(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=gi.reduce((m,p)=>(m[p]=iw(a),m),{}),{read:l,resolveKeyframes:c,update:u,preRender:h,render:d,postRender:f}=o,g=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,aw),1),s.timestamp=m,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),h.process(s),d.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:gi.reduce((m,p)=>{const w=o[p];return m[p]=(j,b=!1,N=!1)=>(n||x(),w.schedule(j,b,N)),m},{}),cancel:m=>{for(let p=0;p<gi.length;p++)o[gi[p]].cancel(m)},state:s,steps:o}}const{schedule:re,cancel:un,state:ke,steps:wo}=mg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ye,!0),pg=v.createContext({strict:!1}),th={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nr={};for(const e in th)Nr[e]={isEnabled:t=>th[e].some(n=>!!t[n])};function ow(e){for(const t in e)Nr[t]={...Nr[t],...e[t]}}const lw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ca(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lw.has(e)}let gg=e=>!ca(e);function cw(e){e&&(gg=t=>t.startsWith("on")?!ca(t):e(t))}try{cw(require("@emotion/is-prop-valid").default)}catch{}function uw(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(gg(s)||n===!0&&ca(s)||!t&&!ca(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function dw(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Ia=v.createContext({});function Ds(e){return typeof e=="string"||Array.isArray(e)}function Va(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Zc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eu=["initial",...Zc];function za(e){return Va(e.animate)||eu.some(t=>Ds(e[t]))}function xg(e){return!!(za(e)||e.variants)}function hw(e,t){if(za(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ds(n)?n:void 0,animate:Ds(r)?r:void 0}}return e.inherit!==!1?t:{}}function fw(e){const{initial:t,animate:n}=hw(e,v.useContext(Ia));return v.useMemo(()=>({initial:t,animate:n}),[nh(t),nh(n)])}function nh(e){return Array.isArray(e)?e.join(" "):e}const mw=Symbol.for("motionComponentSymbol");function sr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pw(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):sr(n)&&(n.current=r))},[t])}const tu=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gw="framerAppearId",yg="data-"+tu(gw),{schedule:nu,cancel:pN}=mg(queueMicrotask,!1),vg=v.createContext({});function xw(e,t,n,r,s){var a,o;const{visualElement:l}=v.useContext(Ia),c=v.useContext(pg),u=v.useContext(Oa),h=v.useContext(Qc).reducedMotion,d=v.useRef(null);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,g=v.useContext(vg);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&yw(d.current,n,s,g);const x=v.useRef(!1);v.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const y=n[yg],k=v.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return fg(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),nu.render(f.render),k.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!k.current&&f.animationState&&f.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,y)}),k.current=!1))}),f}function yw(e,t,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wg(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&sr(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function wg(e){if(e)return e.options.allowProjection!==!1?e.projection:wg(e.parent)}function vw({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var a,o;e&&ow(e);function l(u,h){let d;const f={...v.useContext(Qc),...u,layoutId:ww(u)},{isStatic:g}=f,x=fw(u),y=r(u,g);if(!g&&Xc){bw();const k=jw(f);d=k.MeasureLayout,x.visualElement=xw(s,y,f,t,k.ProjectionNode)}return i.jsxs(Ia.Provider,{value:x,children:[d&&x.visualElement?i.jsx(d,{visualElement:x.visualElement,...f}):null,n(s,u,pw(y,x.visualElement,h),y,g,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const c=v.forwardRef(l);return c[mw]=s,c}function ww({layoutId:e}){const t=v.useContext(qc).id;return t&&e!==void 0?t+"-"+e:e}function bw(e,t){v.useContext(pg).strict}function jw(e){const{drag:t,layout:n}=Nr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const kw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ru(e){return typeof e!="string"||e.includes("-")?!1:!!(kw.indexOf(e)>-1||/[A-Z]/u.test(e))}function rh(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function su(e,t,n,r){if(typeof t=="function"){const[s,a]=rh(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=rh(r);t=t(n!==void 0?n:e.custom,s,a)}return t}const Ll=e=>Array.isArray(e),Sw=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Nw=e=>Ll(e)?e[e.length-1]||0:e,Ee=e=>!!(e&&e.getVelocity);function Di(e){const t=Ee(e)?e.get():e;return Sw(t)?t.toValue():t}function Pw({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,a){const o={latestValues:Cw(r,s,a,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const bg=e=>(t,n)=>{const r=v.useContext(Ia),s=v.useContext(Oa),a=()=>Pw(e,t,r,s);return n?a():Gc(a)};function Cw(e,t,n,r){const s={},a=r(e,{});for(const f in a)s[f]=Di(a[f]);let{initial:o,animate:l}=e;const c=za(e),u=xg(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?l:o;if(d&&typeof d!="boolean"&&!Va(d)){const f=Array.isArray(d)?d:[d];for(let g=0;g<f.length;g++){const x=su(e,f[g]);if(x){const{transitionEnd:y,transition:k,...m}=x;for(const p in m){let w=m[p];if(Array.isArray(w)){const j=h?w.length-1:0;w=w[j]}w!==null&&(s[p]=w)}for(const p in y)s[p]=y[p]}}}return s}const _r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Un=new Set(_r),jg=e=>t=>typeof t=="string"&&t.startsWith(e),kg=jg("--"),Tw=jg("var(--"),iu=e=>Tw(e)?Mw.test(e.split("/*")[0].trim()):!1,Mw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sg=(e,t)=>t&&typeof e=="number"?t.transform(e):e,It=(e,t,n)=>n>t?t:n<e?e:n,Dr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rs={...Dr,transform:e=>It(0,1,e)},xi={...Dr,default:1},Ws=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ut=Ws("deg"),St=Ws("%"),I=Ws("px"),Ew=Ws("vh"),_w=Ws("vw"),sh={...St,parse:e=>St.parse(e)/100,transform:e=>St.transform(e*100)},Dw={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,backgroundPositionX:I,backgroundPositionY:I},Rw={rotate:Ut,rotateX:Ut,rotateY:Ut,rotateZ:Ut,scale:xi,scaleX:xi,scaleY:xi,scaleZ:xi,skew:Ut,skewX:Ut,skewY:Ut,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:Rs,originX:sh,originY:sh,originZ:I},ih={...Dr,transform:Math.round},au={...Dw,...Rw,zIndex:ih,size:I,fillOpacity:Rs,strokeOpacity:Rs,numOctaves:ih},Aw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lw=_r.length;function Ow(e,t,n){let r="",s=!0;for(let a=0;a<Lw;a++){const o=_r[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Sg(l,au[o]);if(!c){s=!1;const h=Aw[o]||o;r+=`${h}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function ou(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Un.has(c)){o=!0;continue}else if(kg(c)){s[c]=u;continue}else{const h=Sg(u,au[c]);c.startsWith("origin")?(l=!0,a[c]=h):r[c]=h}}if(t.transform||(o||n?r.transform=Ow(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=a;r.transformOrigin=`${c} ${u} ${h}`}}const Fw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iw={offset:"strokeDashoffset",array:"strokeDasharray"};function Vw(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?Fw:Iw;e[a.offset]=I.transform(-r);const o=I.transform(t),l=I.transform(n);e[a.array]=`${o} ${l}`}function ah(e,t,n){return typeof e=="string"?e:I.transform(t+n*e)}function zw(e,t,n){const r=ah(t,e.x,e.width),s=ah(n,e.y,e.height);return`${r} ${s}`}function lu(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,d){if(ou(e,u,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:x}=e;f.transform&&(x&&(g.transform=f.transform),delete f.transform),x&&(s!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=zw(x,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&Vw(f,o,l,c,!1)}const cu=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ng=()=>({...cu(),attrs:{}}),uu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Pg(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const Cg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tg(e,t,n,r){Pg(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Cg.has(s)?s:tu(s),t.attrs[s])}const ua={};function Bw(e){Object.assign(ua,e)}function Mg(e,{layout:t,layoutId:n}){return Un.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ua[e]||e==="opacity")}function du(e,t,n){var r;const{style:s}=e,a={};for(const o in s)(Ee(s[o])||t.style&&Ee(t.style[o])||Mg(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function Eg(e,t,n){const r=du(e,t,n);for(const s in e)if(Ee(e[s])||Ee(t[s])){const a=_r.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function Uw(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const oh=["x","y","width","height","cx","cy","r"],$w={useVisualState:bg({scrapeMotionValuesFromProps:Eg,createRenderState:Ng,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const l in s)if(Un.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<oh.length;l++){const c=oh[l];e[c]!==t[c]&&(o=!0)}o&&re.read(()=>{Uw(n,r),re.render(()=>{lu(r,s,uu(n.tagName),e.transformTemplate),Tg(n,r)})})}})},Hw={useVisualState:bg({scrapeMotionValuesFromProps:du,createRenderState:cu})};function _g(e,t,n){for(const r in t)!Ee(t[r])&&!Mg(r,n)&&(e[r]=t[r])}function Kw({transformTemplate:e},t){return v.useMemo(()=>{const n=cu();return ou(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ww(e,t){const n=e.style||{},r={};return _g(r,n,e),Object.assign(r,Kw(e,t)),r}function Yw(e,t){const n={},r=Ww(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function qw(e,t,n,r){const s=v.useMemo(()=>{const a=Ng();return lu(a,t,uu(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};_g(a,e.style,e),s.style={...a,...s.style}}return s}function Gw(e=!1){return(n,r,s,{latestValues:a},o)=>{const c=(ru(n)?qw:Yw)(r,a,o,n),u=uw(r,typeof n=="string",e),h=n!==v.Fragment?{...u,...c,ref:s}:{},{children:d}=r,f=v.useMemo(()=>Ee(d)?d.get():d,[d]);return v.createElement(n,{...h,children:f})}}function Qw(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...ru(r)?$w:Hw,preloadedFeatures:e,useRender:Gw(s),createVisualElement:t,Component:r};return vw(o)}}function Dg(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ba(e,t,n){const r=e.getProps();return su(r,t,n!==void 0?n:r.custom,e)}const Xw=Jc(()=>window.ScrollTimeline!==void 0);class Jw{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(Xw()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zw extends Jw{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function hu(e,t){return e?e[t]||e.default||e:void 0}const Ol=2e4;function Rg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ol;)t+=n,r=e.next(t);return t>=Ol?1/0:t}function fu(e){return typeof e=="function"}function lh(e,t){e.timeline=t,e.onfinish=null}const mu=e=>Array.isArray(e)&&typeof e[0]=="number",eb={linearEasing:void 0};function tb(e,t){const n=Jc(e);return()=>{var r;return(r=eb[t])!==null&&r!==void 0?r:n()}}const da=tb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ag=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=e(Sr(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function Lg(e){return!!(typeof e=="function"&&da()||!e||typeof e=="string"&&(e in Fl||da())||mu(e)||Array.isArray(e)&&e.every(Lg))}const qr=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Fl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qr([0,.65,.55,1]),circOut:qr([.55,0,1,.45]),backIn:qr([.31,.01,.66,-.59]),backOut:qr([.33,1.53,.69,.99])};function Og(e,t){if(e)return typeof e=="function"&&da()?Ag(e,t):mu(e)?qr(e):Array.isArray(e)?e.map(n=>Og(n,t)||Fl.easeOut):Fl[e]}const ct={x:!1,y:!1};function Fg(){return ct.x||ct.y}function nb(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function Ig(e,t){const n=nb(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function ch(e){return t=>{t.pointerType==="touch"||Fg()||e(t)}}function rb(e,t,n={}){const[r,s,a]=Ig(e,n),o=ch(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const h=ch(d=>{u(d),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const Vg=(e,t)=>t?e===t?!0:Vg(e,t.parentElement):!1,pu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ib(e){return sb.has(e.tagName)||e.tabIndex!==-1}const Gr=new WeakSet;function uh(e){return t=>{t.key==="Enter"&&e(t)}}function bo(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ab=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=uh(()=>{if(Gr.has(n))return;bo(n,"down");const s=uh(()=>{bo(n,"up")}),a=()=>bo(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function dh(e){return pu(e)&&!Fg()}function ob(e,t,n={}){const[r,s,a]=Ig(e,n),o=l=>{const c=l.currentTarget;if(!dh(l)||Gr.has(c))return;Gr.add(c);const u=t(l),h=(g,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!dh(g)||!Gr.has(c))&&(Gr.delete(c),typeof u=="function"&&u(g,{success:x}))},d=g=>{h(g,n.useGlobalTarget||Vg(c,g.target))},f=g=>{h(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{!ib(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>ab(u,s),s)}),a}function lb(e){return e==="x"||e==="y"?ct[e]?null:(ct[e]=!0,()=>{ct[e]=!1}):ct.x||ct.y?null:(ct.x=ct.y=!0,()=>{ct.x=ct.y=!1})}const zg=new Set(["width","height","top","left","right","bottom",..._r]);let Ri;function cb(){Ri=void 0}const Nt={now:()=>(Ri===void 0&&Nt.set(ke.isProcessing||sw.useManualTiming?ke.timestamp:performance.now()),Ri),set:e=>{Ri=e,queueMicrotask(cb)}};function gu(e,t){e.indexOf(t)===-1&&e.push(t)}function xu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yu{constructor(){this.subscriptions=[]}add(t){return gu(this.subscriptions,t),()=>xu(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Bg(e,t){return t?e*(1e3/t):0}const hh=30,ub=e=>!isNaN(parseFloat(e));class db{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Nt.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ub(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yu);const r=this.events[t].add(n);return t==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hh);return Bg(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function As(e,t){return new db(e,t)}function hb(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,As(n))}function fb(e,t){const n=Ba(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const o in a){const l=Nw(a[o]);hb(e,o,l)}}function mb(e){return!!(Ee(e)&&e.add)}function Il(e,t){const n=e.getValue("willChange");if(mb(n))return n.add(t)}function Ug(e){return e.props[yg]}const $g=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pb=1e-7,gb=12;function xb(e,t,n,r,s){let a,o,l=0;do o=t+(n-t)/2,a=$g(o,r,s)-e,a>0?n=o:t=o;while(Math.abs(a)>pb&&++l<gb);return o}function Ys(e,t,n,r){if(e===t&&n===r)return Ye;const s=a=>xb(a,0,1,e,n);return a=>a===0||a===1?a:$g(s(a),t,r)}const Hg=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Kg=e=>t=>1-e(1-t),Wg=Ys(.33,1.53,.69,.99),vu=Kg(Wg),Yg=Hg(vu),qg=e=>(e*=2)<1?.5*vu(e):.5*(2-Math.pow(2,-10*(e-1))),wu=e=>1-Math.sin(Math.acos(e)),Gg=Kg(wu),Qg=Hg(wu),Xg=e=>/^0[^.\s]+$/u.test(e);function yb(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xg(e):!0}const as=e=>Math.round(e*1e5)/1e5,bu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vb(e){return e==null}const wb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ju=(e,t)=>n=>!!(typeof n=="string"&&wb.test(n)&&n.startsWith(e)||t&&!vb(n)&&Object.prototype.hasOwnProperty.call(n,t)),Jg=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,o,l]=r.match(bu);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bb=e=>It(0,255,e),jo={...Dr,transform:e=>Math.round(bb(e))},Tn={test:ju("rgb","red"),parse:Jg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+jo.transform(e)+", "+jo.transform(t)+", "+jo.transform(n)+", "+as(Rs.transform(r))+")"};function jb(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Vl={test:ju("#"),parse:jb,transform:Tn.transform},ir={test:ju("hsl","hue"),parse:Jg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+St.transform(as(t))+", "+St.transform(as(n))+", "+as(Rs.transform(r))+")"},Te={test:e=>Tn.test(e)||Vl.test(e)||ir.test(e),parse:e=>Tn.test(e)?Tn.parse(e):ir.test(e)?ir.parse(e):Vl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Tn.transform(e):ir.transform(e)},kb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sb(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(kb))===null||n===void 0?void 0:n.length)||0)>0}const Zg="number",e0="color",Nb="var",Pb="var(",fh="${}",Cb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ls(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(Cb,c=>(Te.test(c)?(r.color.push(a),s.push(e0),n.push(Te.parse(c))):c.startsWith(Pb)?(r.var.push(a),s.push(Nb),n.push(c)):(r.number.push(a),s.push(Zg),n.push(parseFloat(c))),++a,fh)).split(fh);return{values:n,split:l,indexes:r,types:s}}function t0(e){return Ls(e).values}function n0(e){const{split:t,types:n}=Ls(e),r=t.length;return s=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],s[o]!==void 0){const l=n[o];l===Zg?a+=as(s[o]):l===e0?a+=Te.transform(s[o]):a+=s[o]}return a}}const Tb=e=>typeof e=="number"?0:e;function Mb(e){const t=t0(e);return n0(e)(t.map(Tb))}const dn={test:Sb,parse:t0,createTransformer:n0,getAnimatableNone:Mb},Eb=new Set(["brightness","contrast","saturate","opacity"]);function _b(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(bu)||[];if(!r)return e;const s=n.replace(r,"");let a=Eb.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const Db=/\b([a-z-]*)\(.*?\)/gu,zl={...dn,getAnimatableNone:e=>{const t=e.match(Db);return t?t.map(_b).join(" "):e}},Rb={...au,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:zl,WebkitFilter:zl},ku=e=>Rb[e];function r0(e,t){let n=ku(e);return n!==zl&&(n=dn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ab=new Set(["auto","none","0"]);function Lb(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!Ab.has(a)&&Ls(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=r0(n,s)}const mh=e=>e===Dr||e===I,ph=(e,t)=>parseFloat(e.split(", ")[t]),gh=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return ph(s[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?ph(a[1],e):0}},Ob=new Set(["x","y","z"]),Fb=_r.filter(e=>!Ob.has(e));function Ib(e){const t=[];return Fb.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Pr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:gh(4,13),y:gh(5,14)};Pr.translateX=Pr.x;Pr.translateY=Pr.y;const _n=new Set;let Bl=!1,Ul=!1;function s0(){if(Ul){const e=Array.from(_n).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Ib(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ul=!1,Bl=!1,_n.forEach(e=>e.complete()),_n.clear()}function i0(){_n.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ul=!0)})}function Vb(){i0(),s0()}class Su{constructor(t,n,r,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_n.add(this),Bl||(Bl=!0,re.read(i0),re.resolveKeyframes(s0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_n.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_n.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const a0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),zb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bb(e){const t=zb.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function o0(e,t,n=1){const[r,s]=Bb(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return a0(o)?parseFloat(o):o}return iu(s)?o0(s,t,n+1):s}const l0=e=>t=>t.test(e),Ub={test:e=>e==="auto",parse:e=>e},c0=[Dr,I,St,Ut,_w,Ew,Ub],xh=e=>c0.find(l0(e));class u0 extends Su{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),iu(u))){const h=o0(u,n.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zg.has(r)||t.length!==2)return;const[s,a]=t,o=xh(s),l=xh(a);if(o!==l)if(mh(o)&&mh(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)yb(t[s])&&r.push(s);r.length&&Lb(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Pr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const yh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(dn.test(e)||e==="0")&&!e.startsWith("url("));function $b(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Hb(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=yh(s,t),l=yh(a,t);return!o||!l?!1:$b(e)||(n==="spring"||fu(n))&&r}const Kb=e=>e!==null;function Ua(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Kb),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Wb=40;class d0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Nt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Wb?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Vb(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Nt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Hb(t,r,s,a))if(o)this.options.duration=0;else{c&&c(Ua(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const le=(e,t,n)=>e+(t-e)*n;function ko(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Yb({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=ko(c,l,e+1/3),a=ko(c,l,e),o=ko(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function ha(e,t){return n=>n>0?t:e}const So=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},qb=[Vl,Tn,ir],Gb=e=>qb.find(t=>t.test(e));function vh(e){const t=Gb(e);if(!t)return!1;let n=t.parse(e);return t===ir&&(n=Yb(n)),n}const wh=(e,t)=>{const n=vh(e),r=vh(t);if(!n||!r)return ha(e,t);const s={...n};return a=>(s.red=So(n.red,r.red,a),s.green=So(n.green,r.green,a),s.blue=So(n.blue,r.blue,a),s.alpha=le(n.alpha,r.alpha,a),Tn.transform(s))},Qb=(e,t)=>n=>t(e(n)),qs=(...e)=>e.reduce(Qb),$l=new Set(["none","hidden"]);function Xb(e,t){return $l.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Jb(e,t){return n=>le(e,t,n)}function Nu(e){return typeof e=="number"?Jb:typeof e=="string"?iu(e)?ha:Te.test(e)?wh:tj:Array.isArray(e)?h0:typeof e=="object"?Te.test(e)?wh:Zb:ha}function h0(e,t){const n=[...e],r=n.length,s=e.map((a,o)=>Nu(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}}function Zb(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Nu(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function ej(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[a]=c,s[o]++}return r}const tj=(e,t)=>{const n=dn.createTransformer(t),r=Ls(e),s=Ls(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?$l.has(e)&&!s.values.length||$l.has(t)&&!r.values.length?Xb(e,t):qs(h0(ej(r,s),s.values),n):ha(e,t)};function f0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):Nu(e)(e,t)}const nj=5;function m0(e,t,n){const r=Math.max(t-nj,0);return Bg(n-e(r),t-r)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},No=.001;function rj({duration:e=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:r=de.mass}){let s,a,o=1-t;o=It(de.minDamping,de.maxDamping,o),e=It(de.minDuration,de.maxDuration,Rt(e)),o<1?(s=u=>{const h=u*o,d=h*e,f=h-n,g=Hl(u,o),x=Math.exp(-d);return No-f/g*x},a=u=>{const d=u*o*e,f=d*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-d),y=Hl(Math.pow(u,2),o);return(-s(u)+No>0?-1:1)*((f-g)*x)/y}):(s=u=>{const h=Math.exp(-u*e),d=(u-n)*e+1;return-No+h*d},a=u=>{const h=Math.exp(-u*e),d=(n-u)*(e*e);return h*d});const l=5/e,c=ij(s,a,l);if(e=Dt(e),isNaN(c))return{stiffness:de.stiffness,damping:de.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const sj=12;function ij(e,t,n){let r=n;for(let s=1;s<sj;s++)r=r-e(r)/t(r);return r}function Hl(e,t){return e*Math.sqrt(1-t*t)}const aj=["duration","bounce"],oj=["stiffness","damping","mass"];function bh(e,t){return t.some(n=>e[n]!==void 0)}function lj(e){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...e};if(!bh(e,oj)&&bh(e,aj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*It(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:de.mass,stiffness:s,damping:a}}else{const n=rj(e);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function p0(e=de.visualDuration,t=de.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:g}=lj({...n,velocity:-Rt(n.velocity||0)}),x=f||0,y=u/(2*Math.sqrt(c*h)),k=o-a,m=Rt(Math.sqrt(c/h)),p=Math.abs(k)<5;r||(r=p?de.restSpeed.granular:de.restSpeed.default),s||(s=p?de.restDelta.granular:de.restDelta.default);let w;if(y<1){const b=Hl(m,y);w=N=>{const C=Math.exp(-y*m*N);return o-C*((x+y*m*k)/b*Math.sin(b*N)+k*Math.cos(b*N))}}else if(y===1)w=b=>o-Math.exp(-m*b)*(k+(x+m*k)*b);else{const b=m*Math.sqrt(y*y-1);w=N=>{const C=Math.exp(-y*m*N),S=Math.min(b*N,300);return o-C*((x+y*m*k)*Math.sinh(S)+b*k*Math.cosh(S))/b}}const j={calculatedDuration:g&&d||null,next:b=>{const N=w(b);if(g)l.done=b>=d;else{let C=0;y<1&&(C=b===0?Dt(x):m0(w,b,N));const S=Math.abs(C)<=r,T=Math.abs(o-N)<=s;l.done=S&&T}return l.value=l.done?o:N,l},toString:()=>{const b=Math.min(Rg(j),Ol),N=Ag(C=>j.next(b*C).value,b,30);return b+"ms "+N}};return j}function jh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const d=e[0],f={done:!1,value:d},g=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let y=n*t;const k=d+y,m=o===void 0?k:o(k);m!==k&&(y=m-d);const p=S=>-y*Math.exp(-S/r),w=S=>m+p(S),j=S=>{const T=p(S),P=w(S);f.done=Math.abs(T)<=u,f.value=f.done?m:P};let b,N;const C=S=>{g(f.value)&&(b=S,N=p0({keyframes:[f.value,x(f.value)],velocity:m0(w,S,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:h}))};return C(0),{calculatedDuration:null,next:S=>{let T=!1;return!N&&b===void 0&&(T=!0,j(S),C(S)),b!==void 0&&S>=b?N.next(S-b):(!T&&j(S),f)}}}const cj=Ys(.42,0,1,1),uj=Ys(0,0,.58,1),g0=Ys(.42,0,.58,1),dj=e=>Array.isArray(e)&&typeof e[0]!="number",kh={linear:Ye,easeIn:cj,easeInOut:g0,easeOut:uj,circIn:wu,circInOut:Qg,circOut:Gg,backIn:vu,backInOut:Yg,backOut:Wg,anticipate:qg},Sh=e=>{if(mu(e)){Al(e.length===4);const[t,n,r,s]=e;return Ys(t,n,r,s)}else if(typeof e=="string")return Al(kh[e]!==void 0),kh[e];return e};function hj(e,t,n){const r=[],s=n||f0,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ye:t;l=qs(c,l)}r.push(l)}return r}function fj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(Al(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=hj(t,r,s),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const f=Sr(e[d],e[d+1],h);return l[d](f)};return n?h=>u(It(e[0],e[a-1],h)):u}function mj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Sr(0,t,r);e.push(le(n,1,s))}}function pj(e){const t=[0];return mj(t,e.length-1),t}function gj(e,t){return e.map(n=>n*t)}function xj(e,t){return e.map(()=>t||g0).splice(0,e.length-1)}function fa({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=dj(r)?r.map(Sh):Sh(r),a={done:!1,value:t[0]},o=gj(n&&n.length===t.length?n:pj(t),e),l=fj(o,t,{ease:Array.isArray(s)?s:xj(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const yj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>re.update(t,!0),stop:()=>un(t),now:()=>ke.isProcessing?ke.timestamp:Nt.now()}},vj={decay:jh,inertia:jh,tween:fa,keyframes:fa,spring:p0},wj=e=>e/100;class Pu extends d0{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Su,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=fu(n)?n:vj[n]||fa;let c,u;l!==fa&&typeof t[0]!="number"&&(c=qs(wj,f0(t[0],t[1])),t=[0,100]);const h=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Rg(h));const{calculatedDuration:d}=h,f=d+s,g=f*(r+1)-s;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:g,repeatType:x,repeatDelay:y,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?m<0:m>h;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,j=a;if(g){const S=Math.min(this.currentTime,h)/d;let T=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&T--,T=Math.min(T,g+1),!!(T%2)&&(x==="reverse"?(P=1-P,y&&(P-=y/d)):x==="mirror"&&(j=o)),w=It(0,1,P)*d}const b=p?{done:!1,value:c[0]}:j.next(w);l&&(b.value=l(b.value));let{done:N}=b;!p&&u!==null&&(N=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return C&&s!==void 0&&(b.value=Ua(c,this.options,s)),k&&k(b.value),C&&this.finish(),b}get duration(){const{resolved:t}=this;return t?Rt(t.calculatedDuration):0}get time(){return Rt(this.currentTime)}set time(t){t=Dt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Rt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=yj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const bj=new Set(["opacity","clipPath","filter","transform"]);function jj(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const h=Og(l,s);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const kj=Jc(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ma=10,Sj=2e4;function Nj(e){return fu(e.type)||e.type==="spring"||!Lg(e.ease)}function Pj(e,t){const n=new Pu({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<Sj;)r=n.sample(a),s.push(r.value),a+=ma;return{times:void 0,keyframes:s,duration:a-ma,ease:"linear"}}const x0={anticipate:qg,backInOut:Yg,circInOut:Qg};function Cj(e){return e in x0}class Nh extends d0{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new u0(a,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&da()&&Cj(a)&&(a=x0[a]),Nj(this.options)){const{onComplete:d,onUpdate:f,motionValue:g,element:x,...y}=this.options,k=Pj(t,y);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,s=k.times,a=k.ease,o="keyframes"}const h=jj(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:a});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(lh(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(Ua(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Rt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Rt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Dt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ye;const{animation:r}=n;lh(r,t)}return Ye}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:f,...g}=this.options,x=new Pu({...g,keyframes:r,duration:s,type:a,ease:o,times:l,isGenerator:!0}),y=Dt(this.time);u.setWithVelocity(x.sample(y-ma).value,x.sample(y).value,ma)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return kj()&&r&&bj.has(r)&&!c&&!u&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Tj={type:"spring",stiffness:500,damping:25,restSpeed:10},Mj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ej={type:"keyframes",duration:.8},_j={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dj=(e,{keyframes:t})=>t.length>2?Ej:Un.has(e)?e.startsWith("scale")?Mj(t[1]):Tj:_j;function Rj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const Cu=(e,t,n,r={},s,a)=>o=>{const l=hu(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Dt(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};Rj(l)||(h={...h,...Dj(e,h)}),h.duration&&(h.duration=Dt(h.duration)),h.repeatDelay&&(h.repeatDelay=Dt(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!a&&t.get()!==void 0){const f=Ua(h.keyframes,l);if(f!==void 0)return re.update(()=>{h.onUpdate(f),h.onComplete()}),new Zw([])}return!a&&Nh.supports(h)?new Nh(h):new Pu(h)};function Aj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function y0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const d in c){const f=e.getValue(d,(a=e.latestValues[d])!==null&&a!==void 0?a:null),g=c[d];if(g===void 0||h&&Aj(h,d))continue;const x={delay:n,...hu(o||{},d)};let y=!1;if(window.MotionHandoffAnimation){const m=Ug(e);if(m){const p=window.MotionHandoffAnimation(m,d,re);p!==null&&(x.startTime=p,y=!0)}}Il(e,d),f.start(Cu(d,f,g,e.shouldReduceMotion&&zg.has(d)?{type:!1}:x,e,y));const k=f.animation;k&&u.push(k)}return l&&Promise.all(u).then(()=>{re.update(()=>{l&&fb(e,l)})}),u}function Kl(e,t,n={}){var r;const s=Ba(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const o=s?()=>Promise.all(y0(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=a;return Lj(e,t,h+u,d,f,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function Lj(e,t,n=0,r=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(Oj).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(Kl(u,t,{...a,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Oj(e,t){return e.sortNodePosition(t)}function Fj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>Kl(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=Kl(e,t,n);else{const s=typeof t=="function"?Ba(e,t,n.custom):t;r=Promise.all(y0(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Ij=eu.length;function v0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?v0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Ij;n++){const r=eu[n],s=e.props[r];(Ds(s)||s===!1)&&(t[r]=s)}return t}const Vj=[...Zc].reverse(),zj=Zc.length;function Bj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Fj(e,n,r)))}function Uj(e){let t=Bj(e),n=Ph(),r=!0;const s=c=>(u,h)=>{var d;const f=Ba(e,h,c==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:g,transitionEnd:x,...y}=f;u={...u,...y,...x}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,h=v0(e.parent)||{},d=[],f=new Set;let g={},x=1/0;for(let k=0;k<zj;k++){const m=Vj[k],p=n[m],w=u[m]!==void 0?u[m]:h[m],j=Ds(w),b=m===c?p.isActive:null;b===!1&&(x=k);let N=w===h[m]&&w!==u[m]&&j;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),p.protectedKeys={...g},!p.isActive&&b===null||!w&&!p.prevProp||Va(w)||typeof w=="boolean")continue;const C=$j(p.prevProp,w);let S=C||m===c&&p.isActive&&!N&&j||k>x&&j,T=!1;const P=Array.isArray(w)?w:[w];let R=P.reduce(s(m),{});b===!1&&(R={});const{prevResolvedValues:F={}}=p,$={...F,...R},H=J=>{S=!0,f.has(J)&&(T=!0,f.delete(J)),p.needsAnimating[J]=!0;const E=e.getValue(J);E&&(E.liveStyle=!1)};for(const J in $){const E=R[J],_=F[J];if(g.hasOwnProperty(J))continue;let O=!1;Ll(E)&&Ll(_)?O=!Dg(E,_):O=E!==_,O?E!=null?H(J):f.add(J):E!==void 0&&f.has(J)?H(J):p.protectedKeys[J]=!0}p.prevProp=w,p.prevResolvedValues=R,p.isActive&&(g={...g,...R}),r&&e.blockInitialAnimation&&(S=!1),S&&(!(N&&C)||T)&&d.push(...P.map(J=>({animation:J,options:{type:m}})))}if(f.size){const k={};f.forEach(m=>{const p=e.getBaseTarget(m),w=e.getValue(m);w&&(w.liveStyle=!0),k[m]=p??null}),d.push({animation:k})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(d):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Ph(),r=!0}}}function $j(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Dg(t,e):!1}function vn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ph(){return{animate:vn(!0),whileInView:vn(),whileHover:vn(),whileTap:vn(),whileDrag:vn(),whileFocus:vn(),exit:vn()}}class xn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hj extends xn{constructor(t){super(t),t.animationState||(t.animationState=Uj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Va(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Kj=0;class Wj extends xn{constructor(){super(...arguments),this.id=Kj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Yj={animation:{Feature:Hj},exit:{Feature:Wj}};function Os(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Gs(e){return{point:{x:e.pageX,y:e.pageY}}}const qj=e=>t=>pu(t)&&e(t,Gs(t));function os(e,t,n,r){return Os(e,t,qj(n),r)}const Ch=(e,t)=>Math.abs(e-t);function Gj(e,t){const n=Ch(e.x,t.x),r=Ch(e.y,t.y);return Math.sqrt(n**2+r**2)}class w0{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Co(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=Gj(d.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:x}=d,{timestamp:y}=ke;this.history.push({...x,timestamp:y});const{onStart:k,onMove:m}=this.handlers;f||(k&&k(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Po(f,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Co(d.type==="pointercancel"?this.lastMoveEventInfo:Po(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,k),x&&x(d,k)},!pu(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Gs(t),l=Po(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ke;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Co(l,this.history)),this.removeListeners=qs(os(this.contextWindow,"pointermove",this.handlePointerMove),os(this.contextWindow,"pointerup",this.handlePointerUp),os(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function Po(e,t){return t?{point:t(e.point)}:e}function Th(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Co({point:e},t){return{point:e,delta:Th(e,b0(t)),offset:Th(e,Qj(t)),velocity:Xj(t,.1)}}function Qj(e){return e[0]}function b0(e){return e[e.length-1]}function Xj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=b0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Dt(t)));)n--;if(!r)return{x:0,y:0};const a=Rt(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const j0=1e-4,Jj=1-j0,Zj=1+j0,k0=.01,ek=0-k0,tk=0+k0;function Ge(e){return e.max-e.min}function nk(e,t,n){return Math.abs(e-t)<=n}function Mh(e,t,n,r=.5){e.origin=r,e.originPoint=le(t.min,t.max,e.origin),e.scale=Ge(n)/Ge(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Jj&&e.scale<=Zj||isNaN(e.scale))&&(e.scale=1),(e.translate>=ek&&e.translate<=tk||isNaN(e.translate))&&(e.translate=0)}function ls(e,t,n,r){Mh(e.x,t.x,n.x,r?r.originX:void 0),Mh(e.y,t.y,n.y,r?r.originY:void 0)}function Eh(e,t,n){e.min=n.min+t.min,e.max=e.min+Ge(t)}function rk(e,t,n){Eh(e.x,t.x,n.x),Eh(e.y,t.y,n.y)}function _h(e,t,n){e.min=t.min-n.min,e.max=e.min+Ge(t)}function cs(e,t,n){_h(e.x,t.x,n.x),_h(e.y,t.y,n.y)}function sk(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?le(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?le(n,e,r.max):Math.min(e,n)),e}function Dh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ik(e,{top:t,left:n,bottom:r,right:s}){return{x:Dh(e.x,n,s),y:Dh(e.y,t,r)}}function Rh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ak(e,t){return{x:Rh(e.x,t.x),y:Rh(e.y,t.y)}}function ok(e,t){let n=.5;const r=Ge(e),s=Ge(t);return s>r?n=Sr(t.min,t.max-r,e.min):r>s&&(n=Sr(e.min,e.max-s,t.min)),It(0,1,n)}function lk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Wl=.35;function ck(e=Wl){return e===!1?e=0:e===!0&&(e=Wl),{x:Ah(e,"left","right"),y:Ah(e,"top","bottom")}}function Ah(e,t,n){return{min:Lh(e,t),max:Lh(e,n)}}function Lh(e,t){return typeof e=="number"?e:e[t]||0}const Oh=()=>({translate:0,scale:1,origin:0,originPoint:0}),ar=()=>({x:Oh(),y:Oh()}),Fh=()=>({min:0,max:0}),me=()=>({x:Fh(),y:Fh()});function Ze(e){return[e("x"),e("y")]}function S0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function uk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function To(e){return e===void 0||e===1}function Yl({scale:e,scaleX:t,scaleY:n}){return!To(e)||!To(t)||!To(n)}function jn(e){return Yl(e)||N0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function N0(e){return Ih(e.x)||Ih(e.y)}function Ih(e){return e&&e!=="0%"}function pa(e,t,n){const r=e-n,s=t*r;return n+s}function Vh(e,t,n,r,s){return s!==void 0&&(e=pa(e,s,r)),pa(e,n,r)+t}function ql(e,t=0,n=1,r,s){e.min=Vh(e.min,t,n,r,s),e.max=Vh(e.max,t,n,r,s)}function P0(e,{x:t,y:n}){ql(e.x,t.translate,t.scale,t.originPoint),ql(e.y,n.translate,n.scale,n.originPoint)}const zh=.999999999999,Bh=1.0000000000001;function hk(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&lr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,P0(e,o)),r&&jn(a.latestValues)&&lr(e,a.latestValues))}t.x<Bh&&t.x>zh&&(t.x=1),t.y<Bh&&t.y>zh&&(t.y=1)}function or(e,t){e.min=e.min+t,e.max=e.max+t}function Uh(e,t,n,r,s=.5){const a=le(e.min,e.max,s);ql(e,t,n,a,r)}function lr(e,t){Uh(e.x,t.x,t.scaleX,t.scale,t.originX),Uh(e.y,t.y,t.scaleY,t.scale,t.originY)}function C0(e,t){return S0(dk(e.getBoundingClientRect(),t))}function fk(e,t,n){const r=C0(e,n),{scroll:s}=t;return s&&(or(r.x,s.offset.x),or(r.y,s.offset.y)),r}const T0=({current:e})=>e?e.ownerDocument.defaultView:null,mk=new WeakMap;class pk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=me(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gs(h).point)},a=(h,d)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lb(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ze(k=>{let m=this.getAxisMotionValue(k).get()||0;if(St.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[k];w&&(m=Ge(w)*(parseFloat(m)/100))}}this.originPoint[k]=m}),x&&re.postRender(()=>x(h,d)),Il(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:k}=d;if(g&&this.currentDirection===null){this.currentDirection=gk(k),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,k),this.updateAxis("y",d.point,k),this.visualElement.render(),y&&y(h,d)},l=(h,d)=>this.stop(h,d),c=()=>Ze(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new w0(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:T0(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&re.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!yi(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=sk(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&sr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=ik(s.layoutBox,n):this.constraints=!1,this.elastic=ck(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ze(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=lk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=fk(r,s.root,this.visualElement.getTransformPagePoint());let o=ak(s.layout.layoutBox,a);if(n){const l=n(uk(o));this.hasMutatedConstraints=!!l,l&&(o=S0(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ze(h=>{if(!yi(h,n,this.currentDirection))return;let d=c&&c[h]||{};o&&(d={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?t[h]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(h,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Il(this.visualElement,t),r.start(Cu(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ze(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ze(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ze(n=>{const{drag:r}=this.getProps();if(!yi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ze(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=ok({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ze(o=>{if(!yi(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(le(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;mk.set(this.visualElement,this);const t=this.visualElement.current,n=os(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();sr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),re.read(r);const o=Os(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ze(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Wl,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function yi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xk extends xn{constructor(t){super(t),this.removeGroupControls=Ye,this.removeListeners=Ye,this.controls=new pk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const $h=e=>(t,n)=>{e&&re.postRender(()=>e(t,n))};class yk extends xn{constructor(){super(...arguments),this.removePointerDownListener=Ye}onPointerDown(t){this.session=new w0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$h(t),onStart:$h(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&re.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=os(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ai={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Br={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(I.test(e))e=parseFloat(e);else return e;const n=Hh(e,t.target.x),r=Hh(e,t.target.y);return`${n}% ${r}%`}},vk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=dn.parse(e);if(s.length>5)return r;const a=dn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=le(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class wk extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;Bw(bk),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ai.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||re.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nu.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function M0(e){const[t,n]=hg(),r=v.useContext(qc);return i.jsx(wk,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(vg),isPresent:t,safeToRemove:n})}const bk={borderRadius:{...Br,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Br,borderTopRightRadius:Br,borderBottomLeftRadius:Br,borderBottomRightRadius:Br,boxShadow:vk};function jk(e,t,n){const r=Ee(e)?e:As(e);return r.start(Cu("",r,t,n)),r.animation}function kk(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Sk=(e,t)=>e.depth-t.depth;class Nk{constructor(){this.children=[],this.isDirty=!1}add(t){gu(this.children,t),this.isDirty=!0}remove(t){xu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Sk),this.isDirty=!1,this.children.forEach(t)}}function Pk(e,t){const n=Nt.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(un(r),e(a-t))};return re.read(r,!0),()=>un(r)}const E0=["TopLeft","TopRight","BottomLeft","BottomRight"],Ck=E0.length,Kh=e=>typeof e=="string"?parseFloat(e):e,Wh=e=>typeof e=="number"||I.test(e);function Tk(e,t,n,r,s,a){s?(e.opacity=le(0,n.opacity!==void 0?n.opacity:1,Mk(r)),e.opacityExit=le(t.opacity!==void 0?t.opacity:1,0,Ek(r))):a&&(e.opacity=le(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Ck;o++){const l=`border${E0[o]}Radius`;let c=Yh(t,l),u=Yh(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Wh(c)===Wh(u)?(e[l]=Math.max(le(Kh(c),Kh(u),r),0),(St.test(u)||St.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,r))}function Yh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mk=_0(0,.5,Gg),Ek=_0(.5,.95,Ye);function _0(e,t,n){return r=>r<e?0:r>t?1:n(Sr(e,t,r))}function qh(e,t){e.min=t.min,e.max=t.max}function Je(e,t){qh(e.x,t.x),qh(e.y,t.y)}function Gh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Qh(e,t,n,r,s){return e-=t,e=pa(e,1/n,r),s!==void 0&&(e=pa(e,1/s,r)),e}function _k(e,t=0,n=1,r=.5,s,a=e,o=e){if(St.test(t)&&(t=parseFloat(t),t=le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=le(a.min,a.max,r);e===a&&(l-=t),e.min=Qh(e.min,t,n,l,s),e.max=Qh(e.max,t,n,l,s)}function Xh(e,t,[n,r,s],a,o){_k(e,t[n],t[r],t[s],t.scale,a,o)}const Dk=["x","scaleX","originX"],Rk=["y","scaleY","originY"];function Jh(e,t,n,r){Xh(e.x,t,Dk,n?n.x:void 0,r?r.x:void 0),Xh(e.y,t,Rk,n?n.y:void 0,r?r.y:void 0)}function Zh(e){return e.translate===0&&e.scale===1}function D0(e){return Zh(e.x)&&Zh(e.y)}function ef(e,t){return e.min===t.min&&e.max===t.max}function Ak(e,t){return ef(e.x,t.x)&&ef(e.y,t.y)}function tf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function R0(e,t){return tf(e.x,t.x)&&tf(e.y,t.y)}function nf(e){return Ge(e.x)/Ge(e.y)}function rf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Lk{constructor(){this.members=[]}add(t){gu(this.members,t),t.scheduleRender()}remove(t){if(xu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ok(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const kn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Qr=typeof window<"u"&&window.MotionDebug!==void 0,Mo=["","X","Y","Z"],Fk={visibility:"hidden"},sf=1e3;let Ik=0;function Eo(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function A0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ug(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&A0(r)}function L0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Ik++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qr&&(kn.totalNodes=kn.resolvedTargetDeltas=kn.recalculatedProjection=0),this.nodes.forEach(Bk),this.nodes.forEach(Wk),this.nodes.forEach(Yk),this.nodes.forEach(Uk),Qr&&window.MotionDebug.record(kn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nk)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yu),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kk(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Pk(f,250),Ai.hasAnimatedSinceResize&&(Ai.hasAnimatedSinceResize=!1,this.nodes.forEach(of))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||Jk,{onLayoutAnimationStart:k,onLayoutAnimationComplete:m}=h.getProps(),p=!this.targetLayout||!R0(this.targetLayout,x)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const j={...hu(y,"layout"),onPlay:k,onComplete:m};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||of(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(af);return}this.isUpdating||this.nodes.forEach(Hk),this.isUpdating=!1,this.nodes.forEach(Kk),this.nodes.forEach(Vk),this.nodes.forEach(zk),this.clearAllSnapshots();const l=Nt.now();ke.delta=It(0,1e3/60,l-ke.timestamp),ke.timestamp=l,ke.isProcessing=!0,wo.update.process(ke),wo.preRender.process(ke),wo.render.process(ke),ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($k),this.sharedNodes.forEach(Gk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!D0(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(l||jn(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Zk(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return me();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(e2))){const{scroll:h}=this.root;h&&(or(c.x,h.offset.x),or(c.y,h.offset.y))}return c}removeElementScroll(o){var l;const c=me();if(Je(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Je(c,o),or(c.x,d.offset.x),or(c.y,d.offset.y))}return c}applyTransform(o,l=!1){const c=me();Je(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&lr(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),jn(h.latestValues)&&lr(c,h.latestValues)}return jn(this.latestValues)&&lr(c,this.latestValues),c}removeTransform(o){const l=me();Je(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!jn(u.latestValues))continue;Yl(u.latestValues)&&u.updateSnapshot();const h=me(),d=u.measurePageBox();Je(h,d),Jh(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return jn(this.latestValues)&&Jh(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ke.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),cs(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Je(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=me(),this.targetWithTransforms=me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Je(this.target,this.layout.layoutBox),P0(this.target,this.targetDelta)):Je(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),cs(this.relativeTargetOrigin,this.target,g.target),Je(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qr&&kn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yl(this.parent.latestValues)||N0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ke.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Je(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;hk(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=me());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gh(this.prevProjectionDelta.x,this.projectionDelta.x),Gh(this.prevProjectionDelta.y,this.projectionDelta.y)),ls(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!rf(this.projectionDelta.x,this.prevProjectionDelta.x)||!rf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Qr&&kn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ar(),this.projectionDelta=ar(),this.projectionDeltaWithTransform=ar()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=ar();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=me(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,k=this.getStack(),m=!k||k.members.length<=1,p=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(Xk));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const b=j/1e3;lf(d.x,o.x,b),lf(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qk(this.relativeTarget,this.relativeTargetOrigin,f,b),w&&Ak(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=me()),Je(w,this.relativeTarget)),y&&(this.animationValues=h,Tk(h,u,this.latestValues,b,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Ai.hasAnimatedSinceResize=!0,this.currentAnimation=jk(0,sf,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&O0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||me();const d=Ge(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=Ge(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Je(l,c),lr(l,h),ls(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Lk),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Eo("z",o,u,this.animationValues);for(let h=0;h<Mo.length;h++)Eo(`rotate${Mo[h]}`,o,u,this.animationValues),Eo(`skew${Mo[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Fk;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Di(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Di(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!jn(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Ok(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ua){if(f[y]===void 0)continue;const{correct:k,applyTo:m}=ua[y],p=u.transform==="none"?f[y]:k(f[y],d);if(m){const w=m.length;for(let j=0;j<w;j++)u[m[j]]=p}else u[y]=p}return this.options.layoutId&&(u.pointerEvents=d===this?Di(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(af),this.root.sharedNodes.clear()}}}function Vk(e){e.updateLayout()}function zk(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Ze(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],g=Ge(f);f.min=r[d].min,f.max=f.min+g}):O0(a,n.layoutBox,r)&&Ze(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],g=Ge(r[d]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const l=ar();ls(l,r,n.layoutBox);const c=ar();o?ls(c,e.applyTransform(s,!0),n.measuredBox):ls(c,r,n.layoutBox);const u=!D0(l);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:g}=d;if(f&&g){const x=me();cs(x,n.layoutBox,f.layoutBox);const y=me();cs(y,r,g.layoutBox),R0(x,y)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Bk(e){Qr&&kn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Uk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $k(e){e.clearSnapshot()}function af(e){e.clearMeasurements()}function Hk(e){e.isLayoutDirty=!1}function Kk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function of(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wk(e){e.resolveTargetDelta()}function Yk(e){e.calcProjection()}function qk(e){e.resetSkewAndRotation()}function Gk(e){e.removeLeadSnapshot()}function lf(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cf(e,t,n,r){e.min=le(t.min,n.min,r),e.max=le(t.max,n.max,r)}function Qk(e,t,n,r){cf(e.x,t.x,n.x,r),cf(e.y,t.y,n.y,r)}function Xk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Jk={duration:.45,ease:[.4,0,.1,1]},uf=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),df=uf("applewebkit/")&&!uf("chrome/")?Math.round:Ye;function hf(e){e.min=df(e.min),e.max=df(e.max)}function Zk(e){hf(e.x),hf(e.y)}function O0(e,t,n){return e==="position"||e==="preserve-aspect"&&!nk(nf(t),nf(n),.2)}function e2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const t2=L0({attachResizeListener:(e,t)=>Os(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_o={current:void 0},F0=L0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_o.current){const e=new t2({});e.mount(window),e.setOptions({layoutScroll:!0}),_o.current=e}return _o.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),n2={pan:{Feature:yk},drag:{Feature:xk,ProjectionNode:F0,MeasureLayout:M0}};function ff(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&re.postRender(()=>a(t,Gs(t)))}class r2 extends xn{mount(){const{current:t}=this.node;t&&(this.unmount=rb(t,n=>(ff(this.node,n,"Start"),r=>ff(this.node,r,"End"))))}unmount(){}}class s2 extends xn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qs(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mf(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&re.postRender(()=>a(t,Gs(t)))}class i2 extends xn{mount(){const{current:t}=this.node;t&&(this.unmount=ob(t,n=>(mf(this.node,n,"Start"),(r,{success:s})=>mf(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gl=new WeakMap,Do=new WeakMap,a2=e=>{const t=Gl.get(e.target);t&&t(e)},o2=e=>{e.forEach(a2)};function l2({root:e,...t}){const n=e||document;Do.has(n)||Do.set(n,{});const r=Do.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(o2,{root:e,...t})),r[s]}function c2(e,t,n){const r=l2(t);return Gl.set(e,n),r.observe(e),()=>{Gl.delete(e),r.unobserve(e)}}const u2={some:0,all:1};class d2 extends xn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:u2[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(c)};return c2(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(h2(t,n))&&this.startObserver()}unmount(){}}function h2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const f2={inView:{Feature:d2},tap:{Feature:i2},focus:{Feature:s2},hover:{Feature:r2}},m2={layout:{ProjectionNode:F0,MeasureLayout:M0}},Ql={current:null},I0={current:!1};function p2(){if(I0.current=!0,!!Xc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ql.current=e.matches;e.addListener(t),t()}else Ql.current=!1}const g2=[...c0,Te,dn],x2=e=>g2.find(l0(e)),pf=new WeakMap;function y2(e,t,n){for(const r in t){const s=t[r],a=n[r];if(Ee(s))e.addValue(r,s);else if(Ee(a))e.addValue(r,As(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,As(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const gf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Su,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Nt.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,re.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=za(n),this.isVariantNode=xg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const x=f[g];c[g]!==void 0&&Ee(x)&&x.set(c[g],!1)}}mount(t){this.current=t,pf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),I0.current||p2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ql.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pf.delete(this.current),this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Un.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nr){const n=Nr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gf.length;r++){const s=gf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=y2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=As(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(a0(s)||Xg(s))?s=parseFloat(s):!x2(s)&&dn.test(n)&&(s=r0(t,n)),this.setBaseTarget(t,Ee(s)?s.get():s)),Ee(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=su(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ee(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class V0 extends v2{constructor(){super(...arguments),this.KeyframeResolver=u0}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ee(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function w2(e){return window.getComputedStyle(e)}class b2 extends V0{constructor(){super(...arguments),this.type="html",this.renderInstance=Pg}readValueFromInstance(t,n){if(Un.has(n)){const r=ku(n);return r&&r.default||0}else{const r=w2(t),s=(kg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return C0(t,n)}build(t,n,r){ou(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return du(t,n,r)}}class j2 extends V0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=me}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Un.has(n)){const r=ku(n);return r&&r.default||0}return n=Cg.has(n)?n:tu(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Eg(t,n,r)}build(t,n,r){lu(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){Tg(t,n,r,s)}mount(t){this.isSVGTag=uu(t.tagName),super.mount(t)}}const k2=(e,t)=>ru(e)?new j2(t):new b2(t,{allowProjection:e!==v.Fragment}),S2=Qw({...Yj,...f2,...n2,...m2},k2),L=dw(S2),N2=()=>{const{currentPunches:e,incrementPunches:t}=at(),n=()=>{t()};return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs(L.div,{className:"text-4xl font-bold mb-4 text-karate-orange font-comic",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.3},children:[e," 👊"]},e),i.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-24 h-24 bg-karate-orange rounded-full flex items-center justify-center text-white shadow-lg hover:bg-karate-orangeDark transition-colors border-4 border-karate-orangeLight",onClick:n,children:i.jsx("span",{className:"text-5xl font-bold",children:"+"})})]})},P2=()=>{const{currentKicks:e,incrementKicks:t}=at(),n=()=>{t()};return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs(L.div,{className:"text-4xl font-bold mb-4 text-karate-blue font-comic",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.3},children:[e," 🦵"]},e),i.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-24 h-24 bg-karate-blue rounded-full flex items-center justify-center text-white shadow-lg hover:bg-karate-blueDark transition-colors border-4 border-karate-blueLight",onClick:n,children:i.jsx("span",{className:"text-2xl font-bold font-comic",children:"KICK"})})]})},C2=()=>{const{currentKatas:e,addKata:t,kataList:n,kataObjects:r}=at(),s=Aa(),[a,o]=v.useState(n[0]||"Heian Shodan"),[l,c]=v.useState(1);v.useEffect(()=>{n.length>0&&!n.includes(a)&&o(n[0])},[n,a]);const u=()=>{t(a,l),c(1)},h=()=>{c(g=>g+1)},d=()=>{c(g=>g>1?g-1:1)},f=()=>{const g=r.find(x=>x.name===a);g&&s(`/kata/${g.id}`)};return i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"mb-4",children:i.jsx("select",{className:"w-full p-3 border-2 border-karate-blueLight rounded-xl text-lg focus:border-karate-blue focus:ring focus:ring-karate-lightBlue focus:ring-opacity-50 font-comic bg-white shadow-md",value:a,onChange:g=>o(g.target.value),children:n.length>0?n.map((g,x)=>i.jsxs("option",{value:g,children:["🥋 ",g]},`kata-option-${x}`)):i.jsx("option",{value:"Heian Shodan",children:"🥋 Heian Shodan"})})}),i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-12 h-12 bg-karate-orange rounded-full flex items-center justify-center text-white shadow-lg border-2 border-karate-orangeLight",onClick:d,children:i.jsx("span",{className:"text-xl font-bold",children:"-"})}),i.jsxs("div",{className:"mx-4 text-2xl font-bold text-karate-blue font-comic",children:[l," ",l===1?"time":"times"," 🔢"]}),i.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-12 h-12 bg-karate-orange rounded-full flex items-center justify-center text-white shadow-lg border-2 border-karate-orangeLight",onClick:h,children:i.jsx("span",{className:"text-xl font-bold",children:"+"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-karate-blue text-white py-3 px-4 rounded-xl font-bold hover:bg-karate-blueDark transition-colors shadow-lg border-2 border-karate-blueLight font-comic",onClick:u,children:"🥋 Add Kata"}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-karate-green text-white py-2 px-4 rounded-xl font-medium hover:bg-karate-greenDark transition-colors shadow-lg border-2 border-karate-greenLight font-comic",onClick:f,children:"📖 View Steps & Details"}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-gradient-to-r from-karate-orange to-karate-blue text-white py-2 px-4 rounded-xl font-medium hover:from-karate-orangeDark hover:to-karate-blueDark transition-colors shadow-lg border-2 border-white font-comic",onClick:()=>s("/kata-reference"),children:"📚 Browse All Kata"})]}),e.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-semibold mb-2 text-karate-blue font-comic",children:"Today's Katas: 🎯"}),i.jsx("ul",{className:"bg-karate-lightBlue rounded-xl p-3 border-2 border-karate-blueLight",children:e.map((g,x)=>i.jsxs(L.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"py-2 border-b border-karate-blueLight last:border-0 text-karate-darkText font-comic",children:["🥋 ",g.name," x",g.repetitions]},`current-kata-${g.name}-${x}`))})]})]})},T2=()=>{const[e,t]=v.useState("punch"),{incrementTechnique:n,getTechniqueCount:r}=at(),s=Xp.filter(o=>o.category===e),a=o=>{n(o.id)};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:M1.map(o=>i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(o.id),className:`flex items-center px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap ${e===o.id?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx("span",{className:"mr-2",children:o.icon}),o.label]},o.id))}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.map(o=>i.jsxs(L.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-md p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-blue-900",children:o.name}),i.jsx("p",{className:"text-sm text-gray-600 italic",children:o.japaneseName})]}),i.jsxs("span",{className:"bg-orange-100 text-orange-800 text-xs font-bold px-2 py-1 rounded-full",children:[o.points," pts"]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-900",children:r(o.id)}),i.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(o),className:"bg-orange-500 text-white w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold shadow-md hover:bg-orange-600 transition-colors",children:"+"})]})]},o.id))})]})},M2=({seconds:e})=>{const t=l=>{const c=Math.floor(l/60),u=l%60;return`${c}:${u.toString().padStart(2,"0")}`},r=2*Math.PI*40,s=60*60,a=Math.min(e/s,1),o=r*(1-a);return i.jsx("div",{className:"flex flex-col items-center",children:i.jsxs("div",{className:"relative w-32 h-32",children:[i.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[i.jsx("circle",{cx:"50",cy:"50",r:40,stroke:"#e2e8f0",strokeWidth:"8",fill:"none"}),i.jsx(L.circle,{cx:"50",cy:"50",r:40,stroke:"#2ECC71",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:o,transform:"rotate(-90 50 50)",initial:{strokeDashoffset:r},animate:{strokeDashoffset:o},transition:{duration:.5}})]}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center",children:i.jsx("span",{className:"text-2xl font-bold text-blue-900",children:t(e)})})]})})},E2=({message:e})=>i.jsx(L.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.5},className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 my-4 rounded-lg",children:i.jsx("p",{className:"text-lg font-bold text-center text-yellow-800",style:{fontFamily:"Comic Sans MS, cursive"},children:e})}),_2=()=>{const{savedCombinations:e,activeSession:t,currentSessionMoves:n,practiceProgress:r,startMovementSession:s,endMovementSession:a,getDisplayName:o,getSessionData:l}=Yc(),[c,u]=v.useState([]),[h,d]=v.useState(0),[f,g]=v.useState(""),x=l(),y=async()=>{if(c.length>0)try{await s(c),d(0)}catch(N){console.error("Failed to start session:",N)}},k=async()=>{if(t)try{await a(t.session_id,f),u([]),d(0),g("")}catch(N){console.error("Failed to end session:",N)}},m=()=>{h<n.length-1&&d(h+1)},p=()=>{h>0&&d(h-1)},w=()=>n[h],j=()=>n.length===0?0:(h+1)/n.length*100;if(!t)return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(la,{className:"text-blue-600",size:20}),i.jsx("h4",{className:"text-md font-semibold text-blue-800",children:"Movement Combinations"})]}),e.length===0?i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[i.jsx("p",{className:"text-blue-700 text-sm",children:"No movement combinations available."}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Visit the Movement Tracker to create combinations!"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:e.map(N=>i.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-blue-50 rounded-lg cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:c.includes(N.combination_id),onChange:C=>{C.target.checked?u([...c,N.combination_id]):u(c.filter(S=>S!==N.combination_id))},className:"rounded border-blue-300 text-blue-600 focus:ring-blue-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:N.name}),i.jsxs("p",{className:"text-xs text-blue-600",children:[N.moves.length," moves × ",N.repeat_count]})]}),i.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["×",N.repeat_count]})]},N.combination_id))}),i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,disabled:c.length===0,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[i.jsx(_s,{size:18}),i.jsx("span",{children:"Start Movement Session"})]})]})]});const b=w();return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(la,{className:"text-green-600",size:20}),i.jsx("h4",{className:"text-md font-semibold text-green-800",children:"Movement Session Active"})]}),i.jsxs("div",{className:"text-xs text-green-600",children:[x.combinations," combinations • ",x.moves," moves"]})]}),i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("h3",{className:"text-lg font-bold text-green-800 mb-1",children:b?o(b.type,b.name):"No moves"}),b&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-green-600 font-medium capitalize mb-1",children:b.type}),i.jsx("p",{className:"text-xs text-gray-600",children:b.description})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[i.jsxs("span",{children:["Move ",h+1," of ",n.length]}),i.jsxs("span",{children:[Math.round(j()),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx(L.div,{initial:{width:0},animate:{width:`${j()}%`},className:"bg-orange-500 h-2 rounded-full transition-all duration-300"})})]}),i.jsxs("div",{className:"flex justify-center space-x-2 mb-3",children:[i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,disabled:h===0,className:"flex items-center space-x-1 px-3 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[i.jsx(og,{size:14}),i.jsx("span",{children:"Previous"})]}),i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:h===n.length-1,className:"flex items-center space-x-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[i.jsx("span",{children:"Next"}),i.jsx(lg,{size:14})]})]}),b&&i.jsx("div",{className:"text-center mb-3",children:i.jsx("span",{className:"inline-flex items-center space-x-1 bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:i.jsxs("span",{children:["Hold for ",b.duration_seconds,"s"]})})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[i.jsxs("div",{className:"bg-white border border-green-200 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-xs text-green-600",children:"Combinations"}),i.jsx("p",{className:"text-sm font-bold text-green-800",children:x.combinations})]}),i.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-xs text-blue-600",children:"Total Moves"}),i.jsx("p",{className:"text-sm font-bold text-blue-800",children:x.moves})]}),i.jsxs("div",{className:"bg-white border border-orange-200 rounded-lg p-2 text-center",children:[i.jsx("p",{className:"text-xs text-orange-600",children:"Time"}),i.jsxs("p",{className:"text-sm font-bold text-orange-800",children:[Math.floor(x.sessionTime/60),":",(x.sessionTime%60).toString().padStart(2,"0")]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Session Notes (optional)"}),i.jsx("textarea",{value:f,onChange:N=>g(N.target.value),placeholder:"How did this session go?",rows:2,className:"w-full p-2 border border-gray-300 rounded-lg text-xs focus:ring-2 focus:ring-blue-500"})]}),i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[i.jsx(ng,{size:18}),i.jsx("span",{children:"Complete Movement Session"})]})]})};var Li={linear:function(e,t,n,r){var s=n-t;return s*e/r+t},easeInQuad:function(e,t,n,r){var s=n-t;return s*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var s=n-t;return-s*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var s=n-t;return s*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var s=n-t;return-s*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e*e+t:-s/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var s=n-t;return s*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var s=n-t;return s*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?s/2*e*e*e*e*e+t:s/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var s=n-t;return-s*Math.cos(e/r*(Math.PI/2))+s+t},easeOutSine:function(e,t,n,r){var s=n-t;return s*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var s=n-t;return-s/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var s=n-t;return e==0?t:s*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var s=n-t;return e==r?t+s:s*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var s=n-t;return e===0?t:e===r?t+s:(e/=r/2)<1?s/2*Math.pow(2,10*(e-1))+t:s/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var s=n-t;return-s*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var s=n-t;return s*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var s=n-t;return(e/=r/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+t:s/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var s=n-t,a,o,l;return l=1.70158,o=0,a=s,e===0?t:(e/=r)===1?t+s:(o||(o=r*.3),a<Math.abs(s)?(a=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,r){var s=n-t,a,o,l;return l=1.70158,o=0,a=s,e===0?t:(e/=r)===1?t+s:(o||(o=r*.3),a<Math.abs(s)?(a=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/a),a*Math.pow(2,-10*e)*Math.sin((e*r-l)*(2*Math.PI)/o)+s+t)},easeInOutElastic:function(e,t,n,r){var s=n-t,a,o,l;return l=1.70158,o=0,a=s,e===0?t:(e/=r/2)===2?t+s:(o||(o=r*(.3*1.5)),a<Math.abs(s)?(a=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/o))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-l)*(2*Math.PI)/o)*.5+s+t)},easeInBack:function(e,t,n,r,s){var a=n-t;return s===void 0&&(s=1.70158),a*(e/=r)*e*((s+1)*e-s)+t},easeOutBack:function(e,t,n,r,s){var a=n-t;return s===void 0&&(s=1.70158),a*((e=e/r-1)*e*((s+1)*e+s)+1)+t},easeInOutBack:function(e,t,n,r,s){var a=n-t;return s===void 0&&(s=1.70158),(e/=r/2)<1?a/2*(e*e*(((s*=1.525)+1)*e-s))+t:a/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t},easeInBounce:function(e,t,n,r){var s=n-t,a;return a=Li.easeOutBounce(r-e,0,s,r),s-a+t},easeOutBounce:function(e,t,n,r){var s=n-t;return(e/=r)<1/2.75?s*(7.5625*e*e)+t:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+t:s*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,r){var s=n-t,a;return e<r/2?(a=Li.easeInBounce(e*2,0,s,r),a*.5+t):(a=Li.easeOutBounce(e*2-r,0,s,r),a*.5+s*.5+t)}},D2=Li;function R2(e){return e*Math.PI/180}function $e(e,t){return e+Math.random()*(t-e)}function A2(e,t){return Math.floor(e+Math.random()*(t-e+1))}var us;(function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"})(us||(us={}));var Kt;(function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"})(Kt||(Kt={}));const L2=1e3/60;class O2{constructor(t,n,r,s){this.getOptions=n;const{colors:a,initialVelocityX:o,initialVelocityY:l}=this.getOptions();this.context=t,this.x=r,this.y=s,this.w=$e(5,20),this.h=$e(5,20),this.radius=$e(5,10),this.vx=typeof o=="number"?$e(-o,o):$e(o.min,o.max),this.vy=typeof l=="number"?$e(-l,0):$e(l.min,l.max),this.shape=A2(0,2),this.angle=R2($e(0,360)),this.angularSpin=$e(-.2,.2),this.color=a[Math.floor(Math.random()*a.length)],this.rotateY=$e(0,1),this.rotationDirection=$e(0,1)?Kt.Positive:Kt.Negative}update(t){const{gravity:n,wind:r,friction:s,opacity:a,drawShape:o}=this.getOptions(),l=t/L2;this.x+=this.vx*l,this.y+=this.vy*l,this.vy+=n*l,this.vx+=r*l,this.vx*=s**l,this.vy*=s**l,this.rotateY>=1&&this.rotationDirection===Kt.Positive?this.rotationDirection=Kt.Negative:this.rotateY<=-1&&this.rotationDirection===Kt.Negative&&(this.rotationDirection=Kt.Positive);const c=.1*this.rotationDirection*l;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case us.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case us.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case us.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class F2{constructor(t,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=$e(this.x,this.w+this.x),a=$e(this.y,this.h+this.y);return new O2(this.context,this.getOptions,s,a)},this.animate=s=>{const{canvas:a,context:o,particlesGenerated:l,lastNumberOfPieces:c}=this,{run:u,recycle:h,numberOfPieces:d,debug:f,tweenFunction:g,tweenDuration:x}=this.getOptions();if(!u)return!1;const y=this.particles.length,k=h?y:l;if(k<d){c!==d&&(this.tweenProgress=0,this.tweenFrom=k,this.lastNumberOfPieces=d),this.tweenProgress=Math.min(x,Math.max(0,this.tweenProgress+s));const m=g(this.tweenProgress,this.tweenFrom,d,x),p=Math.round(m-k);for(let w=0;w<p;w++)this.particles.push(this.getParticle());this.particlesGenerated+=p}f&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${y}`,a.width-10,a.height-20));for(let m=this.particles.length-1;m>=0;m--){const p=this.particles[m];p.update(s),(p.y>a.height||p.y<-100||p.x>a.width+100||p.x<-100)&&(h&&k<=d?this.particles[m]=this.getParticle():this.removeParticleAt(m))}return y>0||k<d},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const Tu={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:D2.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class I2{constructor(t,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const a={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...a,...Tu,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:a,onConfettiComplete:o,frameRate:l},canvas:c,context:u}=this,h=Math.min(s-this.lastFrameTime,50);if(l&&h<1e3/l){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(l?h%l:0),a&&(u.fillStyle="white",u.clearRect(0,0,c.width,c.height)),this.generator.animate(h)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new F2(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(t){var s,a;const n=(s=this._options)==null?void 0:s.run,r=(a=this._options)==null?void 0:a.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&n===!1&&this.update()}}const V2=Dn.createRef();class Mu extends Dn.Component{constructor(t){super(t),this.canvas=Dn.createRef(),this.canvas=t.canvasRef||V2}componentDidMount(){if(this.canvas.current){const t=Ro(this.props)[0];this.confetti=new I2(this.canvas.current,t)}}componentDidUpdate(){const t=Ro(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,n]=Ro(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return i.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...n,style:r})}}Mu.defaultProps={...Tu};Mu.displayName="ReactConfetti";function Ro(e){const t={},n={},r={},s=[...Object.keys(Tu),"confettiSource","drawShape","onConfettiComplete","frameRate"],a=["canvasRef"];for(const o in e){const l=e[o];s.includes(o)?t[o]=l:a.includes(o)?a[o]=l:r[o]=l}return[t,r,n]}const z2=Dn.forwardRef((e,t)=>i.jsx(Mu,{canvasRef:t,...e})),B2=()=>{const{currentPunches:e,currentKicks:t,currentKatas:n,sessionTimer:r,isSessionActive:s,startSession:a,endSession:o}=at(),{updateRewardProgress:l}=Ks(),[c,u]=v.useState(!1),[h,d]=v.useState(0),[f,g]=v.useState(!1),[x,y]=v.useState(""),[k,m]=v.useState("basic"),p=()=>{a()},w=async()=>{try{const b=await o();d(b),l(b),u(!0),g(!0);const N=Xt.motivationalMessages,C=N[Math.floor(Math.random()*N.length)];y(C),setTimeout(()=>{u(!1)},5e3)}catch(b){console.error("Error finishing practice session:",b),d(0),g(!0)}},j=()=>{g(!1)};return f?i.jsxs("div",{className:"relative",children:[c&&i.jsx(z2,{width:window.innerWidth,height:window.innerHeight,recycle:!1}),i.jsxs(L.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-center mb-4 text-blue-700",style:{fontFamily:"Comic Sans MS, cursive"},children:"Practice Complete!"}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs(L.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},className:"text-5xl font-bold text-orange-500 mb-2",children:["+",h]}),i.jsx("p",{className:"text-lg text-blue-700",children:"Points Earned"})]}),i.jsx(E2,{message:x}),i.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-700",children:"Punches"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:e})]}),i.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-700",children:"Kicks"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:t})]}),i.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-700",children:"Katas"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:n.length})]}),i.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg col-span-3",children:[i.jsx("p",{className:"text-sm text-blue-700",children:"Practice Time"}),i.jsxs("p",{className:"text-xl font-bold text-blue-800",children:[Math.floor(r/60),"m ",r%60,"s"]})]})]}),i.jsx("button",{onClick:j,className:"w-full mt-6 bg-orange-500 text-white py-3 px-4 rounded-lg text-lg font-bold hover:bg-orange-600 transition-colors shadow-md",children:"Start New Practice"})]})]}):i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-700",style:{fontFamily:"Comic Sans MS, cursive"},children:"Today's Practice"}),s?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex space-x-1 mb-6",children:[i.jsx("button",{onClick:()=>m("basic"),className:`flex-1 py-2 px-2 rounded-lg font-bold text-xs transition-colors ${k==="basic"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-100"}`,children:"Basic"}),i.jsx("button",{onClick:()=>m("advanced"),className:`flex-1 py-2 px-2 rounded-lg font-bold text-xs transition-colors ${k==="advanced"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-100"}`,children:"Advanced"}),i.jsx("button",{onClick:()=>m("movements"),className:`flex-1 py-2 px-2 rounded-lg font-bold text-xs transition-colors ${k==="movements"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-100"}`,children:"Movements"})]}),k==="basic"?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Punch & Kick Counter"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(N2,{}),i.jsx(P2,{})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Kata Practice"}),i.jsx(C2,{})]})]}):k==="advanced"?i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Technique Practice"}),i.jsx(T2,{})]}):i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Movement Combinations"}),i.jsx(_2,{})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-700",children:"Practice Timer"}),i.jsx(M2,{seconds:r})]}),i.jsx("button",{onClick:w,className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg text-lg font-bold hover:bg-orange-600 transition-colors shadow-md",children:"Finish Practice"})]}):i.jsx("div",{className:"flex justify-center",children:i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-orange-500 text-white py-4 px-8 rounded-lg text-xl font-bold hover:bg-orange-600 transition-colors shadow-md",onClick:p,children:"Start Practice"})})]})},U2=()=>{const{totalPoints:e,currentStreak:t}=at();return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-900",style:{fontFamily:"Comic Sans MS, cursive"},children:"Your Progress"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs(L.div,{whileHover:{scale:1.03},className:"bg-blue-100 rounded-xl p-4 flex flex-col items-center justify-center",children:[i.jsx(jr,{size:36,className:"text-orange-500 mb-2"}),i.jsx("span",{className:"text-sm text-blue-800",children:"Total Points"}),i.jsx(L.span,{className:"text-2xl font-bold text-blue-900",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.5},children:e},e)]}),i.jsxs(L.div,{whileHover:{scale:1.03},className:"bg-orange-100 rounded-xl p-4 flex flex-col items-center justify-center",children:[i.jsx(z1,{size:36,className:"text-orange-500 mb-2"}),i.jsx("span",{className:"text-sm text-blue-800",children:"Practice Streak"}),i.jsxs(L.span,{className:"text-2xl font-bold text-blue-900",initial:{scale:1},animate:{scale:[1,1.2,1]},transition:{duration:.5},children:[t," days"]},t)]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Belt Level"}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"500 pts"})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:i.jsx(L.div,{className:"bg-orange-500 h-4 rounded-full",initial:{width:0},animate:{width:`${Math.min(e/500*100,100)}%`},transition:{duration:1}})}),i.jsxs("div",{className:"text-xs text-right mt-1 text-blue-700",children:[e," / 500 points"]})]})]})},$2=()=>{const{pendingRewards:e,approvedRewards:t}=Ks(),n=Aa(),r=s=>i.jsx(_l,{size:24,className:"text-orange-500"});return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-900",style:{fontFamily:"Comic Sans MS, cursive"},children:"Your Rewards"}),t.length>0||e.length>0?i.jsxs("div",{className:"space-y-4",children:[t.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-green-600",children:"Ready to Use"}),t.map(s=>i.jsxs(L.div,{whileHover:{scale:1.02},className:"bg-green-100 rounded-lg p-3 mb-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:r(s.icon)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-green-800",children:s.name}),i.jsxs("p",{className:"text-xs text-green-600",children:[s.points," points"]})]})]}),i.jsx("span",{className:"text-green-600 font-bold text-xs uppercase",children:"Approved!"})]},s.id))]}),e.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-600",children:"Waiting for Approval"}),e.map(s=>i.jsxs(L.div,{whileHover:{scale:1.02},className:"bg-yellow-100 rounded-lg p-3 mb-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:r(s.icon)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-yellow-800",children:s.name}),i.jsxs("p",{className:"text-xs text-yellow-600",children:[s.points," points"]})]})]}),i.jsx("span",{className:"text-yellow-600 text-xs",children:"Waiting..."})]},s.id))]})]}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx(_l,{size:48,className:"mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-gray-500",children:"No rewards yet"})]}),i.jsxs(L.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>n("/rewards"),className:"w-full mt-4 py-3 bg-orange-500 text-white rounded-lg font-bold flex items-center justify-center hover:bg-orange-600 transition-colors",children:["See All Rewards",i.jsx(El,{size:20,className:"ml-1"})]})]})},H2=()=>{const{totalPunches:e,totalSessions:t,favoriteKata:n}=at();return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-2 border-karate-lightBlue",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-karate-blue font-comic",children:"Quick Stats 📊"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-karate-lightOrange rounded-xl p-4 flex items-center border-2 border-karate-orangeLight",children:[i.jsx("div",{className:"bg-karate-orange rounded-full p-3 mr-3 shadow-md",children:i.jsx(sg,{size:24,className:"text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-karate-darkText font-comic",children:"Total Punches 👊"}),i.jsx("p",{className:"text-2xl font-bold text-karate-orange font-comic",children:e})]})]}),i.jsxs("div",{className:"bg-karate-lightBlue rounded-xl p-4 flex items-center border-2 border-karate-blueLight",children:[i.jsx("div",{className:"bg-karate-blue rounded-full p-3 mr-3 shadow-md",children:i.jsx(La,{size:24,className:"text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-karate-darkText font-comic",children:"Total Sessions ⏱️"}),i.jsx("p",{className:"text-2xl font-bold text-karate-blue font-comic",children:t})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-karate-lightOrange to-karate-lightBlue rounded-xl p-4 flex items-center border-2 border-karate-greenLight",children:[i.jsx("div",{className:"bg-karate-green rounded-full p-3 mr-3 shadow-md",children:i.jsx(q1,{size:24,className:"text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-karate-darkText font-comic",children:"Favorite Kata 🏆"}),i.jsx("p",{className:"text-lg font-bold text-karate-green font-comic",children:n})]})]})]})]})},z0=()=>{const{user:e}=Pt(),[t,n]=v.useState(null),[r,s]=v.useState(!0),[a,o]=v.useState("overview"),[l,c]=v.useState(!1);v.useEffect(()=>{e!=null&&e.id&&u()},[e==null?void 0:e.id]);const u=async()=>{if(e!=null&&e.id)try{s(!0);const[m,p]=await Promise.all([ae.getDashboardAnalytics(e.id),ae.getRecentActivity(e.id,15)]);m&&n({stats:m.stats||d(),topKatas:m.topKatas||[],recentActivity:(p==null?void 0:p.activities)||[],progressTrend:m.progressTrend||[]})}catch(m){console.error("Failed to fetch dashboard analytics:",m),n(f())}finally{s(!1)}},h=async()=>{c(!0),await u(),c(!1)},d=()=>({totalKatasPracticed:0,totalSessions:0,totalRepetitions:0,totalPracticeMinutes:0,averageRating:0,currentStreak:0,totalPoints:0,masteredKatas:0,favoriteKata:"",lastPracticeDate:""}),f=()=>({stats:{totalKatasPracticed:8,totalSessions:24,totalRepetitions:156,totalPracticeMinutes:720,averageRating:7.8,currentStreak:5,totalPoints:1240,masteredKatas:2,favoriteKata:"Heian Shodan",lastPracticeDate:new Date().toISOString()},topKatas:[{kataId:"1",kataName:"Heian Shodan",totalRepetitions:45,masteryPercentage:85,mastered:!0,lastPracticed:new Date(Date.now()-864e5).toISOString()},{kataId:"2",kataName:"Heian Nidan",totalRepetitions:32,masteryPercentage:64,mastered:!1,lastPracticed:new Date(Date.now()-1728e5).toISOString()},{kataId:"3",kataName:"Tekki Shodan",totalRepetitions:28,masteryPercentage:56,mastered:!1,lastPracticed:new Date(Date.now()-2592e5).toISOString()}],recentActivity:[{id:"1",type:"kata_practice",activityName:"Heian Shodan Practice",description:"Completed 8 repetitions with focus on timing",timestamp:new Date(Date.now()-36e5).toISOString(),pointsEarned:40,icon:"🥋"},{id:"2",type:"achievement",activityName:"Consistency Master",description:"Practiced for 5 consecutive days",timestamp:new Date(Date.now()-72e5).toISOString(),pointsEarned:100,icon:"🏆"}],progressTrend:[{date:"2024-01-20",sessions:2,repetitions:15},{date:"2024-01-21",sessions:1,repetitions:8},{date:"2024-01-22",sessions:3,repetitions:22},{date:"2024-01-23",sessions:2,repetitions:18},{date:"2024-01-24",sessions:1,repetitions:12}]}),g=m=>{switch(m){case"katas":return"📚";case"sessions":return"🥋";case"repetitions":return"🔄";case"minutes":return"⏱️";case"rating":return"⭐";case"streak":return"🔥";case"points":return"💎";case"mastered":return"🏆";default:return"📊"}},x=m=>m>=1e3?(m/1e3).toFixed(1)+"K":m.toString(),y=m=>m?new Date(m).toLocaleDateString():"Never",k=m=>{const p=new Date(m),j=new Date().getTime()-p.getTime(),b=Math.floor(j/(1e3*60*60)),N=Math.floor(b/24);return b<1?"Just now":b<24?`${b}h ago`:N<7?`${N}d ago`:y(m)};return e?r?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),i.jsx("p",{className:"ml-3 text-gray-600",children:"Loading analytics..."})]}):t?i.jsxs("div",{className:"space-y-6","data-testid":"dashboard-analytics",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Your karate training analytics and progress"})]}),i.jsxs("button",{onClick:h,disabled:l,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2","data-testid":"refresh-button",children:[i.jsx("span",{className:l?"animate-spin":"",children:"🔄"}),"Refresh"]})]}),i.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:["overview","progress","activity"].map(m=>i.jsx("button",{onClick:()=>o(m),className:`flex-1 py-2 px-4 rounded-md font-medium transition-colors ${a===m?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,"data-testid":`tab-${m}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))}),i.jsxs(Fa,{mode:"wait",children:[a==="overview"&&i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-katas",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Katas Practiced"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.stats.totalKatasPracticed})]}),i.jsx("span",{className:"text-2xl",children:g("katas")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-sessions",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.stats.totalSessions})]}),i.jsx("span",{className:"text-2xl",children:g("sessions")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-repetitions",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Repetitions"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(t.stats.totalRepetitions)})]}),i.jsx("span",{className:"text-2xl",children:g("repetitions")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-points",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x(t.stats.totalPoints)})]}),i.jsx("span",{className:"text-2xl",children:g("points")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-streak",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Current Streak"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[t.stats.currentStreak," days"]})]}),i.jsx("span",{className:"text-2xl",children:g("streak")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-mastered",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Mastered"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.stats.masteredKatas})]}),i.jsx("span",{className:"text-2xl",children:g("mastered")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-rating",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(t.stats.averageRating||0).toFixed(1)})]}),i.jsx("span",{className:"text-2xl",children:g("rating")})]})}),i.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"stat-minutes",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Practice Time"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[Math.round(t.stats.totalPracticeMinutes/60),"h"]})]}),i.jsx("span",{className:"text-2xl",children:g("minutes")})]})})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 rounded-lg p-6 text-white",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Quick Insights"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100",children:"Favorite Kata"}),i.jsx("p",{className:"text-xl font-bold",children:t.stats.favoriteKata||"Not determined yet"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100",children:"Last Practice"}),i.jsx("p",{className:"text-xl font-bold",children:y(t.stats.lastPracticeDate)})]})]})]})]},"overview"),a==="progress"&&i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-lg border shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Top Practiced Katas"}),i.jsx("p",{className:"text-gray-600",children:"Your most practiced katas and progress levels"})]}),i.jsxs("div",{className:"p-6 space-y-4","data-testid":"top-katas-list",children:[t.topKatas.map((m,p)=>i.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:p+1}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:m.kataName}),m.mastered&&i.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"✅ Mastered"})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[i.jsxs("span",{children:[m.totalRepetitions," reps"]}),i.jsxs("span",{children:["Last: ",y(m.lastPracticed)]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[i.jsx("span",{children:"Mastery Progress"}),i.jsxs("span",{children:[m.masteryPercentage,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${m.masteryPercentage>=80?"bg-green-500":m.masteryPercentage>=60?"bg-blue-500":m.masteryPercentage>=40?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.min(m.masteryPercentage,100)}%`}})})]})]})]},m.kataId)),t.topKatas.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No practice data yet. Start practicing to see your progress!"})]})]})},"progress"),a==="activity"&&i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-lg border shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),i.jsx("p",{className:"text-gray-600",children:"Your latest training sessions and achievements"})]}),i.jsx("div",{className:"p-6","data-testid":"recent-activity-list",children:i.jsxs("div",{className:"space-y-4",children:[t.recentActivity.map(m=>i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-lg",children:m.icon})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:m.activityName}),i.jsx("span",{className:"text-sm text-gray-500",children:k(m.timestamp)})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description}),m.pointsEarned&&i.jsx("div",{className:"flex items-center mt-2",children:i.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",children:["+",m.pointsEarned," points"]})})]})]},m.id)),t.recentActivity.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No recent activity. Start practicing to see your activity feed!"})]})})]})},"activity")]})]}):i.jsxs("div",{className:"text-center p-8 text-gray-500",children:[i.jsx("p",{children:"Unable to load analytics data"}),i.jsx("button",{onClick:u,className:"mt-2 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Retry"})]}):i.jsx("div",{className:"text-center p-8 text-gray-500",children:i.jsx("p",{className:"text-lg",children:"Sign in to view your dashboard analytics"})})},K2=()=>{const{childName:e,user:t}=gn(),{savedCombinations:n,loading:r,error:s}=Yc();return console.log("🏠 KidDashboard - User state:",{childName:e,userId:t==null?void 0:t.id,userObject:t}),console.log("🏠 KidDashboard - MovementContext state:",{combinations:n.length,loading:r,error:s}),v.useEffect(()=>{document.title=`${e}'s Karate Practice`},[e]),i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsxs("h1",{className:"text-3xl font-bold text-karate-blue mb-6 font-comic",children:["Hi, ",e,"! 🥋"]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(B2,{}),i.jsx(U2,{}),i.jsx(z0,{}),i.jsx($2,{}),i.jsx(H2,{})]})]})};function gt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function In(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const B0=6048e5,W2=864e5;let Y2={};function $a(){return Y2}function Fs(e,t){var l,c,u,h;const n=$a(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=gt(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ga(e){return Fs(e,{weekStartsOn:1})}function U0(e){const t=gt(e),n=t.getFullYear(),r=In(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ga(r),a=In(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=ga(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function xf(e){const t=gt(e);return t.setHours(0,0,0,0),t}function yf(e){const t=gt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function q2(e,t){const n=xf(e),r=xf(t),s=+n-yf(n),a=+r-yf(r);return Math.round((s-a)/W2)}function G2(e){const t=U0(e),n=In(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ga(n)}function Q2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function X2(e){if(!Q2(e)&&typeof e!="number")return!1;const t=gt(e);return!isNaN(Number(t))}function J2(e){const t=gt(e),n=In(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Z2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eS=(e,t,n)=>{let r;const s=Z2[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ao(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const tS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sS={date:Ao({formats:tS,defaultWidth:"full"}),time:Ao({formats:nS,defaultWidth:"full"}),dateTime:Ao({formats:rS,defaultWidth:"full"})},iS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aS=(e,t,n,r)=>iS[e];function Ur(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const oS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fS=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mS={ordinalNumber:fS,era:Ur({values:oS,defaultWidth:"wide"}),quarter:Ur({values:lS,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ur({values:cS,defaultWidth:"wide"}),day:Ur({values:uS,defaultWidth:"wide"}),dayPeriod:Ur({values:dS,defaultWidth:"wide",formattingValues:hS,defaultFormattingWidth:"wide"})};function $r(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?gS(l,d=>d.test(o)):pS(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function pS(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function gS(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function xS(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const yS=/^(\d+)(th|st|nd|rd)?/i,vS=/\d+/i,wS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bS={any:[/^b/i,/^(a|c)/i]},jS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kS={any:[/1/i,/2/i,/3/i,/4/i]},SS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ES={ordinalNumber:xS({matchPattern:yS,parsePattern:vS,valueCallback:e=>parseInt(e,10)}),era:$r({matchPatterns:wS,defaultMatchWidth:"wide",parsePatterns:bS,defaultParseWidth:"any"}),quarter:$r({matchPatterns:jS,defaultMatchWidth:"wide",parsePatterns:kS,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$r({matchPatterns:SS,defaultMatchWidth:"wide",parsePatterns:NS,defaultParseWidth:"any"}),day:$r({matchPatterns:PS,defaultMatchWidth:"wide",parsePatterns:CS,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:TS,defaultMatchWidth:"any",parsePatterns:MS,defaultParseWidth:"any"})},_S={code:"en-US",formatDistance:eS,formatLong:sS,formatRelative:aS,localize:mS,match:ES,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DS(e){const t=gt(e);return q2(t,J2(t))+1}function RS(e){const t=gt(e),n=+ga(t)-+G2(t);return Math.round(n/B0)+1}function $0(e,t){var h,d,f,g;const n=gt(e),r=n.getFullYear(),s=$a(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=In(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Fs(o,t),c=In(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Fs(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function AS(e,t){var l,c,u,h;const n=$a(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=$0(e,t),a=In(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Fs(a,t)}function LS(e,t){const n=gt(e),r=+Fs(n,t)-+AS(n,t);return Math.round(r/B0)+1}function Q(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Bt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Q(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Q(n+1,2)},d(e,t){return Q(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Q(e.getHours()%12||12,t.length)},H(e,t){return Q(e.getHours(),t.length)},m(e,t){return Q(e.getMinutes(),t.length)},s(e,t){return Q(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Q(s,t.length)}},Kn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vf={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Bt.y(e,t)},Y:function(e,t,n,r){const s=$0(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Q(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Q(a,t.length)},R:function(e,t){const n=U0(e);return Q(n,t.length)},u:function(e,t){const n=e.getFullYear();return Q(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Q(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Q(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Bt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Q(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=LS(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Q(s,t.length)},I:function(e,t,n){const r=RS(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Q(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Bt.d(e,t)},D:function(e,t,n){const r=DS(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Q(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Q(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Q(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Q(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Kn.noon:r===0?s=Kn.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Kn.evening:r>=12?s=Kn.afternoon:r>=4?s=Kn.morning:s=Kn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Bt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Bt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Q(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Q(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Bt.s(e,t)},S:function(e,t){return Bt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return bf(r);case"XXXX":case"XX":return Sn(r);case"XXXXX":case"XXX":default:return Sn(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return bf(r);case"xxxx":case"xx":return Sn(r);case"xxxxx":case"xxx":default:return Sn(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wf(r,":");case"OOOO":default:return"GMT"+Sn(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wf(r,":");case"zzzz":default:return"GMT"+Sn(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Q(r,t.length)},T:function(e,t,n){const r=e.getTime();return Q(r,t.length)}};function wf(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+Q(a,2)}function bf(e,t){return e%60===0?(e>0?"-":"+")+Q(Math.abs(e)/60,2):Sn(e,t)}function Sn(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Q(Math.trunc(r/60),2),a=Q(r%60,2);return n+s+t+a}const jf=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},H0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},OS=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return jf(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",jf(r,t)).replace("{{time}}",H0(s,t))},FS={p:H0,P:OS},IS=/^D+$/,VS=/^Y+$/,zS=["D","DD","YY","YYYY"];function BS(e){return IS.test(e)}function US(e){return VS.test(e)}function $S(e,t,n){const r=HS(e,t,n);if(console.warn(r),zS.includes(e))throw new RangeError(r)}function HS(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YS=/^'([^]*?)'?$/,qS=/''/g,GS=/[a-zA-Z]/;function K0(e,t,n){var h,d,f,g;const r=$a(),s=r.locale??_S,a=r.firstWeekContainsDate??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,l=gt(e);if(!X2(l))throw new RangeError("Invalid time value");let c=t.match(WS).map(x=>{const y=x[0];if(y==="p"||y==="P"){const k=FS[y];return k(x,s.formatLong)}return x}).join("").match(KS).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const y=x[0];if(y==="'")return{isToken:!1,value:QS(x)};if(vf[y])return{isToken:!0,value:x};if(y.match(GS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const y=x.value;(US(y)||BS(y))&&$S(y,t,String(e));const k=vf[y[0]];return k(l,y,s.localize,u)}).join("")}function QS(e){const t=e.match(YS);return t?t[1].replace(qS,"'"):e}const XS=()=>{const{childName:e}=gn(),{totalPoints:t,totalSessions:n,totalPunches:r,recentSessions:s}=at(),{pendingRewards:a}=Ks();return v.useEffect(()=>{document.title=`Parent Dashboard - ${e}'s Karate Practice`},[e]),i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsxs("h1",{className:"text-2xl font-bold text-blue-700 mb-6",children:[e,"'s Karate Practice - Parent Dashboard"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-orange-100 p-3 rounded-full mr-4",children:i.jsx(jr,{size:24,className:"text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Points"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:t})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-orange-100 p-3 rounded-full mr-4",children:i.jsx(Es,{size:24,className:"text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Practice Sessions"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:n})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-orange-100 p-3 rounded-full mr-4",children:i.jsx(O1,{size:24,className:"text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Punches"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:r})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Pending Reward Approvals"}),i.jsxs("a",{href:"/rewards",className:"text-sm text-blue-600 hover:text-orange-600 flex items-center",children:["View All ",i.jsx(El,{size:16})]})]}),a.length>0?i.jsx("div",{className:"space-y-3",children:a.map(o=>i.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:o.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[o.points," points"]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"p-2 bg-green-100 text-green-700 rounded-full hover:bg-green-200",children:i.jsx(ng,{size:20})}),i.jsx("button",{className:"p-2 bg-red-100 text-red-700 rounded-full hover:bg-red-200",children:i.jsx(tg,{size:20})})]})]},o.id))}):i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending reward approvals"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Recent Practice Sessions"}),i.jsxs("a",{href:"/history",className:"text-sm text-blue-600 hover:text-orange-600 flex items-center",children:["View All ",i.jsx(El,{size:16})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Punches"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Katas"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(o=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:K0(new Date(o.date),"MMM d, yyyy")}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(La,{size:16,className:"mr-1 text-blue-500"}),o.duration," min"]})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:o.punches}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:o.katas.join(", ")}),i.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600",children:["+",o.pointsEarned]})]},o.id))})]})})]})]})},kf=({id:e,name:t,points:n,earned:r,approved:s,icon:a,progress:o=0})=>{const{isParentMode:l}=gn(),{totalPoints:c}=at(),{requestRewardApproval:u,approveReward:h,denyReward:d}=Ks(),[f,g]=v.useState(!1),x=()=>{g(!0),setTimeout(()=>{u(e),g(!1)},1e3)},y=()=>{h(e)},k=()=>{d(e)},m=c>=n&&!r;return i.jsxs(L.div,{whileHover:{y:-5},className:`bg-white rounded-xl shadow-md overflow-hidden ${s?"border-4 border-green-500":r?"border-4 border-yellow-500":""}`,children:[i.jsx("div",{className:`h-24 flex items-center justify-center ${r?"bg-yellow-400":"bg-blue-600"}`,children:i.jsx(_l,{size:48,className:"text-white"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-1",children:t}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-semibold text-orange-500",children:[n," points"]}),!r&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(B1,{size:14,className:"text-gray-400 mr-1"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Locked"})]}),r&&s&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Xd,{size:14,className:"text-green-600 mr-1"}),i.jsx("span",{className:"text-xs text-green-600",children:"Approved"})]}),r&&!s&&i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-xs text-yellow-600",children:"Pending"})})]}),!r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:i.jsx(L.div,{className:"bg-orange-500 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(o*100,100)}%`},transition:{duration:.8}})}),i.jsxs("div",{className:"text-xs text-right text-gray-500",children:[Math.round(o*100),"%"]})]}),!l&&i.jsxs("div",{className:"mt-3",children:[r&&!s&&i.jsx("button",{className:"w-full py-2 px-4 bg-yellow-500 text-white rounded-lg font-bold text-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:f,children:f?"Requested!":"Waiting for Parent"}),r&&s&&i.jsx("div",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg font-bold text-sm text-center",children:"Ready to Use!"}),m&&i.jsx("button",{onClick:x,className:"w-full py-2 px-4 bg-orange-500 text-white rounded-lg font-bold text-sm hover:bg-orange-600 transition-colors",children:"Get Reward"}),!r&&!m&&i.jsx("div",{className:"w-full py-2 px-4 bg-gray-300 text-gray-600 rounded-lg font-bold text-sm text-center",children:"Keep Practicing!"})]}),l&&r&&!s&&i.jsxs("div",{className:"mt-3 flex space-x-2",children:[i.jsxs("button",{onClick:y,className:"flex-1 py-2 bg-green-500 text-white rounded-lg font-bold text-sm hover:bg-green-600 transition-colors flex items-center justify-center",children:[i.jsx(Xd,{size:16,className:"mr-1"}),"Approve"]}),i.jsxs("button",{onClick:k,className:"flex-1 py-2 bg-red-500 text-white rounded-lg font-bold text-sm hover:bg-red-600 transition-colors flex items-center justify-center",children:[i.jsx(ug,{size:16,className:"mr-1"}),"Deny"]})]})]})]})},JS=()=>{const{isParentMode:e,childName:t}=gn(),{rewards:n,addCustomReward:r}=Ks(),{totalPoints:s}=at(),[a,o]=v.useState(!1),[l,c]=v.useState(""),[u,h]=v.useState(50),d=()=>{l.trim()&&u>0&&(r({name:l,points:u,icon:"gift"}),c(""),h(50),o(!1))},f=n.filter(x=>x.earned),g=n.filter(x=>!x.earned);return i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-blue-900",style:e?{}:{fontFamily:"Comic Sans MS, cursive"},children:e?`${t}'s Rewards`:"Your Rewards"}),e&&i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 text-white py-2 px-4 rounded-lg flex items-center",onClick:()=>o(!a),children:[i.jsx(Dl,{size:18,className:"mr-1"}),"Add Reward"]})]}),e&&a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:"Add New Reward"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reward Name"}),i.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Ice Cream Treat"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points Required"}),i.jsx("input",{type:"number",value:u,onChange:x=>h(parseInt(x.target.value)||0),min:"1",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>o(!1),className:"py-2 px-4 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{onClick:d,className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:!l.trim()||u<=0,children:"Add Reward"})]})]})]}),!e&&i.jsxs("div",{className:"bg-orange-100 rounded-lg p-4 mb-6 flex items-center",children:[i.jsx("div",{className:"bg-orange-200 rounded-full p-2 mr-3",children:i.jsx("span",{className:"text-xl font-bold text-orange-600",children:"🏆"})}),i.jsx("div",{children:i.jsxs("p",{className:"text-orange-800",children:["You have ",i.jsxs("span",{className:"font-bold",children:[s," points"]})," to spend on rewards!"]})})]}),f.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:e?"Earned Rewards":"Your Earned Rewards"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:f.map(x=>i.jsx(kf,{...x},x.id))})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:e?"Available Rewards":"Rewards to Earn"}),g.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:g.map(x=>i.jsx(kf,{...x},x.id))}):i.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-gray-500",children:"No rewards available yet"})})]})]})},ZS=()=>{const{isParentMode:e,childName:t}=gn(),{recentSessions:n,totalSessions:r,totalPoints:s}=at(),a=o=>`${Math.floor(o/60)} min`;return i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-6",style:e?{}:{fontFamily:"Comic Sans MS, cursive"},children:e?`${t}'s Practice History`:"Your Practice History"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs(L.div,{whileHover:{y:-5},className:"bg-blue-100 rounded-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-blue-200 rounded-full p-3 mr-4",children:i.jsx(Es,{size:24,className:"text-blue-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Sessions"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r})]})]}),i.jsxs(L.div,{whileHover:{y:-5},className:"bg-orange-100 rounded-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-orange-200 rounded-full p-3 mr-4",children:i.jsx(jr,{size:24,className:"text-orange-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Total Points Earned"}),i.jsx("p",{className:"text-2xl font-bold text-orange-900",children:s})]})]}),i.jsxs(L.div,{whileHover:{y:-5},className:"bg-green-100 rounded-lg p-4 flex items-center",children:[i.jsx("div",{className:"bg-green-200 rounded-full p-3 mr-4",children:i.jsx(La,{size:24,className:"text-green-700"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-800",children:"Practice Streak"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:"4 days"})]})]})]}),!e&&i.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",style:{fontFamily:"Comic Sans MS, cursive"},children:"Your Achievements"}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs(L.div,{whileHover:{rotate:5},className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mb-2",children:i.jsx(sg,{size:32,className:"text-white"})}),i.jsx("span",{className:"text-xs text-center font-medium",children:"1000+ Punches"})]}),i.jsxs(L.div,{whileHover:{rotate:5},className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mb-2",children:i.jsx(Es,{size:32,className:"text-white"})}),i.jsx("span",{className:"text-xs text-center font-medium",children:"20+ Sessions"})]}),i.jsxs(L.div,{whileHover:{rotate:5},className:"flex flex-col items-center opacity-50",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-400 rounded-full flex items-center justify-center mb-2",children:i.jsx(jr,{size:32,className:"text-white"})}),i.jsx("span",{className:"text-xs text-center font-medium",children:"300+ Points"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[i.jsx("div",{className:"p-6 pb-0",children:i.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:e?"Practice Sessions":"Your Practices"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsx("div",{className:"inline-block min-w-full",children:i.jsx("div",{className:"overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Punches"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Katas"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(o=>i.jsxs(L.tr,{whileHover:{backgroundColor:"rgba(243, 244, 246, 0.5)"},children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:K0(new Date(o.date),"MMM d, yyyy")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:a(o.duration)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:o.punches})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-500",children:o.katas.join(", ")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:["+",o.pointsEarned]})})]},o.id))})]})})})})]})]})},eN=()=>{const{childName:e,setChildName:t,childAvatar:n,setChildAvatar:r}=gn(),[s,a]=v.useState(e),[o,l]=v.useState(!0),[c,u]=v.useState(!0),[h,d]=v.useState(50),f=()=>{t(s),alert("Settings saved successfully!")};return i.jsxs("div",{className:"max-w-screen-lg mx-auto",children:[i.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-6",children:"Settings"}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"flex",children:i.jsx("button",{className:"px-6 py-4 text-sm font-medium text-blue-600 border-b-2 border-blue-600 focus:outline-none",children:"General Settings"})})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[i.jsx(cg,{size:20,className:"mr-2 text-blue-600"}),"Child Profile"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"childName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Child's Name"}),i.jsx("input",{type:"text",id:"childName",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:s,onChange:g=>a(g.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar"}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:["ninja-boy","ninja-girl","karate-kid","sensei"].map(g=>i.jsxs("div",{className:`p-2 border rounded-md cursor-pointer ${n===g?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>r(g),children:[i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full mx-auto flex items-center justify-center",children:g.split("-")[0].charAt(0).toUpperCase()}),i.jsx("p",{className:"text-xs text-center mt-1",children:g.replace("-"," ")})]},g))})]})]})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[i.jsx(F1,{size:20,className:"mr-2 text-blue-600"}),"Notification Settings"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Practice Reminders"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send daily reminders to practice"})]}),i.jsxs("div",{className:"relative inline-block w-12 h-6 rounded-full",children:[i.jsx("input",{type:"checkbox",id:"toggle-practice",className:"sr-only",checked:o,onChange:()=>l(!o)}),i.jsx("label",{htmlFor:"toggle-practice",className:`absolute inset-0 rounded-full cursor-pointer transition-colors ${o?"bg-blue-600":"bg-gray-300"}`,children:i.jsx("span",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${o?"transform translate-x-6":""}`})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Reward Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Notify when new rewards are available"})]}),i.jsxs("div",{className:"relative inline-block w-12 h-6 rounded-full",children:[i.jsx("input",{type:"checkbox",id:"toggle-rewards",className:"sr-only",checked:!0,onChange:()=>{}}),i.jsx("label",{htmlFor:"toggle-rewards",className:"absolute inset-0 bg-blue-600 rounded-full cursor-pointer",children:i.jsx("span",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transform translate-x-6"})})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[i.jsx(ag,{size:20,className:"mr-2 text-blue-600"}),"Reward Settings"]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"pointThreshold",className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Points for Small Rewards"}),i.jsx("input",{type:"number",id:"pointThreshold",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:h,onChange:g=>d(parseInt(g.target.value)||0),min:"10"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This sets the minimum point threshold for small rewards like ice cream"})]})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[i.jsx(W1,{size:20,className:"mr-2 text-blue-600"}),"Parental Controls"]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Require Approval for Rewards"}),i.jsx("p",{className:"text-xs text-gray-500",children:"All rewards require parent approval before redemption"})]}),i.jsxs("div",{className:"relative inline-block w-12 h-6 rounded-full",children:[i.jsx("input",{type:"checkbox",id:"toggle-parental",className:"sr-only",checked:c,onChange:()=>u(!c)}),i.jsx("label",{htmlFor:"toggle-parental",className:`absolute inset-0 rounded-full cursor-pointer transition-colors ${c?"bg-blue-600":"bg-gray-300"}`,children:i.jsx("span",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${c?"transform translate-x-6":""}`})})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:f,className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Save Changes"})})]})})]})]})},tN=({userId:e,onDateClick:t})=>{const[n,r]=v.useState(new Date),[s,a]=v.useState([]),[o,l]=v.useState(!0),c=n.getFullYear(),u=n.getMonth();v.useEffect(()=>{h()},[c,u,e]);const h=async()=>{l(!0);try{const b=await ae.getCalendarData(e,c.toString(),(u+1).toString());a(b.calendar_data||[])}catch(b){console.error("Failed to load calendar data:",b)}finally{l(!1)}},d=(b,N)=>new Date(b,N+1,0).getDate(),f=(b,N)=>new Date(b,N,1).getDay(),g=b=>`${c}-${String(u+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`,x=b=>s.find(N=>N.date===b),y=b=>{r(N=>{const C=new Date(N);return b==="prev"?C.setMonth(N.getMonth()-1):C.setMonth(N.getMonth()+1),C})},k=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=d(c,u),w=f(c,u),j=[];for(let b=0;b<w;b++)j.push(null);for(let b=1;b<=p;b++)j.push(b);return o?i.jsx("div",{className:"text-center p-4",children:"Loading calendar..."}):i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>y("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"←"}),i.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[k[u]," ",c]}),i.jsx("button",{onClick:()=>y("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"→"})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:m.map(b=>i.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:b},b))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:j.map((b,N)=>{if(b===null)return i.jsx("div",{className:"h-16"},N);const C=g(b),S=x(C),T=S&&S.sessions>0,P=new Date().toDateString()===new Date(c,u,b).toDateString();return i.jsxs("div",{onClick:()=>t&&t(C),className:`
                h-16 border rounded-lg p-1 cursor-pointer transition-all hover:shadow-md
                ${P?"border-blue-500 bg-blue-50":"border-gray-200"}
                ${T?"bg-green-50 border-green-300":"hover:bg-gray-50"}
              `,children:[i.jsx("div",{className:"text-sm font-medium text-gray-800",children:b}),T&&i.jsxs("div",{className:"mt-1",children:[i.jsxs("div",{className:"text-xs text-green-600 font-medium",children:[S.total_points," pts"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[S.sessions," session",S.sessions!==1?"s":""]})]})]},b)})}),i.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-50 border border-blue-500 rounded mr-2"}),i.jsx("span",{children:"Today"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-4 h-4 bg-green-50 border border-green-300 rounded mr-2"}),i.jsx("span",{children:"Practice Day"})]})]})]})},nN=()=>{const{user:e}=Pt(),[t,n]=v.useState(null),[r,s]=v.useState([]),[a,o]=v.useState([]),[l,c]=v.useState(!1),[u,h]=v.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),d=(e==null?void 0:e.id)||"guest";v.useEffect(()=>{f()},[u]),v.useEffect(()=>{t&&g(t)},[t]);const f=async()=>{c(!0);try{const m=await ae.getPointsAudit(d,u.startDate,u.endDate);s(m.audit_entries||[])}catch(m){console.error("Failed to load audit data:",m)}finally{c(!1)}},g=async m=>{try{const p=await ae.getPracticeHistory(d,1,10,m);o(p.practice_history||[])}catch(p){console.error("Failed to load practice history:",p)}},x=m=>{n(m)},y=m=>new Date(m).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),k=()=>r.reduce((m,p)=>m+p.points_earned,0);return i.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practice Calendar & Points Audit"}),i.jsx("p",{className:"text-gray-600",children:"Track your earned points and practice history"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k()}),i.jsx("div",{className:"text-gray-600",children:"Total Points (Last 30 days)"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.length}),i.jsx("div",{className:"text-gray-600",children:"Practice Activities"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(r.map(m=>m.earned_date)).size}),i.jsx("div",{className:"text-gray-600",children:"Active Days"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{children:i.jsx(tN,{userId:d,onDateClick:x})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filter by Date Range"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx("input",{type:"date",value:u.startDate,onChange:m=>h(p=>({...p,startDate:m.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),i.jsx("input",{type:"date",value:u.endDate,onChange:m=>h(p=>({...p,endDate:m.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]})]}),t&&i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Practice Details - ",y(t)]}),a.length>0?i.jsx("div",{className:"space-y-4",children:a.map(m=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"font-medium text-gray-900",children:["Session ",m.session_id.slice(-6)]}),i.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["+",m.points_earned," points"]})]}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[i.jsxs("div",{children:["Duration: ",m.duration_minutes," minutes"]}),m.punches>0&&i.jsxs("div",{children:["Punches: ",m.punches]}),m.kicks>0&&i.jsxs("div",{children:["Kicks: ",m.kicks]}),m.katas.length>0&&i.jsxs("div",{children:["Katas: ",m.katas.map(p=>`${p.name} x${p.repetitions}`).join(", ")]}),m.notes&&i.jsxs("div",{children:["Notes: ",m.notes]})]})]},m.session_id))}):i.jsx("p",{className:"text-gray-500",children:"No practice sessions found for this date."})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Points Audit Trail"}),l?i.jsx("p",{className:"text-gray-500",children:"Loading..."}):r.length>0?i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:r.map(m=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-900",children:m.activity_name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[m.activity_count," × ",m.session_type]}),i.jsx("div",{className:"text-xs text-gray-500",children:m.points_calculation}),i.jsx("div",{className:"text-xs text-gray-400",children:y(m.earned_date)})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+",m.points_earned]})})]})},m.id))}):i.jsx("p",{className:"text-gray-500",children:"No points audit entries found for the selected period."})]})]})]})]})})},rN=()=>{const{signInWithGoogle:e,signInWithEmail:t,loading:n}=Pt(),[r,s]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,h]=v.useState(""),[d,f]=v.useState(!1),g=async y=>{y.preventDefault(),h("");try{await t(r,a,l)}catch(k){h(k instanceof Error?k.message:"Sign in failed")}},x=async()=>{h("");try{await e()}catch(y){h(y instanceof Error?y.message:"Google sign in failed")}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-orange-500/10"}),i.jsx("div",{className:"relative z-10",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mb-4",children:i.jsx("span",{className:"text-6xl",children:"🥋"})}),i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent mb-2",style:{fontFamily:"Comic Sans MS, cursive"},children:"KataMaster"}),i.jsx("p",{className:"text-blue-700",children:"Track your karate journey!"})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-6",children:l?"Create Account":"Welcome Back"}),u&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:u}),i.jsxs("button",{onClick:x,disabled:n,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 mb-4 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n?"Signing in...":"Continue with Google"]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",id:"email",value:r,onChange:y=>s(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:y=>o(y.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0,minLength:6}),i.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:d?i.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L8.464 8.464m1.414 1.414L18.536 7.05M14.12 14.12l4.243 4.243m-4.243-4.243L18.536 7.05"})}):i.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.543 7-1.275 4.057-5.065 7-9.543 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-orange-500 text-white py-3 rounded-lg font-medium hover:from-blue-700 hover:to-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Processing...":l?"Create Account":"Sign In"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>c(!l),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:l?"Already have an account? Sign in":"Don't have an account? Sign up"})}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-blue-800 text-center mb-2",children:i.jsx("strong",{children:"Quick Demo Login:"})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>{s("demo@katamaster.com"),o("demo123"),c(!1)},className:"flex-1 bg-blue-500 text-white text-xs py-2 px-3 rounded hover:bg-blue-600 transition-colors",children:"Use Demo Account"}),i.jsx("button",{type:"button",onClick:()=>{s("testuser@example.com"),o("testpass123"),c(!1)},className:"flex-1 bg-green-500 text-white text-xs py-2 px-3 rounded hover:bg-green-600 transition-colors",children:"Use Test Account"})]}),i.jsx("p",{className:"text-xs text-gray-600 text-center mt-2",children:"Click either button to auto-fill credentials"})]})]}),i.jsxs("div",{className:"text-center mt-8 text-blue-700 text-sm",children:[i.jsx("p",{children:"Built for young karate practitioners"}),i.jsx("p",{className:"mt-1",children:"🥋 Practice • Progress • Achieve 🏆"})]})]})})]})},W0=({kataId:e,kataName:t,isOpen:n,onClose:r})=>{const[s,a]=v.useState(!1),[o,l]=v.useState(100);if(!n)return null;const c=`http://192.168.68.138:8083/katas/${u(e)}`;function u(m){return{"heian-shodan":"01_Heian_Shodan.pdf","heian-nidan":"02_Heian_Nidan.pdf","heian-sandan":"03_Heian_Sandan.pdf","heian-yondan":"04_Heian_Yondan.pdf","heian-godan":"05_Heian_Godan.pdf","tekki-shodan":"06_Tekki_Shodan.pdf","tekki-nidan":"07_Tekki_Nidan.pdf","tekki-sandan":"08_Tekki_Sandan.pdf","bassai-dai":"09_Bassai_Dai.pdf","kanku-dai":"11_Kanku_Dai.pdf",jion:"13_Jion.pdf",jitte:"14_Jitte.pdf"}[m.toLowerCase()]||"01_Heian_Shodan.pdf"}const h=()=>{const m=document.createElement("a");m.href=c,m.download=`${t.replace(/\s+/g,"_")}_Instructions.pdf`,document.body.appendChild(m),m.click(),document.body.removeChild(m)},d=()=>{l(m=>Math.min(m+25,200))},f=()=>{l(m=>Math.max(m-25,50))},g=()=>{l(100)},x=()=>{a(!s)},y=s?"fixed inset-0 z-50 bg-gray-900":"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75",k=s?"w-full h-full flex flex-col":"bg-white rounded-lg shadow-xl max-w-6xl max-h-[90vh] w-full flex flex-col";return i.jsx("div",{className:y,onClick:r,children:i.jsxs("div",{className:k,onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white rounded-t-lg",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:"Kata Instructions & Techniques"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:f,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Zoom Out",children:i.jsx(J1,{size:20})}),i.jsxs("span",{onClick:g,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded cursor-pointer hover:bg-gray-200",title:"Click to reset zoom",children:[o,"%"]}),i.jsx("button",{onClick:d,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Zoom In",children:i.jsx(X1,{size:20})}),i.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),i.jsx("button",{onClick:h,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Download PDF",children:i.jsx(rg,{size:20})}),i.jsx("button",{onClick:x,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:s?"Exit Fullscreen":"Fullscreen",children:s?i.jsx(H1,{size:20}):i.jsx($1,{size:20})}),i.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",title:"Close",children:i.jsx(ug,{size:20})})]})]}),i.jsx("div",{className:"flex-1 bg-gray-100 overflow-hidden",children:i.jsx("div",{className:"w-full h-full overflow-auto",children:i.jsx("div",{className:"flex justify-center items-start min-h-full p-4",style:{zoom:`${o}%`},children:i.jsx("iframe",{src:c,className:"w-full h-[800px] border-0 bg-white shadow-lg",title:`${t} Instructions`,style:{minHeight:"800px"}})})})}),i.jsx("div",{className:"p-3 border-t bg-gray-50 rounded-b-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Use scroll wheel or zoom controls to adjust view"}),i.jsx("span",{children:"Press ESC to close"})]})})]})})},Y0=(e,t)=>{Dn.useEffect(()=>{const n=r=>{r.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}},[e,t])},sN=()=>{const{kataId:e}=Jv(),t=Aa(),[n,r]=v.useState(null),[s,a]=v.useState(!0),[o,l]=v.useState(""),[c,u]=v.useState(0),[h,d]=v.useState({isOpen:!1,kataId:"",kataName:""});v.useEffect(()=>{(async()=>{if(!e){l("No kata ID provided"),a(!1);return}try{console.log("Loading kata detail for ID:",e);const y=await ae.getKataDetail(e);console.log("Kata detail loaded:",y),r(y)}catch(y){console.error("Failed to load kata detail:",y),l("Failed to load kata details")}finally{a(!1)}})()},[e]);const f=(x,y)=>{d({isOpen:!0,kataId:x,kataName:y})},g=()=>{d({isOpen:!1,kataId:"",kataName:""})};return Y0(h.isOpen,g),s?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-orange-500 flex items-center justify-center",children:i.jsx("div",{className:"text-white text-xl",children:"Loading kata details..."})}):o||!n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-orange-500 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-white text-xl mb-4",children:o||"Kata not found"}),i.jsx("button",{onClick:()=>t("/"),className:"bg-white text-blue-800 px-6 py-2 rounded-lg font-bold hover:bg-gray-100 transition-colors",children:"Back to Dashboard"})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-orange-500 p-4",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>t("/"),className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition-colors",children:"← Back to Dashboard"}),i.jsx("h1",{className:"text-3xl font-bold text-white text-center flex-1",children:n.name}),i.jsx("div",{className:"w-32"})," "]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Kata Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Style:"}),i.jsx("span",{className:"ml-2 text-gray-800",children:n.style})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Belt Level:"}),i.jsx("span",{className:"ml-2 text-gray-800",children:n.belt_level})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Movements:"}),i.jsx("span",{className:"ml-2 text-gray-800",children:n.movements})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Description:"}),i.jsx("p",{className:"mt-1 text-gray-800",children:n.description})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"Meaning:"}),i.jsx("p",{className:"mt-1 text-gray-800",children:n.meaning})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-600",children:"History:"}),i.jsx("p",{className:"mt-1 text-gray-800",children:n.history})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"font-semibold text-gray-600 mb-2",children:"Key Focus Points:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.key_focus_points.map((x,y)=>i.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:x},y))})]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("button",{onClick:()=>f(n.id,n.name),className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg font-bold hover:bg-purple-700 transition-colors text-center",children:"📄 View Instructions PDF"}),n.video_url&&i.jsx("a",{href:n.video_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg font-bold hover:bg-red-600 transition-colors text-center block",children:"📹 Watch Video Tutorial"})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Kata Steps (",n.steps.length," steps)"]}),n.steps.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.steps.map((x,y)=>i.jsxs("button",{onClick:()=>u(y),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c===y?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Step ",y+1]},y))}),i.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 bg-blue-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-blue-800",children:["Step ",c+1,n.steps[c].name&&` - ${n.steps[c].name}`]}),n.steps[c].japanese_name&&i.jsx("span",{className:"text-sm text-blue-600 italic",children:n.steps[c].japanese_name})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:n.steps[c].image_url?i.jsx("img",{src:n.steps[c].image_url,alt:`Step ${c+1}`,className:"max-w-full max-h-64 mx-auto rounded-lg"}):i.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-2",children:"🥋"}),i.jsx("div",{children:"Image coming soon"})]})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description:"}),i.jsx("p",{className:"text-gray-800 mb-4",children:n.steps[c].description||"No description available"}),n.steps[c].focus_points&&i.jsxs(i.Fragment,{children:[i.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Focus Points:"}),i.jsx("p",{className:"text-gray-800",children:n.steps[c].focus_points})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx("button",{onClick:()=>u(Math.max(0,c-1)),disabled:c===0,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"← Previous Step"}),i.jsxs("span",{className:"px-4 py-2 text-gray-600",children:[c+1," of ",n.steps.length]}),i.jsx("button",{onClick:()=>u(Math.min(n.steps.length-1,c+1)),disabled:c===n.steps.length-1,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Step →"})]})]})]}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🥋"}),i.jsx("p",{children:"Step-by-step instructions coming soon!"}),i.jsx("p",{className:"text-sm mt-2",children:"This kata is available for practice, but detailed steps are being prepared."})]})]})})]})]}),i.jsx(W0,{kataId:h.kataId,kataName:h.kataName,isOpen:h.isOpen,onClose:g})]})},iN=[{id:"heian-shodan",name:"Heian Shodan",style:"Shotokan",difficulty:"beginner",url:"https://www.youtube.com/watch?v=heian-shodan",description:"First kata in the Heian series, teaches basic stances and techniques",movements:21,beltLevel:"9th Kyu",meaning:"Peaceful Mind First",keyTechniques:["Gedan Barai","Oi-zuki","Age-uke","Tettsui-uchi"],practiceTime:"3-5 minutes",origin:"Okinawan Pinan Shodan, modified by Gichin Funakoshi"},{id:"heian-nidan",name:"Heian Nidan",style:"Shotokan",difficulty:"beginner",url:"https://www.youtube.com/watch?v=heian-nidan",description:"Second kata in the Heian series, introduces side kicks and hand techniques",movements:26,beltLevel:"8th Kyu",meaning:"Peaceful Mind Second",keyTechniques:["Yoko-geri","Shuto-uke","Nukite","Uraken-uchi"],practiceTime:"4-6 minutes",origin:"Okinawan Pinan Nidan, emphasizes balance and timing"},{id:"heian-sandan",name:"Heian Sandan",style:"Shotokan",difficulty:"beginner",url:"https://www.youtube.com/watch?v=heian-sandan",description:"Third Heian kata, introduces multiple blocking techniques",movements:20,beltLevel:"7th Kyu",meaning:"Peaceful Mind Third",keyTechniques:["Morote-uke","Empi-uchi","Yama-zuki","Kosa-dachi"],practiceTime:"3-5 minutes",origin:"Features unique double-hand techniques and elbow strikes"},{id:"heian-yondan",name:"Heian Yondan",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=heian-yondan",description:"Fourth Heian kata, features kicks and complex combinations",movements:27,beltLevel:"6th Kyu",meaning:"Peaceful Mind Fourth",keyTechniques:["Mae-geri","Hiza-geri","Kakiwake-uke","Kagi-zuki"],practiceTime:"5-7 minutes",origin:"Introduces knee kicks and hook punches"},{id:"heian-godan",name:"Heian Godan",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=heian-godan",description:"Fifth Heian kata, includes jumping techniques and advanced timing",movements:23,beltLevel:"5th Kyu",meaning:"Peaceful Mind Fifth",keyTechniques:["Mikazuki-geri","Juji-uke","Yama-zuki","Tobi-mae-geri"],practiceTime:"4-6 minutes",origin:"Most complex of the Heian series, prepares for advanced kata"},{id:"tekki-shodan",name:"Tekki Shodan",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=tekki-shodan",description:"Horse stance kata, builds leg strength and teaches close-quarter fighting",movements:29,beltLevel:"3rd Kyu",meaning:"Iron Horse First",keyTechniques:["Kiba-dachi","Nami-ashi","Gedan-barai","Haiwan-uke"],practiceTime:"3-4 minutes",origin:"Originally called Naihanchi, performed entirely in horse stance"},{id:"tekki-nidan",name:"Tekki Nidan",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=tekki-nidan",description:"Second Tekki kata, continues horse stance training with more complex techniques",movements:24,beltLevel:"2nd Kyu",meaning:"Iron Horse Second",keyTechniques:["Kiba-dachi","Gedan-barai","Uchi-uke","Tettsui-uchi"],practiceTime:"3-4 minutes",origin:"Emphasizes power generation from stable base"},{id:"tekki-sandan",name:"Tekki Sandan",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=tekki-sandan",description:"Third Tekki kata, most complex of the iron horse series",movements:36,beltLevel:"1st Kyu",meaning:"Iron Horse Third",keyTechniques:["Kiba-dachi","Ura-zuki","Sukui-uke","Mae-geri"],practiceTime:"4-5 minutes",origin:"Tests mastery of horse stance with advanced combinations"},{id:"bassai-dai",name:"Bassai Dai",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=bassai-dai",description:"Storming the fortress, powerful kata emphasizing breaking through defenses",movements:42,beltLevel:"1st Kyu",meaning:"To Storm a Fortress - Major",keyTechniques:["Yama-zuki","Shuto-uke","Ura-zuki","Tetsui-otoshi"],practiceTime:"6-8 minutes",origin:"Ancient Okinawan kata, represents breaking through an enemy castle"},{id:"kanku-dai",name:"Kanku Dai",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=kanku-dai",description:"Viewing the sky, longest Shotokan kata with 65 movements",movements:65,beltLevel:"1st Dan",meaning:"To View the Sky - Major",keyTechniques:["Kanku-kamae","Tobi-yoko-geri","Sanchin-dachi","Juji-uke"],practiceTime:"8-10 minutes",origin:"Based on Kushanku, named after Chinese envoy who taught in Okinawa"},{id:"bassai-sho",name:"Bassai Sho",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=bassai-sho",description:"Minor version of Bassai, more refined and technical",movements:27,beltLevel:"2nd Dan",meaning:"To Storm a Fortress - Minor",keyTechniques:["Shuto-uke","Yama-zuki","Manji-uke","Gyaku-zuki"],practiceTime:"4-5 minutes",origin:"Shorter, more concentrated version of Bassai Dai"},{id:"kanku-sho",name:"Kanku Sho",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=kanku-sho",description:"Minor version of Kanku, faster and more dynamic",movements:48,beltLevel:"2nd Dan",meaning:"To View the Sky - Minor",keyTechniques:["Tobi-geri","Ura-zuki","Shuto-uke","Kanku-kamae"],practiceTime:"6-7 minutes",origin:"Faster variation emphasizing jumping techniques"},{id:"jion",name:"Jion",style:"Shotokan",difficulty:"intermediate",url:"https://www.youtube.com/watch?v=jion",description:"Named after Jion-ji temple, emphasizes strong basic techniques",movements:47,beltLevel:"1st Kyu",meaning:"Temple Sound/Mercy",keyTechniques:["Chudan-zuki","Gedan-barai","Oi-zuki","Gyaku-zuki"],practiceTime:"6-7 minutes",origin:"Named after a Buddhist temple, emphasizes fundamental techniques"},{id:"empi",name:"Empi",style:"Shotokan",difficulty:"advanced",url:"https://www.youtube.com/watch?v=empi",description:"Flying swallow, features light, quick movements and direction changes",movements:37,beltLevel:"1st Dan",meaning:"Flying Swallow",keyTechniques:["Tobi-yoko-geri","Empi-uchi","Shuto-uke","Uraken-uchi"],practiceTime:"5-6 minutes",origin:"Named for its swallow-like swift movements and changes of direction"}],aN={katas:iN},oN=({kataId:e,kataName:t,onPracticeRecord:n})=>{const{user:r}=Pt(),[s,a]=v.useState(null),[o,l]=v.useState(!0),[c,u]=v.useState(!1),[h,d]=v.useState({repetitions:1,notes:"",durationMinutes:30,selfRating:7.5}),[f,g]=v.useState(!1);v.useEffect(()=>{r!=null&&r.id&&x()},[r==null?void 0:r.id,e]);const x=async()=>{if(r!=null&&r.id)try{l(!0);const p=await ae.getKataProgress(r.id,e);p!=null&&p.progress&&a(p.progress)}catch(p){console.error("Failed to fetch kata progress:",p)}finally{l(!1)}},y=async p=>{if(p.preventDefault(),!(!(r!=null&&r.id)||f))try{g(!0),await ae.recordKataPractice({kataId:e,userId:r.id,repetitions:h.repetitions,notes:h.notes,durationMinutes:h.durationMinutes,selfRating:h.selfRating,focusAreas:["form","timing","power"]}),await x(),d({repetitions:1,notes:"",durationMinutes:30,selfRating:7.5}),u(!1),n==null||n()}catch(w){console.error("Failed to record practice:",w),alert("Failed to record practice session. Please try again.")}finally{g(!1)}},k=p=>p>=80?"text-green-600":p>=60?"text-blue-600":p>=40?"text-yellow-600":"text-gray-600",m=p=>p>=80?"bg-green-100 border-green-200":p>=60?"bg-blue-100 border-blue-200":p>=40?"bg-yellow-100 border-yellow-200":"bg-gray-100 border-gray-200";return r?o?i.jsxs("div",{className:"text-center p-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading progress..."})]}):i.jsxs("div",{className:"space-y-4",children:[s&&i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 rounded-lg border-2 ${m(s.masteryPercentage)}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium text-sm",children:"Progress Summary"}),s.mastered&&i.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"✅ Mastered"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Total Repetitions"}),i.jsx("p",{className:"font-semibold text-lg",children:s.totalRepetitions})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Sessions"}),i.jsx("p",{className:"font-semibold text-lg",children:s.totalPracticeSessions})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Practice Time"}),i.jsxs("p",{className:"font-semibold",children:[s.totalPracticeMinutes,"min"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Avg Rating"}),i.jsxs("p",{className:"font-semibold",children:[(s.averageRating||0).toFixed(1),"/10"]})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Mastery Level"}),i.jsxs("span",{className:`text-xs font-medium ${k(s.masteryPercentage)}`,children:[s.masteryPercentage,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${s.masteryPercentage>=80?"bg-green-500":s.masteryPercentage>=60?"bg-blue-500":s.masteryPercentage>=40?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.min(s.masteryPercentage,100)}%`}})})]}),i.jsxs("div",{className:"mt-3 p-2 bg-white/50 rounded border",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Next Goal:"}),i.jsx("p",{className:"text-xs font-medium",children:s.nextGoal})]}),s.lastPracticed&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last practiced: ",new Date(s.lastPracticed).toLocaleDateString()]})]}),c?i.jsxs(L.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},onSubmit:y,className:"space-y-3 p-4 bg-gray-50 rounded-lg border",children:[i.jsx("h4",{className:"font-medium text-sm mb-3",children:"Record Practice Session"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Repetitions"}),i.jsx("input",{type:"number",min:"1",max:"50",value:h.repetitions,onChange:p=>d(w=>({...w,repetitions:parseInt(p.target.value)||1})),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Duration (min)"}),i.jsx("input",{type:"number",min:"5",max:"180",value:h.durationMinutes,onChange:p=>d(w=>({...w,durationMinutes:parseInt(p.target.value)||30})),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Self Rating (1-10)"}),i.jsx("input",{type:"number",min:"1",max:"10",step:"0.5",value:h.selfRating,onChange:p=>d(w=>({...w,selfRating:parseFloat(p.target.value)||7.5})),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Notes (optional)"}),i.jsx("textarea",{value:h.notes,onChange:p=>d(w=>({...w,notes:p.target.value})),placeholder:"How did the practice go? Focus areas, improvements, challenges...",className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-purple-500 h-16 resize-none"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"submit",disabled:f,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Recording...":"Record Session"}),i.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-2 border border-gray-300 rounded text-sm text-gray-600 hover:bg-gray-50",children:"Cancel"})]})]}):i.jsx("button",{onClick:()=>u(!0),className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:i.jsx("span",{children:"📝 Record Practice"})})]}):i.jsx("div",{className:"text-center p-4 text-gray-500 text-sm",children:"Sign in to track your kata progress"})},lN=()=>{Pt();const[e,t]=v.useState(""),[n,r]=v.useState("all"),[s,a]=v.useState("all"),[o,l]=v.useState({}),[c,u]=v.useState({}),[h,d]=v.useState(!1),[f,g]=v.useState({isOpen:!1,kataId:"",kataName:""}),x=aN.katas,y=[...new Set(x.map(S=>S.style))],k=["beginner","intermediate","advanced"];v.useEffect(()=>{const S=localStorage.getItem("kata-favorites"),T=localStorage.getItem("kata-progress");if(S)try{l(JSON.parse(S))}catch(P){console.error("Error loading favorites:",P)}if(T)try{u(JSON.parse(T))}catch(P){console.error("Error loading practice status:",P)}},[]),v.useEffect(()=>{localStorage.setItem("kata-favorites",JSON.stringify(o))},[o]),v.useEffect(()=>{localStorage.setItem("kata-progress",JSON.stringify(c))},[c]);const m=v.useMemo(()=>x.filter(S=>{const T=S.name.toLowerCase().includes(e.toLowerCase())||S.description.toLowerCase().includes(e.toLowerCase()),P=n==="all"||S.style===n,R=s==="all"||S.difficulty===s,F=!h||o[S.id];return T&&P&&R&&F}),[x,e,n,s,h,o]),p=v.useMemo(()=>{const S={};return m.forEach(T=>{S[T.style]||(S[T.style]=[]),S[T.style].push(T)}),S},[m]),w=S=>{l(T=>({...T,[S]:!T[S]}))},j=S=>{window.open(S,"_blank","noopener,noreferrer")},b=(S,T)=>{g({isOpen:!0,kataId:S,kataName:T})},N=()=>{g({isOpen:!1,kataId:"",kataName:""})};Y0(f.isOpen,N);const C=S=>{switch(S){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"min-h-screen bg-white p-4",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-2",children:"Kata Reference"}),i.jsx("p",{className:"text-blue-600",children:"Explore traditional karate kata from different styles"})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Kata"}),i.jsx("input",{type:"text",placeholder:"Search by name or description...",value:e,onChange:S=>t(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Style"}),i.jsxs("select",{value:n,onChange:S=>r(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"All Styles"}),y.map(S=>i.jsx("option",{value:S,children:S},S))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),i.jsxs("select",{value:s,onChange:S=>a(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"All Levels"}),k.map(S=>i.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1)},S))]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:()=>d(!h),className:`w-full px-4 py-2 rounded-lg font-medium transition-colors ${h?"bg-red-500 text-white hover:bg-red-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["♥ ",h?"Show All":"Favorites Only"]})})]})}),i.jsx("div",{className:"text-center mb-6",children:i.jsxs("p",{className:"text-blue-600",children:["Showing ",m.length," kata",m.length!==1?"s":"",h&&" from your favorites"]})}),i.jsx("div",{className:"space-y-8",children:Object.entries(p).map(([S,T])=>i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:S}),i.jsxs("p",{className:"text-blue-100",children:[T.length," kata",T.length!==1?"s":""]})]}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.jsx(Fa,{children:T.map(P=>i.jsxs(L.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gray-50 rounded-xl p-5 hover:shadow-lg transition-all duration-200 border border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:P.name}),i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${C(P.difficulty)}`,children:P.difficulty.charAt(0).toUpperCase()+P.difficulty.slice(1)})]}),i.jsx("button",{onClick:()=>w(P.id),className:`text-2xl transition-transform hover:scale-110 ${o[P.id]?"text-red-500":"text-gray-400 hover:text-gray-600"}`,title:o[P.id]?"Remove from favorites":"Add to favorites",children:o[P.id]?"♥":"♡"})]}),i.jsxs("div",{className:"text-sm text-gray-600 mb-3 space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Belt Level:"})," ",P.beltLevel]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Movements:"})," ",P.movements]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Practice Time:"})," ",P.practiceTime]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Meaning:"})," ",P.meaning]})]}),i.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:P.description}),i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Key Techniques:"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[P.keyTechniques.slice(0,3).map((R,F)=>i.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:R},F)),P.keyTechniques.length>3&&i.jsxs("span",{className:"text-xs text-gray-400",children:["+",P.keyTechniques.length-3," more"]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsx(oN,{kataId:P.id,kataName:P.name,onPracticeRecord:()=>{console.log(`Practice recorded for ${P.name}`)}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{onClick:()=>b(P.id,P.name),className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:i.jsx("span",{children:"📄 View Instructions PDF"})}),i.jsx("button",{onClick:()=>j(P.url),className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:i.jsx("span",{children:"📹 Watch Video"})})]})]},P.id))})})})]},S))}),m.length===0&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md mx-auto",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🥋"}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Kata Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or filters"}),i.jsx("button",{onClick:()=>{t(""),r("all"),a("all"),d(!1)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]})}),i.jsx("div",{className:"mt-12 text-center",children:i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[i.jsx("p",{className:"text-blue-700 mb-2",children:"Kata reference data for traditional karate forms"}),i.jsx("p",{className:"text-blue-600 text-sm",children:"Comprehensive collection of kata instructions and techniques"})]})})]}),i.jsx(W0,{kataId:f.kataId,kataName:f.kataName,isOpen:f.isOpen,onClose:N})]})},Sf=()=>i.jsx(lN,{}),cN=()=>{const{user:e}=Pt(),{savedCombinations:t,moveCounters:n,activeSession:r,currentSessionMoves:s,addCombination:a,startMovementSession:o,endMovementSession:l,getDisplayName:c,practiceProgress:u}=Yc();if(console.log("🏃 MovementTrackerPage - Debug Info:"),console.log("👤 User:",(e==null?void 0:e.id)||"No user"),console.log("💾 Saved combinations:",t.length),console.log("📊 Move counters:",n.length),console.log("🎯 Active session:",!!r),console.log("🌐 Current hostname:",window.location.hostname),console.log("📍 Current URL:",window.location.href),!e)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full mx-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(la,{className:"mx-auto h-16 w-16 text-blue-600 mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Authentication Required"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access the Movement Tracker"}),i.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Go to Sign In"})]})})});const[h,d]=v.useState("builder"),[f]=v.useState({stance:[{name:"forward_stance",display_name:"Forward Stance",description:"Zenkutsu-dachi - weight forward, strong attacking position"},{name:"back_stance",display_name:"Back Stance",description:"Kokutsu-dachi - weight back, defensive position"},{name:"horse_stance",display_name:"Horse Stance",description:"Kiba-dachi - wide stable stance for strength"},{name:"cat_stance",display_name:"Cat Stance",description:"Neko-ashi-dachi - light front foot, defensive"},{name:"fighting_stance",display_name:"Fighting Stance",description:"Kamae - ready position for combat"},{name:"natural_stance",display_name:"Natural Stance",description:"Shizen-tai - relaxed natural position"}],direction:[{name:"move_forward",display_name:"Move Forward",description:"Step forward maintaining stance"},{name:"move_backward",display_name:"Move Backward",description:"Step backward maintaining stance"},{name:"move_left",display_name:"Move Left",description:"Step to the left side"},{name:"move_right",display_name:"Move Right",description:"Step to the right side"},{name:"turn_left",display_name:"Turn Left",description:"Pivot 90 degrees to the left"},{name:"turn_right",display_name:"Turn Right",description:"Pivot 90 degrees to the right"},{name:"turn_180",display_name:"Turn Around",description:"Pivot 180 degrees"}],technique:[{name:"punch",display_name:"Punch",description:"Oi-zuki - basic straight punch"},{name:"reverse_punch",display_name:"Reverse Punch",description:"Gyaku-zuki - opposite hand punch"},{name:"front_kick",display_name:"Front Kick",description:"Mae-geri - kick straight forward"},{name:"side_kick",display_name:"Side Kick",description:"Yoko-geri - kick to the side"},{name:"roundhouse_kick",display_name:"Roundhouse Kick",description:"Mawashi-geri - circular kick"},{name:"down_block",display_name:"Down Block",description:"Gedan-barai - block low attacks"},{name:"high_block",display_name:"High Block",description:"Age-uke - block high attacks"},{name:"inside_block",display_name:"Inside Block",description:"Uchi-uke - block from inside"},{name:"knife_hand_strike",display_name:"Knife Hand Strike",description:"Shuto-uchi - strike with knife hand"},{name:"elbow_strike",display_name:"Elbow Strike",description:"Empi-uchi - strike with elbow"}]}),[g,x]=v.useState([]),[y,k]=v.useState(0),[m,p]=v.useState("stance"),[w,j]=v.useState(""),[b,N]=v.useState(3),[C,S]=v.useState(""),[T,P]=v.useState(1),[R,F]=v.useState(""),[$,H]=v.useState([]),fe=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(D){const U=Math.random()*16|0;return(D=="x"?U:U&3|8).toString(16)}),xt=()=>{if(!w)return;const D=f[m].find(Oe=>Oe.name===w);if(!D)return;const U={move_id:fe(),type:m,name:w,description:D.description,duration_seconds:b};x([...g,U]),j("")},J=D=>{x(g.filter((U,Oe)=>Oe!==D))},E=async()=>{if(console.log("🎯 Save Combination clicked!"),console.log("📋 Combination name:",C),console.log("🎬 Current sequence length:",g.length),console.log("👤 User state:",e),!C||g.length===0){console.log("⚠️ Validation failed - missing name or moves");return}const D={combination_id:fe(),name:C,moves:[...g],repeat_count:T,created_at:new Date().toISOString()};console.log("📦 Combination to save:",D);try{console.log("🚀 Calling addCombination..."),await a(D),console.log("✅ Combination saved successfully!"),x([]),S(""),P(1)}catch(U){console.error("❌ Error saving combination:",U),alert(U instanceof Error?U.message:"Failed to save combination")}},_=async()=>{if($.length!==0)try{await o($)}catch(D){console.error("Failed to start session:",D)}},O=async()=>{if(r)try{await l(r.session_id,R),F(""),H([])}catch(D){console.error("Failed to end session:",D)}},W=()=>{u.currentMoveIndex<s.length-1&&k(y+1)},ee=()=>{y>0&&k(y-1)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-orange-500 text-white py-8",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(la,{size:48}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold",children:"Kata Movement Tracker"}),i.jsx("p",{className:"text-blue-100",children:"Build combinations, practice movements, and track your progress"})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"flex space-x-4 mb-8",children:[{id:"builder",label:"Movement Builder",icon:i.jsx(Dl,{size:20})},{id:"practice",label:"Practice Session",icon:i.jsx(_s,{size:20})},{id:"stats",label:"Statistics",icon:i.jsx(qd,{size:20})}].map(D=>i.jsxs("button",{onClick:()=>d(D.id),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all ${h===D.id?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-600 hover:bg-blue-50"}`,children:[D.icon,i.jsx("span",{children:D.label})]},D.id))}),h==="builder"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[i.jsx(Dl,{className:"mr-2",size:20}),"Build Combination"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Move Type"}),i.jsxs("select",{value:m,onChange:D=>{p(D.target.value),j("")},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"stance",children:"Stance"}),i.jsx("option",{value:"direction",children:"Direction"}),i.jsx("option",{value:"technique",children:"Technique"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Move"}),i.jsxs("select",{value:w,onChange:D=>j(D.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsxs("option",{value:"",children:["Select a ",m,"..."]}),f[m].map(D=>i.jsx("option",{value:D.name,title:D.description,children:D.display_name},D.name))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (seconds)"}),i.jsx("input",{type:"number",min:"1",max:"30",value:b,onChange:D=>N(Number(D.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsx("button",{onClick:xt,disabled:!w,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Move"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Current Sequence"}),i.jsx("button",{onClick:()=>x([]),className:"text-red-600 hover:text-red-700",disabled:g.length===0,children:i.jsx(Rl,{size:20})})]}),i.jsxs("div",{className:"space-y-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combination Name"}),i.jsx("input",{type:"text",value:C,onChange:D=>S(D.target.value),placeholder:"Enter combination name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Repeat Count"}),i.jsx("input",{type:"number",min:"1",max:"10",value:T,onChange:D=>P(Number(D.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:g.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No moves added yet"}):g.map((D,U)=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:U+1}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:c(D.type,D.name)}),i.jsxs("p",{className:"text-sm text-gray-500",children:[D.type," • ",D.duration_seconds,"s"]})]})]}),i.jsx("button",{onClick:()=>J(U),className:"text-red-600 hover:text-red-700",children:i.jsx(Rl,{size:16})})]},D.move_id))}),i.jsxs("button",{onClick:()=>E(),disabled:!C||g.length===0,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[i.jsx(ig,{size:20}),i.jsx("span",{children:"Save Combination"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Saved Combinations"}),i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No combinations saved yet"}):t.map(D=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h4",{className:"font-semibold",children:D.name}),i.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-sm font-medium",children:["×",D.repeat_count]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:D.moves.map((U,Oe)=>`${Oe+1}. ${c(U.type,U.name)}`).join(" → ")})]},D.combination_id))})]})]}),h==="practice"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[i.jsx(_s,{className:"mr-2",size:20}),"Practice Session"]}),r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Notes"}),i.jsx("textarea",{value:R,onChange:D=>F(D.target.value),placeholder:"Add notes about your practice session...",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsx("button",{onClick:async()=>{try{await O()}catch(D){console.error("Error ending session:",D)}},className:"w-full bg-red-600 text-white py-4 rounded-lg font-semibold hover:bg-red-700 transition-colors text-lg",children:"End Session"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Combinations to Practice"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:t.length===0?i.jsx("p",{className:"text-gray-500",children:"No combinations available. Create some combinations first."}):t.map(D=>i.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded",children:[i.jsx("input",{type:"checkbox",checked:$.includes(D.combination_id),onChange:U=>{U.target.checked?H([...$,D.combination_id]):H($.filter(Oe=>Oe!==D.combination_id))},className:"rounded border-gray-300 focus:ring-blue-500"}),i.jsxs("span",{children:[D.name," (×",D.repeat_count,")"]})]},D.combination_id))})]}),i.jsx("button",{onClick:()=>{try{_()}catch(D){console.error("Error starting session:",D)}},disabled:$.length===0,className:"w-full bg-green-600 text-white py-4 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg",children:"Start Session"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Current Move"}),i.jsx("div",{className:`min-h-48 flex flex-col items-center justify-center border-4 border-dashed rounded-xl p-8 transition-all ${r?"border-green-300 bg-green-50":"border-gray-300 bg-gray-50"}`,children:r?s.length>0?i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-600 mb-2",children:c(s[y].type,s[y].name)}),i.jsx("p",{className:"text-lg text-blue-500 mb-2",children:s[y].type}),i.jsx("p",{className:"text-gray-600 mb-4",children:s[y].description}),i.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[i.jsxs("button",{onClick:ee,disabled:y===0,className:"flex items-center space-x-2 px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(og,{size:20}),i.jsx("span",{children:"Previous"})]}),i.jsxs("button",{onClick:W,disabled:y===s.length-1,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("span",{children:"Next"}),i.jsx(lg,{size:20})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${(y+1)/s.length*100}%`}})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Current Move"}),i.jsxs("p",{children:[y+1," / ",s.length]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Progress"}),i.jsxs("p",{children:[Math.round((y+1)/s.length*100),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Duration"}),i.jsxs("p",{children:[s[y].duration_seconds,"s"]})]})]})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl text-gray-500",children:"Session started"}),i.jsx("p",{className:"text-gray-400",children:"No moves in selected combinations"})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl text-gray-500 mb-2",children:"No active session"}),i.jsx("p",{className:"text-gray-400",children:"Start a session to begin practicing"})]})})]})]}),h==="stats"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[i.jsx(qd,{className:"mr-2",size:20}),"Summary Statistics"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Total Combinations"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.length})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Moves Practiced"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.reduce((D,U)=>D+U.total_count,0)})]}),i.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Most Practiced"}),i.jsx("p",{className:"text-lg font-bold text-orange-600",children:n.length>0?c("direction",n.reduce((D,U)=>U.total_count>D.total_count?U:D).move_name):"-"})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Available Moves"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.stance.length+f.direction.length+f.technique.length})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Movement Statistics"}),i.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:n.length===0?i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No movement data yet. Complete some practice sessions to see statistics."}):n.map(D=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h4",{className:"font-semibold",children:c("direction",D.move_name)}),i.jsx("span",{className:"text-lg font-bold text-blue-600",children:D.total_count})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{children:["Forward: ",D.forward_count]}),i.jsxs("div",{children:["Backward: ",D.backward_count]})]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last updated: ",new Date(D.last_updated).toLocaleDateString()]})]},D.move_name))})]})]})]})]})},uN=()=>i.jsx(dg,{children:i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx(z0,{})})}),dN=({onVideoSaved:e,onVideoUploaded:t,maxDurationSeconds:n=300,className:r=""})=>{const[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[h,d]=v.useState(null),[f,g]=v.useState(0),[x,y]=v.useState(null),[k,m]=v.useState(!1),[p,w]=v.useState(!1),j=v.useRef(null),b=v.useRef(null),N=v.useRef(null),C=v.useRef(null),S=v.useRef([]),T=v.useRef(null),P=v.useCallback(async()=>{try{d(null);const _=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0});C.current=_,j.current&&(j.current.srcObject=_),u(!0)}catch(_){d("Unable to access camera. Please ensure you have granted camera permissions."),console.error("Camera initialization error:",_)}},[]),R=v.useCallback(()=>{C.current&&(C.current.getTracks().forEach(_=>_.stop()),C.current=null),u(!1)},[]),F=v.useCallback(()=>{if(C.current)try{S.current=[];const _=new MediaRecorder(C.current,{mimeType:"video/webm;codecs=vp9"});N.current=_,_.ondataavailable=O=>{O.data.size>0&&S.current.push(O.data)},_.onstop=()=>{const O=new Blob(S.current,{type:"video/webm"}),W=URL.createObjectURL(O),ee=new Date,D=`kata-practice-${ee.toISOString().split("T")[0]}-${Date.now()}.webm`,U={blob:O,url:W,duration:f,timestamp:ee,filename:D};y(U),e&&e(U),g(0),a(!1),l(!1)},_.start(1e3),a(!0),l(!1),T.current=setInterval(()=>{g(O=>{const W=O+1;return W>=n?($(),O):W})},1e3)}catch(_){d("Unable to start recording. Please try again."),console.error("Recording start error:",_)}},[n,e,f]),$=v.useCallback(()=>{N.current&&N.current.state!=="inactive"&&N.current.stop(),T.current&&(clearInterval(T.current),T.current=null)},[]),H=v.useCallback(()=>{N.current&&(o?(N.current.resume(),T.current=setInterval(()=>{g(_=>{const O=_+1;return O>=n?($(),_):O})},1e3),l(!1)):(N.current.pause(),T.current&&(clearInterval(T.current),T.current=null),l(!0)))},[o,n,$]);v.useCallback(()=>{b.current&&x&&(k?(b.current.pause(),m(!1)):(b.current.play(),m(!0)))},[k,x]);const fe=v.useCallback(()=>{if(!x)return;const _=document.createElement("a");_.href=x.url,_.download=x.filename,document.body.appendChild(_),_.click(),document.body.removeChild(_)},[x]),xt=v.useCallback(()=>{x&&(URL.revokeObjectURL(x.url),y(null),m(!1))},[x]),J=v.useCallback(async()=>{if(!(!x||!t)){w(!0);try{await new Promise(_=>setTimeout(_,2e3)),t(x.url),w(!1)}catch(_){d("Failed to upload video. Please try again."),w(!1),console.error("Upload error:",_)}}},[x,t]),E=_=>{const O=Math.floor(_/60),W=_%60;return`${O.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`};return v.useEffect(()=>(P(),()=>{R(),T.current&&clearInterval(T.current)}),[P,R]),i.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${r}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(kr,{className:"text-blue-600 mr-2",size:24}),i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Practice Video Recorder"})]}),x&&i.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[i.jsx(_i,{className:"text-green-500 mr-1",size:16}),"Video ready (",E(x.duration),")"]})]}),h&&i.jsxs(L.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center",children:[i.jsx(tg,{className:"text-red-500 mr-2",size:20}),i.jsx("span",{className:"text-red-700",children:h})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:c?i.jsxs(i.Fragment,{children:[i.jsx("video",{ref:j,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),i.jsx(Fa,{children:s&&i.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-4 left-4 flex items-center bg-red-600 text-white px-3 py-1 rounded-full",children:[i.jsx(L.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1},className:"w-2 h-2 bg-white rounded-full mr-2"}),"REC ",E(f)]})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center space-x-3",children:s?i.jsxs(i.Fragment,{children:[i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,className:"bg-yellow-600 hover:bg-yellow-700 text-white p-3 rounded-full shadow-lg",children:o?i.jsx(_s,{size:24}):i.jsx(K1,{size:24})}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$,className:"bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-full shadow-lg",children:i.jsx(Y1,{size:24})})]}):i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:F,className:"bg-red-600 hover:bg-red-700 text-white p-3 rounded-full shadow-lg",children:i.jsx(Qd,{size:24})})})]}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(Qd,{size:48,className:"mx-auto mb-2"}),i.jsx("p",{children:"No camera access"}),i.jsx("button",{onClick:P,className:"mt-2 text-blue-600 hover:text-blue-700 underline",children:"Try again"})]})})}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["Max duration: ",E(n)]}),s&&i.jsx("span",{className:`font-medium ${o?"text-yellow-600":"text-red-600"}`,children:o?"Paused":"Recording..."})]})]}),i.jsx("div",{className:"space-y-4",children:x?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:i.jsx("video",{ref:b,src:x.url,controls:!0,className:"w-full h-full",onPlay:()=>m(!0),onPause:()=>m(!1),onEnded:()=>m(!1)})}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{children:["Duration: ",E(x.duration)]}),i.jsxs("p",{children:["Recorded: ",x.timestamp.toLocaleTimeString()]})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:fe,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(rg,{size:16,className:"mr-2"}),"Download"]}),t&&i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:J,disabled:p,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[i.jsx(G1,{size:16,className:"mr-2"}),p?"Uploading...":"Share"]}),i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:xt,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[i.jsx(Rl,{size:16,className:"mr-2"}),"Delete"]})]})]}):i.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50 rounded-lg aspect-video",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(kr,{size:48,className:"mx-auto mb-2"}),i.jsx("p",{children:"No video recorded yet"}),i.jsx("p",{className:"text-sm",children:"Start recording to see playback here"})]})})})]})]})},hN=()=>{const{childName:e,isParentMode:t}=gn(),{addSession:n}=at(),[r,s]=v.useState("setup"),[a,o]=v.useState({kataName:"",repetitions:5,focusAreas:[],selfRating:0,notes:"",duration:0,videoUrl:void 0}),[l]=v.useState(["Heian Shodan","Heian Nidan","Heian Sandan","Heian Yondan","Heian Godan","Tekki Shodan","Bassai Dai","Kanku Dai","Empi","Jion"]),[c]=v.useState(["Stances","Timing","Power","Balance","Transitions","Breathing","Focus","Precision"]),[u,h]=v.useState(!1),[d,f]=v.useState(null),g=j=>{const b=URL.createObjectURL(j.blob);o(N=>({...N,videoUrl:b,duration:j.duration})),s("review")},x=j=>{o(b=>({...b,videoUrl:j}))},y=()=>{f(new Date),s("recording")},k=j=>{o(b=>({...b,focusAreas:b.focusAreas.includes(j)?b.focusAreas.filter(N=>N!==j):[...b.focusAreas,j]}))},m=async()=>{h(!0);try{await n({id:Date.now().toString(),date:d||new Date,duration:a.duration,katas:[a.kataName],punches:0,pointsEarned:Math.floor(a.duration/10)+a.selfRating*2,notes:a.notes,videoUrl:a.videoUrl,repetitions:a.repetitions,focusAreas:a.focusAreas,selfRating:a.selfRating}),s("complete")}catch(j){console.error("Failed to save practice session:",j)}finally{h(!1)}},p=()=>{o({kataName:"",repetitions:5,focusAreas:[],selfRating:0,notes:"",duration:0,videoUrl:void 0}),s("setup"),f(null)},w=()=>{switch(r){case"setup":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(kr,{className:"mx-auto text-blue-600 mb-4",size:48}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Set Up Your Practice Session"}),i.jsx("p",{className:"text-gray-600",children:"Configure your kata practice before recording"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Kata to Practice"}),i.jsxs("select",{value:a.kataName,onChange:j=>o(b=>({...b,kataName:j.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Choose a kata..."}),l.map(j=>i.jsx("option",{value:j,children:j},j))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Repetitions"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("input",{type:"range",min:"1",max:"20",value:a.repetitions,onChange:j=>o(b=>({...b,repetitions:parseInt(j.target.value)})),className:"flex-1"}),i.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-medium",children:a.repetitions})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Focus Areas (Select what you want to work on)"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:c.map(j=>i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(j),className:`p-2 rounded-lg border transition-colors ${a.focusAreas.includes(j)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-300"}`,children:j},j))})]}),i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,disabled:!a.kataName,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",children:[i.jsx(_s,{className:"mr-2",size:20}),"Start Recording Practice Session"]})]})]});case"recording":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Recording: ",a.kataName]}),i.jsxs("p",{className:"text-gray-600",children:["Practice ",a.repetitions," repetitions focusing on: ",a.focusAreas.join(", ")]})]}),i.jsx(dN,{onVideoSaved:g,onVideoUploaded:x,maxDurationSeconds:900,className:"max-w-6xl mx-auto"}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Practice Tips:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Perform each repetition with focus and intention"}),i.jsx("li",{children:"• Take breaks between repetitions if needed"}),i.jsx("li",{children:"• Maintain proper form throughout"}),i.jsx("li",{children:"• Review your video before finishing to self-assess"})]})]})]});case"review":return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(_i,{className:"mx-auto text-green-600 mb-4",size:48}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Your Practice Session"}),i.jsx("p",{className:"text-gray-600",children:"Add your reflection and self-assessment"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Your Practice Video"}),a.videoUrl&&i.jsx("video",{src:a.videoUrl,controls:!0,className:"w-full rounded-lg"}),i.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[i.jsx(La,{className:"mr-1",size:16}),"Duration: ",Math.floor(a.duration/60),":",(a.duration%60).toString().padStart(2,"0")]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Self-Assessment"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How did you perform? (1-5 stars)"}),i.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(j=>i.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(b=>({...b,selfRating:j})),children:i.jsx(vo,{className:`h-8 w-8 ${j<=a.selfRating?"text-yellow-400 fill-current":"text-gray-300"}`})},j))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Practice Notes & Reflection"}),i.jsx("textarea",{value:a.notes,onChange:j=>o(b=>({...b,notes:j.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"What went well? What can you improve next time?"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Session Summary"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("div",{children:["Kata: ",a.kataName]}),i.jsxs("div",{children:["Repetitions: ",a.repetitions]}),i.jsxs("div",{children:["Focus Areas: ",a.focusAreas.join(", ")||"None selected"]}),i.jsxs("div",{children:["Duration: ",Math.floor(a.duration/60),"m ",a.duration%60,"s"]})]})]}),i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,disabled:u||a.selfRating===0,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-400 flex items-center justify-center",children:u?i.jsx(i.Fragment,{children:"Saving Session..."}):i.jsxs(i.Fragment,{children:[i.jsx(ig,{className:"mr-2",size:20}),"Save Practice Session"]})})]})]})]});case"complete":return i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx(L.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:30},children:i.jsx(_i,{className:"mx-auto text-green-600 mb-4",size:64})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Great Practice Session!"}),i.jsxs("p",{className:"text-lg text-gray-600",children:["Your ",a.kataName," practice has been saved with your video."]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Session Results"}),i.jsxs("div",{className:"space-y-2 text-left",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Duration:"}),i.jsxs("span",{children:[Math.floor(a.duration/60),"m ",a.duration%60,"s"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Self Rating:"}),i.jsx("span",{className:"flex",children:Array.from({length:a.selfRating},(j,b)=>i.jsx(vo,{className:"h-4 w-4 text-yellow-400 fill-current"},b))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Points Earned:"}),i.jsxs("span",{className:"text-green-600 font-bold",children:["+",Math.floor(a.duration/10)+a.selfRating*2]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,className:"bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 flex items-center justify-center",children:[i.jsx(Zd,{className:"mr-2",size:20}),"Practice Another Kata"]}),i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.href="/history",className:"bg-gray-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-700 flex items-center justify-center",children:[i.jsx(V1,{className:"mr-2",size:20}),"View Practice History"]})]})]});default:return null}};return i.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-2",style:t?{}:{fontFamily:"Comic Sans MS, cursive"},children:t?`${e}'s Video Practice`:"Video Practice Session"}),i.jsx("p",{className:"text-gray-600",children:"Record and review your kata practice with video feedback"})]}),i.jsx("div",{className:"flex items-center justify-center mb-8",children:i.jsx("div",{className:"flex items-center space-x-4",children:[{key:"setup",label:"Setup",icon:Zd},{key:"recording",label:"Recording",icon:kr},{key:"review",label:"Review",icon:vo},{key:"complete",label:"Complete",icon:_i}].map((j,b)=>{const N=r===j.key,C=["setup","recording","review","complete"].indexOf(r)>b,S=j.icon;return i.jsxs(Dn.Fragment,{children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${N?"bg-blue-600 border-blue-600 text-white":C?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-400"}`,children:i.jsx(S,{size:20})}),i.jsx("span",{className:`text-xs mt-1 ${N?"text-blue-600 font-medium":C?"text-green-600 font-medium":"text-gray-400"}`,children:j.label})]}),b<3&&i.jsx("div",{className:`w-12 h-0.5 ${C?"bg-green-600":"bg-gray-300"}`})]},j.key)})})}),i.jsx(Fa,{mode:"wait",children:i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:w()},r)})]})};function fN(){const{isAuthenticated:e,loading:t,user:n}=Pt();return console.log("App state:",{isAuthenticated:e,loading:t,hasUser:!!n}),t?(console.log("App showing loading screen"),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-karate-blue via-karate-blueLight to-karate-orange flex items-center justify-center",children:i.jsx("div",{className:"text-white text-xl font-comic",children:"Loading KataMaster... 🥋"})})):e?(console.log("App showing main dashboard"),i.jsx(T1,{children:i.jsx(E1,{children:i.jsx(_1,{children:i.jsx(R1,{children:i.jsx(dg,{children:i.jsxs(f1,{children:[i.jsx(Ue,{path:"/",element:i.jsx(K2,{})}),i.jsx(Ue,{path:"/dashboard",element:i.jsx(uN,{})}),i.jsx(Ue,{path:"/parent",element:i.jsx(XS,{})}),i.jsx(Ue,{path:"/rewards",element:i.jsx(JS,{})}),i.jsx(Ue,{path:"/history",element:i.jsx(ZS,{})}),i.jsx(Ue,{path:"/calendar",element:i.jsx(nN,{})}),i.jsx(Ue,{path:"/settings",element:i.jsx(eN,{})}),i.jsx(Ue,{path:"/kata/:kataId",element:i.jsx(sN,{})}),i.jsx(Ue,{path:"/kata",element:i.jsx(Sf,{})}),i.jsx(Ue,{path:"/kata-reference",element:i.jsx(Sf,{})}),i.jsx(Ue,{path:"/movement-tracker",element:i.jsx(cN,{})}),i.jsx(Ue,{path:"/video-practice",element:i.jsx(hN,{})})]})})})})})})):(console.log("App showing sign-in page"),i.jsx(rN,{}))}function mN(){return i.jsx(w1,{children:i.jsx(C1,{children:i.jsx(fN,{})})})}Fp(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(mN,{})}));
